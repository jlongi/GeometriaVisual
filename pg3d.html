<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>ProGeo3D</title>
  <style type="text/css">
    #TOPMNU,
    #TEXTO,
    #CTRLG,
    #FUNC,
    #FUNCTHIN {
      transition: all 1s;
      -webkit-transition: all 1s;
    }
  </style>
  <script>
    window.addEventListener("load", function() {
      descartesJS.Parser.prototype.registerExternalValues = function() {

        this.functions.changeCursor = function(id, type) {
          let element = document.getElementById(id);
          if (element) {
            element.style.cursor = type;
          }
        }

        this.functions.getSystemTime = function() {
          return Date.now();
        }

      }
    });
  </script>
  <script type="text/javascript" src="lib/sound.js" charset="utf-8"></script>
  <script type="text/javascript" src="lib/descartes-min.js" charset="utf-8"></script>
</head>

<body style="background:#303840; margin:0">

  <div align="center">
    <ajs name="Descartes" code="Descartes" width="1050" height="788">
      <param name="tamaño" value="1050x788">
      <param name="decimal_symbol" value=".">
      <param name="image_loader" value="images/ProGeo3D.png">
      <param name="expand" value="fit">
      <param name="nombre" value="Descartes">
      <param name="Versión" value="5.5">
      <param name="editable" value="no">
      <param name="Idioma" value="español">
      <param name="Botones" value="créditos=no config=no inicio=no limpiar=no filas_norte=0 filas_sur=0 ancho_este=150 ancho_oeste=200 alto=60 ">
      <param name="E_01" value="tipo='R2' id='BACK' fijo='sí' escala='1' despl_imagen='expand.' fondo='((showctrls)?COL[col_menu,_rojo]:COL[col_fondo,_rojo],(showctrls)?COL[col_menu,_verd]:COL[col_fondo,_verd],(showctrls)?COL[col_menu,_azul]:COL[col_fondo,_azul],(showctrls)?COL[col_menu,_trns]:COL[col_fondo,_trns])' red='no' red10='no' ejes='no' ">
      <param name="E_02" value="tipo='R2' id='TOPMNU' y='(showctrls)?0:-bh-5' ancho='BACK._w' alto='bh+6' fijo='sí' escala='1' despl_imagen='centrada' fondo='ff000000' red='no' red10='no' ejes='no' resizable='true' ">
      <param name="E_03" value="tipo='R2' id='E3_2' x='Ex' y='Ey' ancho='Ew' alto='Eh' dibujar-si='show_E3' fijo='sí' fondo='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],[(!showctrls)?1:COL[col_fondo,_trns]])' red='no' red10='no' ejes='no' resizable='true' ">
      <param name="E_04" value="tipo='R2' id='E2' x='Ex' y='Ey' ancho='Ew' alto='Eh' dibujar-si='show_E2' fijo='sí' despl_imagen='expand.' fondo='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],[(!showctrls)?1:COL[col_fondo,_trns]])' red='no' red10='no' ejes='no' resizable='true' ">
      <param name="E_05" value="tipo='R2' id='MOVE' x='Ex' y='Ey' ancho='Ew' alto='Eh' dibujar-si='((status==mover)|(status==zoom))' fijo='sí' escala='1' fondo='ff000000' red='no' red10='no' ejes='no' resizable='true' ">
      <param name="E_06" value="tipo='R2' id='FUNC' x='BACK._w-((view_mode==vm_work)&(FUNCTHIN.x==BACK._w))*FUNC._w' y='bh+6' ancho='FUNCw' alto='FUNCh' fijo='sí' escala='1' fondo='ff000000' red='no' red10='no' ejes='no' resizable='true' ">
      <param name="E_07" value="tipo='R2' id='FUNCTHIN' x='FUNCTHIN.x' y='BACK._h-FUNC._h-6' ancho='bw' alto='FUNCh' fijo='sí' escala='1' fondo='ff000000' red='no' red10='no' ejes='no' resizable='true' ">
      <param name="E_08" value="tipo='R2' id='LEFTRIGHT' x='(viewing)?10:Ex' y='(viewing)?BACK._h-6*szfctr-ebh:Ey+Eh-ebh+(view_mode==vm_wkrd)*5' ancho='LRw' alto='ebh-(view_mode==vm_wkrd)*5' dibujar-si='allowExplore' fijo='sí' escala='1' fondo='ff0050ff' red='no' red10='no' ejes='no' resizable='true' ">
      <param name="E_09" value="tipo='R2' id='CTRLG' y='BACK._h-showctrls*CTRLG._h' ancho='BACK._w' alto='Lph' fijo='sí' escala='1' fondo='ff000000' red='no' red10='no' ejes='no' resizable='true' ">
      <param name="E_10" value="tipo='R2' id='STEPS' x='(showctrls)?Ex+Ew-STEPS._w-5*szfctr:BACK._w-STEPS._w-10' y='(showctrls)?Ey+1:10' ancho='120' alto='40' fijo='sí' fondo='ffff0000' red='no' red10='no' ejes='no' resizable='true' ">
      <param name="E_11" value="tipo='R2' id='RSW' x='(viewing)?10+LRw-ebw:Ex+LRw-ebh' y='(viewing)?BACK._h-6*szfctr-ebh:Ey+Eh-ebh+(view_mode==vm_wkrd)*5' ancho='ebw' alto='ebh' dibujar-si='!inRoliMode' fijo='sí' fondo='ffffffff' red='no' red10='no' ejes='no' resizable='true' ">
      <param name="E_12" value="tipo='R2' id='AUDIO' x='Ex+(Ew-2*bw)/2' y='Ey+1' ancho='2*bw' alto='bh' dibujar-si='hayAudio' fijo='sí' fondo='ffffff00' red='no' red10='no' ejes='no' resizable='true' ">
      <param name="E_13" value="tipo='R2' id='CONFIRM' x='30%' y='30%' ancho='40%' alto='30%' dibujar-si='confirmar' fijo='sí' fondo='ff000000' red='no' red10='no' ejes='no' ">
      <param name="E_14" value="tipo='R2' id='TEXTO' x='TEXTO._x+TEXTO_rght*(BACK._w-TEXTO._w)/2' y='(edit_text)?(1+TEXTO_dn)*(BACK._h-TEXTO._h)/2:BACK._h' ancho='TEXTO._w' alto='TEXTO._h' fijo='sí' escala='1' O.x='-420' O.y='180' fondo='ff000000' red='no' red10='no' ejes='no' resizable='true' ">
      <param name="E_15" value="tipo='HTMLIFrame' id='TCL' x='BACK._w-780' y='BACK._h-270' ancho='780' alto='270' dibujar-si='TCL.ready' archivo='tools/Teclado.html' ">
      <param name="C_01" value="id='b_nueva' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' expresión='(Xcg(nueva),Ycg(nueva),cgw,cgh)' color='(COL[col_iconos,_rojo],COL[col_iconos,_verd],COL[col_iconos,_azul],00)' color-int='(COL[col_botones,_rojo],COL[col_botones,_verd],COL[col_botones,_azul],ff)' fuente puntos='[font_sz]' acción='calcular' parámetro='confirmarAccion(&squot;nueva&squot;)' dibujar-si='bsOn' extra_style='flat=1|' tooltip='escena nueva' ">
      <param name="C_02" value="id='b_seeAll' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' expresión='(Xcg(recuperar),Ycg(recuperar),cgw,cgh)' color='(COL[col_iconos,_rojo],COL[col_iconos,_verd],COL[col_iconos,_azul],(!hayOcultos())/2)' color-int='(COL[col_botones,_rojo],COL[col_botones,_verd],COL[col_botones,_azul],ff)' text_align='a_bottom_center' fuente puntos='[font_sz]' acción='calcular' parámetro='(!iconCond(recuperar))?MostrarTodo():&squot;&squot;;(!iconCond(recuperar))?minSize1():&squot;&squot;;saveStepInfo(paso);switchToStepInfo(paso);;;' dibujar-si='bsOn' extra_style='flat=1|' tooltip='recuperar todo lo escondido' ">
      <param name="C_03" value="id='b_hide' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' expresión='(Xcg(ocultar),Ycg(ocultar),cgw,cgh)' color='(COL[col_iconos,_rojo],COL[col_iconos,_verd],COL[col_iconos,_azul],(selOBGRA<0)/2)' color-int='ff000000' text_align='a_bottom_center' fuente puntos='[font_sz]' acción='calcular' parámetro='status=ocultar' dibujar-si='bsOn' extra_style='flat=1|' tooltip='esconder' ">
      <param name="C_04" value="id='b_cambio' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' expresión='(Xcg(cambio),Ycg(cambio),cgw,cgh)' color='(COL[col_iconos,_rojo],COL[col_iconos,_verd],COL[col_iconos,_azul],(selOBGRA<0)/2)' color-int='(COL[col_botones,_rojo],COL[col_botones,_verd],COL[col_botones,_azul],ff)' text_align='a_bottom_center' fuente puntos='[font_sz]' acción='calcular' parámetro='selOBGRA=-1;status0=status;status=(status0==cambia_grosor)?cambiar:status;status=(status0==cambia_color)?cambia_grosor:status;status=(status0==cambiar)?cambia_color:status;status=((status0>=explorar)|(status<=nombrar))?cambiar:status;' dibujar-si='bsOn' extra_style='flat=1|' tooltip='cambiar color / grosor' ">
      <param name="C_05" value="id='b_anchom' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' expresión='(Xcg(grosor),0,cgw/2,cgh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='ffff0000' fuente puntos='15' imagen='[get_svg(&squot;minus&squot;,(ancho==0))]' acción='calcular' parámetro='ancho=max(0,ancho-1);(selOBGRA>=0)?setColSz(selOBGRA):&squot;&squot;;(selOBGRA>=0)?_Eval_(OBGRA[selOBGRA,_func]):&squot;&squot;' dibujar-si='bsOn' extra_style='flat=1|' tooltip='disminuir el grosor' ">
      <param name="C_06" value="id='b_anchop' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' expresión='(Xcg(grosor)+ent(cgw/2),0,cgw/2,cgh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='ffff0000' fuente puntos='15' imagen='[get_svg(&squot;plus&squot;,(ancho==9))]' acción='calcular' parámetro='ancho=min(9,ancho+1);(selOBGRA>=0)?setColSz(selOBGRA):&squot;&squot;;(selOBGRA>=0)?_Eval_(OBGRA[selOBGRA,_func]):&squot;&squot;' dibujar-si='bsOn' extra_style='flat=1|' tooltip='aumentar el grosor' ">
      <param name="C_07" value="id='b_ednombre' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' nombre='[(selOBGRA>=0)?OBGRA[selOBGRA,_name]:&squot;&squot;]' expresión='(name_x,name_y,name_w,name_h)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='ff000000' cursiva='sí' font_family='Serif' fuente puntos='21' acción='calcular' parámetro='status=(status!=nombrar)?nombrar:explorar;_estado_=(status==nombrar)?0: _estado_;((selOBGRA>=0)&(status==nombrar))?nameOne():&squot;&squot;' dibujar-si='bsOn' extra_style='flat=1|' tooltip='editar nombres' ">
      <param name="C_08" value="id='b_edsubnombre' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' nombre='[(selOBGRA>=0)?OBGRA[selOBGRA,_subix]:&squot;&squot;]' expresión='(subix_x,subix_y,subix_w,subix_h)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='ff000000' cursiva='sí' font_family='Serif' fuente puntos='15' acción='calcular' parámetro='status=(status!=subnombrar)?subnombrar:explorar;_estado_=(status==subnombrar)?1: _estado_;((selOBGRA>=0)&(status==subnombrar))?nameOne():&squot;&squot;' dibujar-si='bsOn' extra_style='flat=1|' tooltip='editar subíndices' ">
      <param name="C_09" value="id='b_grosor_value' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' nombre='[ancho]' expresión='(Xcg(grosor)+ent(cgw/48),1,cgw,cgh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='(COL[col_botones,_rojo],COL[col_botones,_verd],COL[col_botones,_azul],ff)' fuente puntos='[17*szfctr]' extra_style='flat=1|' ">
      <param name="C_10" value="id='b_undo' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' nombre='[(CG2D_sz==movil_sz)?&squot;&squot;:&squot;Deshacer&squot;]' expresión='(Xcg(deshacer),Ycg(deshacer),cgw,cgh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='ff000000' text_align='a_bottom_center' fuente puntos='[font_sz]' acción='calcular' parámetro='(NOG>minNOG)?undoCnstrct():&squot;&squot;;undoredoicon=&squot;/progeo-undo.svg&squot;' dibujar-si='((status<=nombrar)|(status>=explorar))&(status!=ocultar)' extra_style='flat=1|' tooltip='deshacer construcción ' ">
      <param name="C_11" value="id='b_redo' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' nombre='[(CG2D_sz==movil_sz)?&squot;&squot;:&squot;Rehacer&squot;]' expresión='(Xcg(rehacer),Ycg(rehacer),cgw,cgh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='ff000000' text_align='a_bottom_center' fuente puntos='[font_sz]' acción='calcular' parámetro='(NOG<maxNOG)?redoCnstrct():&squot;&squot;;undoredoicon=&squot;/progeo-redo.svg&squot;;' dibujar-si='((status<=nombrar)|(status>=explorar))&(status!=ocultar)' extra_style='flat=1|' tooltip='rehacer construcción' ">
      <param name="C_12" value="id='b_undo' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' nombre='[(CG2D_sz==movil_sz)?&squot;&squot;:&squot;camb /ocult&squot;]' expresión='(Xcg(deshacer),Ycg(deshacer),cgw,cgh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='ff000000' text_align='a_bottom_center' fuente puntos='[font_sz]' acción='calcular' parámetro='(nCHG>0)?undoChange():&squot;&squot;;' dibujar-si='(((status>nombrar)&(status<explorar))|(status==ocultar))' extra_style='flat=1|' tooltip='deshacer cambio' ">
      <param name="C_13" value="id='b_redo' interfaz='botón' tipo='numérico' región='interior' espacio='CTRLG' nombre='[(CG2D_sz==movil_sz)?&squot;&squot;:&squot;camb /ocult&squot;]' expresión='(Xcg(rehacer),Ycg(rehacer),cgw,cgh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='ff000000' text_align='a_bottom_center' fuente puntos='[font_sz]' acción='calcular' parámetro='(nCHG<maxnCHG)?redoChange():&squot;&squot;' dibujar-si='(((status>nombrar)&(status<explorar))|(status==ocultar))' extra_style='flat=1|' tooltip='rehacer cambio' ">
      <param name="C_14" value="id='prev_step' interfaz='botón' tipo='numérico' región='interior' espacio='STEPS' expresión='(0,0,40,40)' color='(COL[col_iconos,_rojo],COL[col_iconos,_verd],COL[col_iconos,_azul],00)' color-int='ff000000' image_align='a_center_left' fuente puntos='40' imagen='[(paso==0)?&squot;icons_white/topic-step-previous-soft.svg&squot;:&squot;icons_white/topic-step-previous.svg&squot;]' acción='calcular' parámetro='(paso>0)?goToPrevStep():&squot;&squot;;parent.exec(&squot;updateStep&squot;,&squot;&squot;+paso);parent.update();_CLEAN_=1' dibujar-si='(_pasos_>1)' extra_style='flat=1' ">
      <param name="C_15" value="id='b_vista' interfaz='botón' tipo='numérico' región='interior' espacio='LEFTRIGHT' nombre='[(show_E2)?&squot;2D→3D&squot;:&squot;3D→2D&squot;]' expresión='(3,0,ebh,ebh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],!LR_names)' color-int='ff000000' text_align='a_bottom_center' image_align='a_top_center' fuente puntos='8' imagen='[(show_E2)? icons_dir()+&squot;/progeo-2d.svg&squot;:icons_dir()+&squot;/progeo-3d.svg&squot;]' acción='calcular' parámetro='show_E2=1-show_E2;show_E3=1-show_E2;status=explorar;play_icon=(show_E3)?icons_dir()+&squot;/progeo-play.svg&squot;:icons_dir()+&squot;/progeo-play-soft.svg&squot;;calcSpaceParams(1);_CLEAN_=1' dibujar-si='(!EMP)' extra_style='flat=1|' tooltip='2D-3D' ">
      <param name="C_16" value="id='b_planoXY' interfaz='botón' tipo='numérico' región='interior' espacio='LEFTRIGHT' nombre='plano x-y' expresión='(3+ebw,0,ebw,ebh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],(1-planoxy)*0.25+!LR_names)' color-int='ff000000' text_align='a_bottom_center' image_align='a_top_center' fuente puntos='8' imagen='[(planoxy)?icons_dir()+&squot;/progeo-3d-plane.svg&squot;: icons_dir()+&squot;/progeo-3d-plane-soft.svg&squot;]' acción='calcular' parámetro='planoxy=1-planoxy' dibujar-si='show_E3&(!EMP)' extra_style='flat=1|' tooltip='plano x-y' ">
      <param name="C_17" value="id='b_caja' interfaz='botón' tipo='numérico' región='interior' espacio='LEFTRIGHT' nombre='caja' expresión='(3+2*ebw,0,ebw,ebh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],(1-caja)*0.25+!LR_names)' color-int='ff000000' text_align='a_bottom_center' image_align='a_top_center' fuente puntos='8' imagen='[(caja)?icons_dir()+&squot;/progeo-3d-box.svg&squot;: icons_dir()+&squot;/progeo-3d-box-soft.svg&squot;]' acción='calcular' parámetro='caja=1-caja' dibujar-si='show_E3&(!EMP)' extra_style='flat=1|' tooltip='caja' ">
      <param name="C_18" value="id='b_lngln' interfaz='botón' tipo='numérico' región='interior' espacio='LEFTRIGHT' nombre='[(lngln)?&squot;segmentos&squot;:&squot;líneas&squot;]' expresión='(3+3*ebw,0,ebw,ebh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],(1-lngln)*0.25+!LR_names)' color-int='ff000000' text_align='a_bottom_center' image_align='a_top_center' fuente puntos='8' imagen='[(lngln)? icons_dir()+&squot;/progeo-3d-long-lines.svg&squot;: icons_dir()+&squot;/progeo-3d-long-lines-soft.svg&squot;]' acción='calcular' parámetro='lngln=1-lngln' dibujar-si='show_E3&(!EMP)' extra_style='flat=1|' tooltip='líneas largas' ">
      <param name="C_19" value="id='rwnd' interfaz='botón' tipo='numérico' región='interior' espacio='AUDIO' expresión='(0,0,bw,AUDIO._h)' color='ff000000' color-int='ff000000' fuente puntos='botsz' imagen='[(started)? icons_dir()+&squot;/audio-rewind.svg&squot;: icons_dir()+&squot;/audio-rewind-soft.svg&squot;]' acción='calcular' parámetro='audio.currentTime(0);started=(isPlaying)?1:0' extra_style='flat=1|' ">
      <param name="C_20" value="id='play' interfaz='botón' tipo='numérico' región='interior' espacio='AUDIO' expresión='(bw,0,bw,AUDIO._h)' color='ff000000' color-int='ff000000' fuente puntos='botsz' imagen='[icons_dir()+&squot;/audio-play.svg&squot;]' acción='calcular' parámetro='audio.play();isPlaying=1;started=1' dibujar-si='!isPlaying' extra_style='flat=1|' ">
      <param name="C_21" value="id='pause' interfaz='botón' tipo='numérico' región='interior' espacio='AUDIO' expresión='(bw,0,bw,AUDIO._h)' color='ff000000' color-int='ff000000' fuente puntos='botsz+1' imagen='[icons_dir()+&squot;/audio-pause.svg&squot;]' acción='calcular' parámetro='audio.pause();isPlaying=0' dibujar-si='isPlaying' extra_style='flat=1|' ">
      <param name="C_22" value="id='next_step' interfaz='botón' tipo='numérico' región='interior' espacio='STEPS' expresión='(40,0,40,40)' color='(COL[col_iconos,_rojo],COL[col_iconos,_verd],COL[col_iconos,_azul],00)' color-int='ff000000' image_align='a_center_right' fuente puntos='12' imagen='[(paso+1==_pasos_)?&squot;icons_white/topic-step-next-soft.svg&squot;:&squot;icons_white/topic-step-next.svg&squot;]' acción='calcular' parámetro='(paso+1<_pasos_)?goToNextStep():&squot;&squot;;parent.exec(&squot;updateStep&squot;,&squot;&squot;+paso);parent.update();_CLEAN_=1;' dibujar-si='(_pasos_>1)' extra_style='flat=1' ">
      <param name="C_23" value="id='b_name' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' nombre='[(_length_(_file_name_)<=27)?_file_name_:_substring_(_file_name_,0,27)+&squot;…&squot;]' expresión='(2,2,bsp.left-bsp.w*2/3-bsp.w,bsp.h)' color='(COL[azul_descartes_strong,_rojo],COL[azul_descartes_strong,_verd],COL[azul_descartes_strong,_azul],00)' color-int='ff000000' text_align='a_center_left' negrita='sí' fuente puntos='15' dibujar-si='_file_name_!=0' extra_style='flat=1' tooltip='nombre del archivo pg3' ">
      <param name="C_24" value="id='b_expl' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' nombre='expl' expresión='(bsp.left-bsp.w*2/3-bsp.w,5,bsp.w,bsp.h-3)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='ff000000' negrita='sí' fuente puntos='15' acción='calcular' parámetro='b_EA=1-b_EA;PASOS[paso,12]=b_EA' extra_style='flat=1' tooltip='presentar o no los textos al abrir la escena' ">
      <param name="C_25" value="id='b_EA' tipo='checkbox' región='interior' espacio='TEXTO' expresión='(bsp.left-bsp.w*2/3,3+bsp.h/6,bsp.h*2/3,bsp.h*2/3-1)' valor='1' acción='calcular' parámetro='PASOS[paso,12]=b_EA' position='a_right' ">
      <param name="C_26" value="id='b_L' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(bsp.left+0*bsp.w,2,bsp.w,bsp.h)' color='ff000000' color-int='ff000000' text_align='a_center_left' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-left.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_L)' extra_style='flat=1|' tooltip='escena a la izquierda' ">
      <param name="C_27" value="id='b_R' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(bsp.left+1*bsp.w,2,bsp.w,bsp.h)' color='ff000000' color-int='ff000000' text_align='a_center_right' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-right.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_R)' extra_style='flat=1|' tooltip='escena a la derecha' ">
      <param name="C_28" value="id='b_TL' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(bsp.left+2*bsp.w,2,bsp.w,bsp.h)' color='ff000000' color-int='ff000000' text_align='a_top_left' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-left-top.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_TL)' extra_style='flat=1|' tooltip='escena a la arriba a la izquierda' ">
      <param name="C_29" value="id='b_BL' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(bsp.left+3*bsp.w,2,bsp.w,bsp.h)' color='ff000000' color-int='ff000000' text_align='a_bottom_left' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-left-bottom.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_BL)' extra_style='flat=1|' tooltip='escena a la abajo a la izquierda' ">
      <param name="C_30" value="id='b_TR' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(bsp.left+4*bsp.w,2,bsp.w,bsp.h)' color='ff000000' color-int='ff000000' text_align='a_top_right' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-right-top.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_TR)' extra_style='flat=1|' tooltip='escena a la arriba a la derecha' ">
      <param name="C_31" value="id='b_BR' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(bsp.left+5*bsp.w,2,bsp.w,bsp.h)' color='ff000000' color-int='ff000000' text_align='a_bottom_right' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-right-bottom.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_BR)' extra_style='flat=1|' tooltip='escena abajo a la derecha' ">
      <param name="C_32" value="id='b_T' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(bsp.left+6*bsp.w,2,bsp.w,bsp.h)' color='ff000000' color-int='ff000000' text_align='a_top_right' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-top.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_T)' extra_style='flat=1|' tooltip='escena arriba' ">
      <param name="C_33" value="id='b_B' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(bsp.left+7*bsp.w,2,bsp.w,bsp.h)' color='ff000000' color-int='ff000000' text_align='a_bottom_right' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-bottom.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_B)' extra_style='flat=1|' tooltip='escena abajo' ">
      <param name="C_34" value="id='subir' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' nombre='↑' expresión='(0,60,40,40)' color='ff404040' color-int='ff000000' fuente puntos='24' imagen='[icons_dir()+&squot;/topic-edit-ui-top.svg&squot;]' acción='calcular' parámetro='TEXTO_dn=max(TEXTO_dn-1,-2)' extra_style='flat=1' tooltip='subir editor' ">
      <param name="C_35" value="id='der' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' nombre='→' expresión='(0,60+80,40,40)' color='ff404040' color-int='ff000000' fuente puntos='24' imagen='[icons_dir()+&squot;/topic-edit-ui-right.svg&squot;]' acción='calcular' parámetro='TEXTO_rght=(TEXTO_rght<0)?0:3.2' extra_style='flat=1|' tooltip='mover el editor a la derecha' ">
      <param name="C_36" value="id='izq' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' nombre='←' expresión='(0,60+160,40,40)' color='ff404040' color-int='ff000000' fuente puntos='24' imagen='[icons_dir()+&squot;/topic-edit-ui-left.svg&squot;]' acción='calcular' parámetro='TEXTO_rght=(TEXTO_rght>0)?0:-1' extra_style='flat=1|' tooltip='mover el editor a la izquierda' ">
      <param name="C_37" value="id='bajar' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' nombre='↓' expresión='(0,60+240,40,40)' color='ff404040' color-int='ff000000' fuente puntos='24' imagen='[icons_dir()+&squot;/topic-edit-ui-bottom.svg&squot;]' acción='calcular' parámetro='TEXTO_dn=min(TEXTO_dn+1,2)' tooltip='bajar el editor' ">
      <param name="C_38" value="id='Enelpaso' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' nombre='Paso' expresión='(TEXTO._w-262,3,38,32)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='fff0f8ff' negrita='sí' fuente puntos='15' extra_style='flat=1|' tooltip='éste es el texto del paso ...' ">
      <param name="C_39" value="id='b_prev' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(TEXTO._w-227,1,40,34)' color='404040' color-int='(COL[col_botones,_rojo],COL[col_botones,_verd],COL[col_botones,_azul],ff)' image_align='a_center_left' fuente puntos='15' imagen='[(paso>0)?icons_dir()+&squot;/topic-edit-step-previous.svg&squot;:icons_dir()+&squot;/topic-edit-step-previous-soft.svg&squot;]' acción='calcular' parámetro='(paso>0)?goToPrevStep():&squot;&squot;;_CLEAN_=1;' extra_style='flat=1|' ">
      <param name="C_40" value="id='b_next' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(TEXTO._w-173,1,40,34)' color='404040' color-int='(COL[col_botones,_rojo],COL[col_botones,_verd],COL[col_botones,_azul],ff)' image_align='a_center_right' fuente puntos='15' imagen='[(paso+1<_pasos_)? icons_dir()+&squot;/topic-edit-step-next.svg&squot;: icons_dir()+&squot;/topic-edit-step-next-soft.svg&squot;]' acción='calcular' parámetro='(paso+1<_pasos_)?goToNextStep():&squot;&squot;;_CLEAN_=1;;' extra_style='flat=1|' ">
      <param name="C_41" value="id='b_paso' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' nombre='[(paso+1)+&squot; / &squot;+_pasos_]' expresión='(TEXTO._w-218,3,80,32)' color='(COL[azul_descartes_strong,_rojo],COL[azul_descartes_strong,_verd],COL[azul_descartes_strong,_azul],00)' color-int='fff0f8ff' negrita='sí' fuente puntos='15' extra_style='flat=1' ">
      <param name="C_42" value="id='b_Ver' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' nombre='ver' expresión='(TEXTO._w-136,3,30,32)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='fff0f8ff' negrita='sí' fuente puntos='15' extra_style='flat=1' tooltip='elementos visibles en este paso' ">
      <param name="C_43" value="id='ver_menos_obgas' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(TEXTO._w-105,1,25,34)' color='404040' color-int='fff0f8ff' negrita='sí' fuente puntos='15' imagen='[(NOGP>minNOG)? icons_dir()+&squot;/topic-edit-step-minus.svg&squot;: icons_dir()+&squot;/topic-edit-step-minus-soft.svg&squot;]' acción='calcular' parámetro='NOGP=max(NOGP-1,minNOG);PASOS[paso,0]=NOGP-1;countCurvasYReglados();_CLEAN_=1;;' extra_style='flat=1|' ">
      <param name="C_44" value="id='ver_mas_obgras' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(TEXTO._w-65,1,25,34)' color='404040' color-int='fff0f8ff' negrita='sí' fuente puntos='15' imagen='[(NOGP<maxNOG)? icons_dir()+&squot;/topic-edit-step-plus.svg&squot;: icons_dir()+&squot;/topic-edit-step-plus-soft.svg&squot;]' acción='calcular' parámetro='NOGP=min(NOGP+1,maxNOG);PASOS[paso,0]=NOGP-1;countCurvasYReglados();_CLEAN_=1' extra_style='flat=1|' ">
      <param name="C_45" value="id='paso_obgas' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' nombre='[NOGP-101]' expresión='(TEXTO._w-95,3,47,32)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='fff0f8ff' negrita='sí' fuente puntos='15' extra_style='flat=1|' ">
      <param name="C_46" value="id='close' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(TEXTO._w-40,0,40,40)' color='404040' color-int='fff0f8ff' negrita='sí' fuente puntos='20' imagen='[icons_dir()+&squot;/topic-edit-close.svg&squot;]' acción='calcular' parámetro='saveStepInfo(paso);edit_text=0' tooltip='cerrar edición de textos' ">
      <param name="C_47" value="id='texto_editado' tipo='texto' espacio='TEXTO' expresión='(40,35,TEXTO._w-80,330)' font_family='Monospaced' fuente puntos='17' info='Texto editado' ">
      <param name="C_48" value="id='b_fams' interfaz='botón' tipo='numérico' región='interior' espacio='LEFTRIGHT' nombre='reglados' expresión='(3+(1+3*show_E3)*ebw,0,ebw,ebh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],!LR_names)' color-int='ff000000' text_align='a_bottom_center' image_align='a_top_center' fuente puntos='8' imagen='[icons_dir()+&squot;/progeo-3d-surface.svg&squot;]' acción='calcular' parámetro='fams=(fams+1)%4' dibujar-si='(num_reglados>0)&(!EMP)' extra_style='flat=1|' tooltip='reglados' ">
      <param name="C_49" value="id='b_move' interfaz='botón' tipo='numérico' región='interior' espacio='LEFTRIGHT' nombre='arrastrar' expresión='(4+LRw/2-ebw,0,ebw,ebh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],(status!=mover)*0.25+!LR_names)' color-int='ff000000' text_align='a_bottom_center' image_align='a_top_center' fuente puntos='8' imagen='[(status==mover)?icons_dir()+&squot;/progeo-move.svg&squot;:icons_dir()+&squot;/progeo-move-soft.svg&squot;]' acción='calcular' parámetro='status=(status==mover)?girar:mover;selOBGRA=-1;' dibujar-si='(!EMP)' extra_style='flat=1' tooltip='arrastrar' ">
      <param name="C_50" value="id='b_expl' interfaz='botón' tipo='numérico' región='interior' espacio='LEFTRIGHT' nombre='explorar' expresión='(4+LRw/2,0,ebw,ebh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],(status!=explorar)*0.25+!LR_names)' color-int='ff000000' text_align='a_bottom_center' image_align='a_top_center' fuente puntos='8' imagen='[(status==explorar)? icons_dir()+&squot;/progeo-select.svg&squot;: icons_dir()+&squot;/progeo-select-soft.svg&squot;]' acción='calcular' parámetro='status=(status==explorar)?girar:explorar;' dibujar-si='(!EMP)' extra_style='flat=1|' tooltip='explorar' ">
      <param name="C_51" value="id='b_zoom' interfaz='botón' tipo='numérico' región='interior' espacio='LEFTRIGHT' nombre='zoom' expresión='(4+LRw/2+ebw,0,ebw,ebh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],(status!=zoom)*0.25+!LR_names)' color-int='ff000000' text_align='a_bottom_center' image_align='a_top_center' fuente puntos='8' imagen='[(status==zoom)?icons_dir()+&squot;/progeo-zoom.svg&squot;: icons_dir()+&squot;/progeo-zoom-soft.svg&squot;]' acción='calcular' parámetro='status=(status==zoom)?girar:zoom;selOBGRA=-1;' dibujar-si='(!EMP)' extra_style='flat=1|' tooltip='zoom' ">
      <param name="C_52" value="id='switchmetric' interfaz='botón' tipo='numérico' región='interior' espacio='FUNC' nombre='[(euclideana)?&squot;Geometría euclidiana&squot;:&squot;Geometría proyectiva&squot;]' expresión='(6,0,FUNC._w-11,39)' valor='&squot;&squot;' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],[TCL.ready/2])' color-int='([euclideana*0.70],[0.05+(!euclideana)*0.45],[0.10+(!euclideana)*0.15],00)' fuente puntos='[14*szfctr]' acción='calcular' parámetro='euclideana=(bsOn)?1-euclideana:euclideana;status=((status>=6)&!euclideana&(!TCL.ready))?explorar:status;_CLEAN_=(!TCL.ready);' extra_style='flat=1|borderRadius=4' ">
      <param name="C_53" value="id='b_reload_step' interfaz='botón' tipo='numérico' región='interior' espacio='LEFTRIGHT' nombre='rec paso' expresión='(LRw-4*ebw+1,0,ebw,ebh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],!LR_names)' color-int='ff000000' text_align='a_bottom_center' image_align='a_top_center' fuente puntos='8' imagen='[icons_dir()+&squot;/progeo-revert.svg&squot;]' acción='calcular' parámetro='confirmarAccion(&squot;rec_paso&squot;)' dibujar-si='(!EMP)' extra_style='flat=1|' tooltip='recuperar paso' ">
      <param name="C_54" value="id='b_names' interfaz='botón' tipo='numérico' región='interior' espacio='LEFTRIGHT' nombre='[(show_names)?&squot;ocultar&squot;:&squot;exhibir&squot;]' expresión='(LRw-3*ebw,0,ebw,ebh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],!LR_names)' color-int='ff000000' text_align='a_bottom_center' image_align='a_top_center' fuente puntos='8' imagen='[(show_names)? icons_dir()+&squot;/progeo-labels-unhide.svg&squot;: icons_dir()+&squot;/progeo-labels-hide.svg&squot;]' acción='calcular' parámetro='show_names=1-show_names' dibujar-si='(!EMP)' tooltip='ver / ocultar nombres' ">
      <param name="C_55" value="id='b_play' interfaz='botón' tipo='numérico' región='interior' espacio='LEFTRIGHT' nombre='animar' expresión='(LRw-2*ebw-1,0,ebw,ebh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],!LR_names)' color-int='ff000000' text_align='a_bottom_center' image_align='a_top_center' fuente puntos='8' imagen='[play_icon]' acción='calcular' parámetro='_anim_on_=(!_anim_on_)?play():0' dibujar-si='(!EMP)' extra_style='flat=1|' tooltip='animar' ">
      <param name="C_56" value="id='b_background' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(0,0,bw,TOPMNU._h)' valor='&squot;&squot;' color='000000' color-int='ff000000' font_family='Serif' fuente puntos='[ent(18*factor_w)]' imagen='[icons_dir()+&squot;/background.svg&squot;]' acción='calcular' parámetro='aspect=1-aspect;updateColors();_CLEAN_=1' extra_style='flat=1|' tooltip='cambiar fondo' ">
      <param name="C_57" value="id='b_progeo3D' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' nombre='ProGeo3D' expresión='(bw,0,2*bw,TOPMNU._h)' color='(COL[azul_descartes_strong,_rojo],COL[azul_descartes_strong,_verd],COL[azul_descartes_strong,_azul],00)' color-int='ff000000' negrita='sí' cursiva='sí' font_family='Serif' fuente puntos='[22*szfctr]' acción='abrir URL' parámetro='[url_links]' extra_style='flat=1|' tooltip='visitar ejemplos' ">
      <param name="C_58" value="id='b_doc' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' nombre='Doc' expresión='(3*bw,0,bw,TOPMNU._h)' color='(COL[azul_descartes_strong,_rojo],COL[azul_descartes_strong,_verd],COL[azul_descartes_strong,_azul],00)' color-int='ff000000' negrita='sí' cursiva='sí' font_family='Serif' fuente puntos='[22*szfctr]' acción='abrir URL' parámetro='[url_doc]' extra_style='flat=1|' tooltip='acceder a la documentación' ">
      <param name="C_59" value="id='edit_the_title' tipo='numérico' interfaz='campo de texto' solo_texto='sí' región='interior' espacio='TOPMNU' expresión='(4.25*bw,0,TOPMNU._w-11*bw,TOPMNU._h)' valor='&squot;&squot;' visible='sí' acción='calcular' parámetro='the_title=edit_the_title;edit_title=0;_CLEAN_=1' dibujar-si='(edit_title)' ">
      <param name="C_60" value="id='b_title' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' nombre='[the_title]' expresión='(4.25*bw,0,TOPMNU._w-11*bw,TOPMNU._h)' color='(COL[azul_descartes_strong,_rojo],COL[azul_descartes_strong,_verd],COL[azul_descartes_strong,_azul],00)' color-int='ff000000' negrita='sí' cursiva='sí' font_family='Serif' fuente puntos='[22*szfctr]' acción='calcular' parámetro='edit_title=1;edit_the_title=the_title' dibujar-si='(!edit_title)' extra_style='flat=1|' tooltip='editar el título' ">
      <param name="C_61" value="id='b_load_pg3' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(TOPMNU._w-6.5*bw,0,bw,TOPMNU._h)' color='(COL[col_iconos,_rojo],COL[col_iconos,_verd],COL[col_iconos,_azul],(!((selOBGRA>=0)&(OBGRA[selOBGRA,_type]==control)&(OBGRA[selOBGRA,_cnstr]!=&squot;&squot;)))/2)' color-int='ff000000' text_align='a_bottom_center' fuente puntos='18' imagen='[icons_dir()+&squot;/topic-open.svg&squot;]' acción='calcular' parámetro='openingfile=1;status=explorar;_Open_(&squot;callback_openFile&squot;);' extra_style='flat=1|' tooltip='leer pg3' ">
      <param name="C_62" value="id='b_reload_pg3' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(TOPMNU._w-5.5*bw,0,bw,TOPMNU._h)' color='(COL[col_iconos,_rojo],COL[col_iconos,_verd],COL[col_iconos,_azul],(!((selOBGRA>=0)&(OBGRA[selOBGRA,_type]==control)&(OBGRA[selOBGRA,_cnstr]!=&squot;&squot;)))/2)' color-int='ff000000' fuente puntos='18' imagen='[icons_dir()+&squot;/topic-revert.svg&squot;]' acción='calcular' parámetro='confirmarAccion(&squot;reload&squot;)' extra_style='flat=1|' tooltip='releer pg3' ">
      <param name="C_63" value="id='b_save_pg3' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(TOPMNU._w-4.5*bw,0,bw,TOPMNU._h)' color='000000' color-int='ffeeeeee' text_align='a_top_center' fuente puntos='8' imagen='[icons_dir()+&squot;/topic-save.svg&squot;]' acción='calcular' parámetro='the_Content=Guardar_getAppStr(the_file);the_Content=_replace_(the_Content,&squot;\r&squot;,&squot;&squot;);_file_name_=((the_title!=&squot;&squot;)&(_file_name_==&squot;sin_nombre.pg3&squot;))?_replace_(the_title,&squot; &squot;,&squot;_&squot;)+&squot;.pg3&squot;:_file_name_;_Save_(_file_name_,the_Content);' extra_style='flat=1|' tooltip='guardar pg3' ">
      <param name="C_64" value="id='b_L' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(TOPMNU._w-3*bw,0,bw,TOPMNU._h)' color='ff000000' color-int='ff000000' text_align='a_center_left' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-left.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_L)' dibujar-si='(read_mode==rm_L)|(read_mode==rm_R)' extra_style='flat=1|' tooltip='escena a la izquierda' ">
      <param name="C_65" value="id='b_R' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(TOPMNU._w-2*bw,0,bw,TOPMNU._h)' color='ff000000' color-int='ff000000' text_align='a_center_right' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-right.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_R)' dibujar-si='(read_mode==rm_L)|(read_mode==rm_R)' extra_style='flat=1|' tooltip='escena a la derecha' ">
      <param name="C_66" value="id='b_TL' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(TOPMNU._w-3*bw,0,bw,TOPMNU._h)' color='ff000000' color-int='ff000000' text_align='a_top_left' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-left-top.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_TL)' dibujar-si='(read_mode==rm_TL)|(read_mode==rm_BL)' extra_style='flat=1|' tooltip='escena arriba a la izquierda' ">
      <param name="C_67" value="id='b_BL' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(TOPMNU._w-2*bw,0,bw,TOPMNU._h)' color='ff000000' color-int='ff000000' text_align='a_bottom_left' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-left-bottom.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_BL)' dibujar-si='(read_mode==rm_TL)|(read_mode==rm_BL)' extra_style='flat=1|' tooltip='escena abajo a la izquierda' ">
      <param name="C_68" value="id='b_TR' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(TOPMNU._w-3*bw,0,bw,TOPMNU._h)' color='ff000000' color-int='ff000000' text_align='a_top_right' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-right-top.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_TR)' dibujar-si='(read_mode==rm_TR)|(read_mode==rm_BR)' extra_style='flat=1|' tooltip='escena arriba a la derecha' ">
      <param name="C_69" value="id='b_BR' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(TOPMNU._w-2*bw,0,bw,TOPMNU._h)' color='ff000000' color-int='ff000000' text_align='a_bottom_right' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-right-bottom.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_BR)' dibujar-si='(read_mode==rm_TR)|(read_mode==rm_BR)' extra_style='flat=1|' tooltip='escena abajo a la derecha' ">
      <param name="C_70" value="id='b_lckcps' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(7,TEXTO._h-70,28,64)' color='222222' color-int='(COL[col_menu,_rojo],COL[col_menu,_verd],COL[col_menu,_azul],COL[col_menu,_trns])' font_family='Serif' fuente puntos='12' imagen='[(sYmB)?icons_dir()+&squot;/topic-edit-keyboard-caps-lock-on.svg&squot;:icons_dir()+&squot;/topic-edit-keyboard-caps-lock-off.svg&squot;]' acción='calcular' parámetro='sYmB=1-sYmB;_CLEAN_=1' extra_style='flat=1|' tooltip='mayúsculas / minúsculas' ">
      <param name="C_71" value="id='switchmetric' interfaz='botón' tipo='numérico' región='interior' espacio='FUNCTHIN' nombre='[(euclideana)?&squot;Eucl&squot;:&squot;Proy&squot;]' expresión='(1,0,bw-5,24)' valor='&squot;&squot;' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],[TCL.ready/2])' color-int='([euclideana*0.70],[0.05+(!euclideana)*0.45],[0.10+(!euclideana)*0.15],00)' fuente puntos='[12*szfctr]' acción='calcular' parámetro='euclideana=(bsOn)?1-euclideana:euclideana;status=((status>=6)&!euclideana&(!TCL.ready))?explorar:status;_CLEAN_=(!TCL.ready);' extra_style='flat=1|borderRadius=3' ">
      <param name="C_72" value="id='add' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(TEXTO._w-40,34+(TEXTO._h-109)/4-35,40,70)' color='404040' color-int='fff0f8ff' fuente puntos='19' imagen='[icons_dir()+&squot;/topic-edit-step-add.svg&squot;]' acción='calcular' parámetro='saveStepInfo(paso);step_read_mode=read_mode;paso=_pasos_;_pasos_=_pasos_+1;NOG=maxNOG;MostrarTodo();turnOnColors();countCurvasYReglados();PASOS[paso,0]=NOG-1;texto_editado=&squot;Texto de este paso&squot;;PASOS[paso,1]=texto_editado;PASOS[paso,9]=step_read_mode;goToStep(paso);_CLEAN_=1;' extra_style='flat=1' tooltip='agregar paso' ">
      <param name="C_73" value="id='insert' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(TEXTO._w-40,34+(TEXTO._h-109)*2/4-35,40,70)' color='404040' color-int='fff0f8ff' fuente puntos='19' imagen='[icons_dir()+&squot;/topic-edit-step-insert.svg&squot;]' acción='calcular' parámetro='insert_paso();PASOS[paso,0]=NOG-1;texto_editado=&squot;Texto de este paso&squot;;PASOS[paso,1]=texto_editado;goToStep(paso);_CLEAN_=1;' extra_style='flat=1' tooltip='insertar paso' ">
      <param name="C_74" value="id='b_T' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(TOPMNU._w-3*bw,0,bw,TOPMNU._h)' color='([(PASOS[paso,9]==&squot;TR&squot;)?0:COL[gris,_rojo]],[(PASOS[paso,9]==&squot;TR&squot;)?0:COL[gris,_verd]],[(PASOS[paso,9]==&squot;TR&squot;)?0:COL[gris,_azul]],00)' color-int='ff000000' text_align='a_top_right' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-top.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_T)' dibujar-si='(read_mode==rm_T)|(read_mode==rm_B)' extra_style='flat=1|' tooltip='escena arriba' ">
      <param name="C_75" value="id='b_B' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(TOPMNU._w-2*bw,0,bw,TOPMNU._h)' color='([(PASOS[paso,9]==&squot;BR&squot;)?0:COL[gris,_rojo]],[(PASOS[paso,9]==&squot;BR&squot;)?0:COL[gris,_verd]],[(PASOS[paso,9]==&squot;BR&squot;)?0:COL[gris,_azul]],00)' color-int='ff000000' text_align='a_bottom_right' fuente puntos='11' imagen='[icons_dir()+&squot;/topic-edit-layout-bottom.svg&squot;]' acción='calcular' parámetro='setReadMode(rm_B)' dibujar-si='(read_mode==rm_T)|(read_mode==rm_B)' extra_style='flat=1|' tooltip='escena abajo' ">
      <param name="C_76" value="id='btn_edit' interfaz='botón' tipo='numérico' región='interior' espacio='TOPMNU' expresión='(TOPMNU._w-bw,0,bw,TOPMNU._h)' valor='&squot;&squot;' color='000000' color-int='ff000000' font_family='Serif' fuente puntos='[ent(18*factor_w)]' imagen='[icons_dir()+&squot;/topic-edit.svg&squot;]' acción='calcular' parámetro='edit_text=1-edit_text;texto_editado=PASOS[paso,1];' dibujar-si='!tooSmall' extra_style='flat=1|' tooltip='editar texto' ">
      <param name="C_77" value="id='delete' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(TEXTO._w-40,34+(TEXTO._h-109)*3/4-35,40,70)' color='404040' color-int='fff0f8ff' fuente puntos='19' imagen='[(_pasos_>1)? icons_dir()+&squot;/topic-edit-step-delete.svg&squot;: icons_dir()+&squot;/topic-edit-step-delete-soft.svg&squot;]' acción='calcular' parámetro='(_pasos_>1)?delete_paso():&squot;&squot;;goToStep(paso);' extra_style='flat=1' tooltip='eliminar paso' ">
      <param name="C_78" value="id='accept' interfaz='botón' tipo='numérico' región='interior' espacio='TEXTO' expresión='(TEXTO._w-36, TEXTO._h-70,28,64)' color='404040' color-int='ff000000' negrita='sí' fuente puntos='24' imagen='[icons_dir()+&squot;/topic-edit-accept.svg&squot;]' acción='calcular' parámetro='PASOS[paso,1]=texto_editado;saveStepInfo(paso);goToStep(paso);_CLEAN_=1;' extra_style='flat=1' tooltip='adoptar el texto' ">
      <param name="C_79" value="id='cancel' interfaz='botón' tipo='numérico' región='interior' espacio='CONFIRM' nombre='Cancelar' expresión='(0,CONFIRM._h-56,CONFIRM._w/2,36)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='ff000000' fuente puntos='20' acción='calcular' parámetro='confirmar=0' extra_style='flat=1' ">
      <param name="C_80" value="id='continue' interfaz='botón' tipo='numérico' región='interior' espacio='CONFIRM' nombre='Continuar' expresión='(CONFIRM._w/2,CONFIRM._h-56,CONFIRM._w/2,36)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' color-int='ff000000' fuente puntos='20' acción='calcular' parámetro='continuarAccion()' extra_style='flat=1' ">
      <param name="C_81" value="id='audio' tipo='audio' espacio='BACK' expresión='(0,0)' dibujar-si='0' archivo='[audio_file]' ">
      <param name="C_82" value="id='b_switchView' interfaz='botón' tipo='numérico' región='interior' espacio='STEPS' nombre='[(showctrls&!reading)?&squot;view&squot;:&squot;&squot;]' expresión='(80,0,40,40)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],!LR_names)' color-int='ff000000' text_align='a_bottom_center' fuente puntos='8' imagen='[(showctrls)?icons_dir()+&squot;/progeo-view.svg&squot;:icons_dir()+&squot;/progeo-edit.svg&squot;]' acción='calcular' parámetro='vm_orig=view_mode;view_mode=(vm_orig==vm_work)?vm_view:view_mode;view_mode=(vm_orig==vm_view)?vm_work:view_mode;view_mode=(vm_orig==vm_wkrd)?vm_vwrd:view_mode;view_mode=(vm_orig==vm_vwrd)?vm_wkrd:view_mode;updateViewMode();CLEAN_=1;' dibujar-si='1' extra_style='flat=1' tooltip='mirar o editar' ">
      <param name="C_83" value="id='prev_step' interfaz='botón' tipo='numérico' región='interior' espacio='BACK' expresión='(0,bw,bw,BACK._h-2*bw)' color='(COL[col_iconos,_rojo],COL[col_iconos,_verd],COL[col_iconos,_azul],00)' color-int='ffee1122' fuente puntos='40' imagen='[(paso==0)?&squot;icons_white/topic-step-previous-soft.svg&squot;:&squot;icons_white/topic-step-previous.svg&squot;]' acción='calcular' parámetro='(paso>0)?goToPrevStep():&squot;&squot;;_CLEAN_=1' dibujar-si='(_pasos_>1)&viewing&(!inRoliMode)&!(view_mode==vm_view)' extra_style='flat=1' ">
      <param name="C_84" value="id='next_step' interfaz='botón' tipo='numérico' región='interior' espacio='BACK' expresión='(BACK._w-bw,bw,bw,BACK._h-2*bw)' color='(COL[col_iconos,_rojo],COL[col_iconos,_verd],COL[col_iconos,_azul],00)' color-int='ffee1122' fuente puntos='12' imagen='[(paso+1==_pasos_)?&squot;icons_white/topic-step-next-soft.svg&squot;:&squot;icons_white/topic-step-next.svg&squot;]' acción='calcular' parámetro='(paso+1<_pasos_)?goToNextStep():&squot;&squot;;_CLEAN_=1;' dibujar-si='(_pasos_>1)&viewing&(!inRoliMode)&!(view_mode==vm_view)' extra_style='flat=1' ">
      <param name="C_85" value="id='roli_switchRead' interfaz='botón' tipo='numérico' región='interior' espacio='RSW' nombre='[(showctrls)?&squot;textos&squot;:&squot;escena&squot;]' expresión='(0,0,ebw,ebh)' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],!LR_names)' color-int='ff000000' text_align='a_bottom_center' image_align='a_top_center' fuente puntos='8' imagen='[(reading)?icons_dir()+&squot;/progeo-maximize.svg&squot;:icons_dir()+&squot;/progeo-minimize.svg&squot;]' acción='calcular' parámetro='vm_orig=view_mode;view_mode=(vm_orig==vm_work)?vm_wkrd:view_mode;view_mode=(vm_orig==vm_wkrd)?vm_work:view_mode;view_mode=(vm_orig==vm_view)?vm_vwrd:view_mode;view_mode=(vm_orig==vm_vwrd)?vm_view:view_mode;updateViewMode();_CLEAN_=1' dibujar-si='!inRoliMode' extra_style='flat=1|' tooltip='ver / ocultar textos' ">
      <param name="A_01" value="archivo='biblioteca/Util.txt' tipo='library' ">
      <param name="A_02" value="archivo='biblioteca/Colors.txt' tipo='library' ">
      <param name="A_03" value="archivo='biblioteca/Math.txt' tipo='library' ">
      <param name="A_04" value="archivo='biblioteca/LinearEquations' tipo='library' doc='Librería para resolver sistemas de ecuaciones lineales.;Sirve para crear cónicas por 5 puntos y cúbicas por 9.;Funciones:;initMmemFromM(Msize);AssignMmem5(a1,...,e5);AssignVmem5(v1,...,v5);AssignMmem9(a1,...,e9);AssignVmem9(v1,...,v9);SolveMSeqV(Msize);Solución: (Smem[0],...,Smem[Msize-1]);' ">
      <param name="A_05" value="archivo='biblioteca/ProGeo3D_def.txt' tipo='library' ">
      <param name="A_06" value="archivo='biblioteca/ProGeo3D_cnstr.txt' tipo='library' ">
      <param name="A_07" value="archivo='biblioteca/ProGeo3D_calc.txt' tipo='library' ">
      <param name="A_08" value="archivo='biblioteca/ProGeo3D_gui.txt' tipo='library' ">
      <param name="A_09" value="archivo='biblioteca/ProGeo3D_io.txt' tipo='library' ">
      <param name="A_10" value="archivo='biblioteca/ProGeo3D_grph.txt' tipo='library' ">
      <param name="A_11" value="archivo='biblioteca/ProGeo3D_ifc.txt' tipo='library' ">
      <param name="A_12" value="id='ICON' vector='sí' evaluar='una-sola-vez' tamaño='100' expresión='subnombrar=-9;nombrar=-8;cambia_grosor=-7;cambia_color=-6;cambiar=-5;explorar=-4;girar=-3;solover=-3;mover=-2;zoom=-1;recta=0;intersection=1;segmento=2;inversion=3;plano=4;curva=5;paralela=6;perpendicular=7;pie=7;puntoMedio=8;mediatriz=9;bisectriz=10;angulo=11;circuloRC=12;eje_radical=13;conica5=14;cubica9=15;nF=16;;ICON[recta]=&squot;images/puntos_y_rectas.svg&squot;;ICON[intersection]=&squot;images/intersection.svg&squot;;ICON[curva]=&squot;images/curva.svg&squot;;ICON[plano]=&squot;images/triangle.svg&squot;;ICON[segmento]=&squot;images/segmento.svg&squot;;ICON[inversion]=&squot;images/inversion.svg&squot;;ICON[circuloRC]=&squot;images/circulo.svg&squot;;ICON[mediatriz]=&squot;images/mediatriz.svg&squot;;ICON[puntoMedio]=&squot;images/puntoMedio.svg&squot;;ICON[bisectriz]=&squot;images/bisectriz.svg&squot;;ICON[paralela]=&squot;images/paralela.svg&squot;;ICON[perpendicular]=&squot;images/perpendicular.svg&squot;;ICON[angulo]=&squot;images/angulo.svg&squot;;ICON[eje_radical]=&squot;images/ejePolar.svg&squot;;ICON[conica5]=&squot;images/conica5.svg&squot;;ICON[cubica9]=&squot;images/cubica9.svg&squot;;;nueva=nF+0;recuperar=nF+1;ocultar=nF+2;cambio=nF+3;nSr=nF+4;;rehacer=nSr+0;deshacer=nSr+1;subindices=nSr+2;nombres=nSr+3;grosor=nSr+4;nCG=nSr+5;;play=nSr+6;;;' tipo='vector' ">
      <param name="A_13" value="id='icon_list' vector='sí' evaluar='una-sola-vez' tamaño='40' expresión='&squot;icons_white/background.svg&squot;;&squot;icons_white/progeo-color-hidden.svg&squot;;&squot;icons_white/progeo-editable-off.svg&squot;;&squot;icons_white/progeo-editable-on.svg&squot;;&squot;icons_white/progeo-view.svg&squot;;&squot;icons_white/progeo-edit.svg&squot;;&squot;icons_white/progeo-hide.svg&squot;;&squot;icons_white/progeo-new.svg&squot;;&squot;icons_white/progeo-plus-soft.svg&squot;;&squot;icons_white/progeo-plus.svg&squot;;&squot;icons_white/progeo-minus-soft.svg&squot;;&squot;icons_white/progeo-minus.svg&squot;;&squot;icons_white/progeo-redo-soft.svg&squot;;&squot;icons_white/progeo-redo.svg&squot;;&squot;icons_white/progeo-undo-soft.svg&squot;;&squot;icons_white/progeo-undo.svg&squot;;&squot;icons_white/progeo-unhide-soft.svg&squot;;&squot;icons_white/progeo-unhide.svg&squot;;&squot;icons_white/progeo-play.svg&squot;;&squot;icons_white/progeo-play-soft.svg&squot;;&squot;icons_white/progeo-pause.svg&squot;;&squot;icons_white/progeo-move.svg&squot;;&squot;icons_white/progeo-move-soft.svg&squot;;&squot;icons_white/progeo-select.svg&squot;;&squot;icons_white/progeo-select-soft.svg&squot;;&squot;icons_white/progeo-zoom.svg&squot;;&squot;icons_white/progeo-zoom-soft.svg&squot;;&squot;icons_white/progeo-2d.svg&squot;;&squot;icons_white/progeo-3d.svg&squot;;&squot;icons_white/progeo-3d-plane.svg&squot;;&squot;icons_white/progeo-3d-plane-soft.svg&squot;;&squot;icons_white/progeo-3d-box.svg&squot;;&squot;icons_white/progeo-3d-box-soft.svg&squot;;&squot;icons_white/progeo-3d-surface.svg&squot;;&squot;icons_white/progeo-3d-long-lines.svg&squot;;&squot;icons_white/progeo-3d-long-lines-soft.svg&squot;;&squot;icons_white/progeo-revert.svg&squot;;&squot;icons_white/progeo-labels-hide.svg&squot;;&squot;icons_white/progeo-labels-unhide.svg&squot;;&squot;icons_white/progeo-minimize.svg&squot;;&squot;icons_white/progeo-maximize.svg&squot;;&squot;icons_white/background.svg&squot;;&squot;icons_white/progeo-editable-off.svg&squot;;&squot;icons_white/progeo-editable-on.svg&squot;;&squot;icons_white/progeo-hide.svg&squot;;&squot;icons_white/progeo-new.svg&squot;;&squot;icons_white/progeo-plus-soft.svg&squot;;&squot;icons_white/progeo-plus.svg&squot;;&squot;icons_white/progeo-minus-soft.svg&squot;;&squot;icons_white/progeo-minus.svg&squot;;&squot;icons_white/progeo-redo-soft.svg&squot;;&squot;icons_white/progeo-redo.svg&squot;;&squot;icons_white/progeo-undo-soft.svg&squot;;&squot;icons_white/progeo-undo.svg&squot;;&squot;icons_white/progeo-unhide-soft.svg&squot;;&squot;icons_white/progeo-unhide.svg&squot;;&squot;icons_white/progeo-play.svg&squot;;&squot;icons_white/progeo-play-soft.svg&squot;;&squot;icons_white/progeo-move.svg&squot;;&squot;icons_white/progeo-move-soft.svg&squot;;&squot;icons_white/progeo-select.svg&squot;;&squot;icons_white/progeo-select-soft.svg&squot;;&squot;icons_white/progeo-zoom.svg&squot;;&squot;icons_white/progeo-zoom-soft.svg&squot;;&squot;icons_white/progeo-2d.svg&squot;;&squot;icons_white/progeo-3d-plane.svg&squot;;&squot;icons_white/progeo-3d-box.svg&squot;;&squot;icons_white/progeo-3d-surface.svg&squot;;&squot;icons_white/progeo-3d-longlines.svg&squot;;&squot;icons_white/progeo-revert.svg&squot;;&squot;icons_white/progeo-labels-hide.svg&squot;;&squot;icons_white/progeo-labels-unhide.svg&squot;;&squot;icons_white/progeo-minimize.svg&squot;;&squot;icons_white/progeo-aximize.svg&squot;;&squot;icons_white/step-next.svg&squot;;&squot;icons_white/step-next-soft.svg&squot;;&squot;icons_white/step-previous.svg&squot;;&squot;icons_white/step-previous-soft.svg&squot;;&squot;icons_white/timeline-next.svg&squot;;&squot;icons_white/timeline-next-soft.svg&squot;;&squot;icons_white/timeline-previous.svg&squot;;&squot;icons_white/timeline-previous-soft.svg&squot;;&squot;icons_white/topic-open.svg&squot;;&squot;icons_white/topic-revert.svg&squot;;&squot;icons_white/topic-save.svg&squot;;&squot;icons_white/topic-edit-layout-left.svg&squot;;&squot;icons_white/topic-edit-layout-right.svg&squot;;&squot;icons_white/topic-edit-layout-left-top.svg&squot;;&squot;icons_white/topic-edit-layout-right-top.svg&squot;;&squot;icons_white/topic-edit-layout-left-bottom.svg&squot;;&squot;icons_white/topic-edit-layout-right-bottom.svg&squot;;&squot;icons_white/topic-edit-layout-top.svg&squot;;&squot;icons_white/topic-edit-layout-bottom.svg&squot;;&squot;icons_white/topic-edit.svg&squot;;&squot;icons_white/topic-edit-close.svg&squot;;&squot;icons_white/topic-edit-ui-top.svg&squot; ;&squot;icons_white/topic-edit-ui-right.svg&squot;;&squot;icons_white/topic-edit-ui-left.svg&squot;;&squot;icons_white/topic-edit-ui-bottom.svg&squot;;&squot;icons_white/topic-edit-step-previous.svg&squot;;&squot;icons_white/topic-edit-step-previous-soft.svg&squot;;&squot;icons_white/topic-edit-step-next.svg&squot;;&squot;icons_white/topic-edit-step-next-soft.svg&squot;;&squot;icons_white/topic-edit-step-minus.svg&squot;;&squot;icons_white/topic-edit-step-minus-soft.svg&squot;;&squot;icons_white/topic-edit-step-plus.svg&squot;;&squot;icons_white/topic-edit-step-plus-soft.svg&squot;;&squot;icons_white/topic-edit-step-add.svg&squot;;&squot;icons_white/topic-edit-step-insert.svg&squot;;&squot;icons_white/topic-edit-step-delete.svg&squot;;&squot;icons_white/topic-edit-step-delete-soft.svg&squot;;&squot;icons_white/topic-edit-accept.svg&squot;;&squot;icons_white/topic-edit-keyboard-caps-lock-on.svg&squot;;&squot;icons_white/topic-edit-keyboard-caps-lock-off.svg&squot;;;&squot;icons_black/background.svg&squot;;&squot;icons_black/progeo-color-hidden.svg&squot;;&squot;icons_black/progeo-editable-off.svg&squot;;&squot;icons_black/progeo-editable-on.svg&squot;;&squot;icons_black/progeo-view.svg&squot;;&squot;icons_black/progeo-edit.svg&squot;;&squot;icons_black/progeo-hide.svg&squot;;&squot;icons_black/progeo-new.svg&squot;;&squot;icons_black/progeo-plus-soft.svg&squot;;&squot;icons_black/progeo-plus.svg&squot;;&squot;icons_black/progeo-minus-soft.svg&squot;;&squot;icons_black/progeo-minus.svg&squot;;&squot;icons_black/progeo-redo-soft.svg&squot;;&squot;icons_black/progeo-redo.svg&squot;;&squot;icons_black/progeo-undo-soft.svg&squot;;&squot;icons_black/progeo-undo.svg&squot;;&squot;icons_black/progeo-unhide-soft.svg&squot;;&squot;icons_black/progeo-unhide.svg&squot;;&squot;icons_black/progeo-play.svg&squot;;&squot;icons_black/progeo-play-soft.svg&squot;;&squot;icons_black/progeo-pause.svg&squot;;&squot;icons_black/progeo-move.svg&squot;;&squot;icons_black/progeo-move-soft.svg&squot;;&squot;icons_black/progeo-select.svg&squot;;&squot;icons_black/progeo-select-soft.svg&squot;;&squot;icons_black/progeo-zoom.svg&squot;;&squot;icons_black/progeo-zoom-soft.svg&squot;;&squot;icons_black/progeo-2d.svg&squot;;&squot;icons_black/progeo-3d.svg&squot;;&squot;icons_black/progeo-3d-plane.svg&squot;;&squot;icons_black/progeo-3d-plane-soft.svg&squot;;&squot;icons_black/progeo-3d-box.svg&squot;;&squot;icons_black/progeo-3d-box-soft.svg&squot;;&squot;icons_black/progeo-3d-surface.svg&squot;;&squot;icons_black/progeo-3d-long-lines.svg&squot;;&squot;icons_black/progeo-3d-long-lines-soft.svg&squot;;&squot;icons_black/progeo-revert.svg&squot;;&squot;icons_black/progeo-labels-hide.svg&squot;;&squot;icons_black/progeo-labels-unhide.svg&squot;;&squot;icons_black/progeo-minimize.svg&squot;;&squot;icons_black/progeo-maximize.svg&squot;;&squot;icons_black/background.svg&squot;;&squot;icons_black/progeo-editable-off.svg&squot;;&squot;icons_black/progeo-editable-on.svg&squot;;&squot;icons_black/progeo-hide.svg&squot;;&squot;icons_black/progeo-new.svg&squot;;&squot;icons_black/progeo-plus-soft.svg&squot;;&squot;icons_black/progeo-plus.svg&squot;;&squot;icons_black/progeo-minus-soft.svg&squot;;&squot;icons_black/progeo-minus.svg&squot;;&squot;icons_black/progeo-redo-soft.svg&squot;;&squot;icons_black/progeo-redo.svg&squot;;&squot;icons_black/progeo-undo-soft.svg&squot;;&squot;icons_black/progeo-undo.svg&squot;;&squot;icons_black/progeo-unhide-soft.svg&squot;;&squot;icons_black/progeo-unhide.svg&squot;;&squot;icons_black/progeo-play.svg&squot;;&squot;icons_black/progeo-play-soft.svg&squot;;&squot;icons_black/progeo-move.svg&squot;;&squot;icons_black/progeo-move-soft.svg&squot;;&squot;icons_black/progeo-select.svg&squot;;&squot;icons_black/progeo-select-soft.svg&squot;;&squot;icons_black/progeo-zoom.svg&squot;;&squot;icons_black/progeo-zoom-soft.svg&squot;;&squot;icons_black/progeo-2d.svg&squot;;&squot;icons_black/progeo-3d-plane.svg&squot;;&squot;icons_black/progeo-3d-box.svg&squot;;&squot;icons_black/progeo-3d-surface.svg&squot;;&squot;icons_black/progeo-3d-longlines.svg&squot;;&squot;icons_black/progeo-revert.svg&squot;;&squot;icons_black/progeo-labels-hide.svg&squot;;&squot;icons_black/progeo-labels-unhide.svg&squot;;&squot;icons_black/progeo-minimize.svg&squot;;&squot;icons_black/progeo-aximize.svg&squot;;&squot;icons_black/step-next.svg&squot;;&squot;icons_black/step-next-soft.svg&squot;;&squot;icons_black/step-previous.svg&squot;;&squot;icons_black/step-previous-soft.svg&squot;;&squot;icons_black/timeline-next.svg&squot;;&squot;icons_black/timeline-next-soft.svg&squot;;&squot;icons_black/timeline-previous.svg&squot;;&squot;icons_black/timeline-previous-soft.svg&squot;;&squot;icons_black/topic-open.svg&squot;;&squot;icons_black/topic-revert.svg&squot;;&squot;icons_black/topic-save.svg&squot;;&squot;icons_black/topic-edit-layout-left.svg&squot;;&squot;icons_black/topic-edit-layout-right.svg&squot;;&squot;icons_black/topic-edit-layout-left-top.svg&squot;;&squot;icons_black/topic-edit-layout-right-top.svg&squot;;&squot;icons_black/topic-edit-layout-left-bottom.svg&squot;;&squot;icons_black/topic-edit-layout-right-bottom.svg&squot;;&squot;icons_black/topic-edit-layout-top.svg&squot;;&squot;icons_black/topic-edit-layout-bottom.svg&squot;;&squot;icons_black/topic-edit.svg&squot;;&squot;icons_black/topic-edit-close.svg&squot;;&squot;icons_black/topic-edit-ui-top.svg&squot; ;&squot;icons_black/topic-edit-ui-right.svg&squot;;&squot;icons_black/topic-edit-ui-left.svg&squot;;&squot;icons_black/topic-edit-ui-bottom.svg&squot;;&squot;icons_black/topic-edit-step-previous.svg&squot;;&squot;icons_black/topic-edit-step-previous-soft.svg&squot;;&squot;icons_black/topic-edit-step-next.svg&squot;;&squot;icons_black/topic-edit-step-next-soft.svg&squot;;&squot;icons_black/topic-edit-step-minus.svg&squot;;&squot;icons_black/topic-edit-step-minus-soft.svg&squot;;&squot;icons_black/topic-edit-step-plus.svg&squot;;&squot;icons_black/topic-edit-step-plus-soft.svg&squot;;&squot;icons_black/topic-edit-step-add.svg&squot;;&squot;icons_black/topic-edit-step-insert.svg&squot;;&squot;icons_black/topic-edit-step-delete.svg&squot;;&squot;icons_black/topic-edit-step-delete-soft.svg&squot;;&squot;icons_black/topic-edit-accept.svg&squot;;&squot;icons_black/topic-edit-keyboard-caps-lock-on.svg&squot;;&squot;icons_black/topic-edit-keyboard-caps-lock-off.svg&squot;;;' tipo='vector' ">
      <param name="A_14" value="id='URLcfg()' algoritmo='sí' expresión='0' hacer='initDisplay();inicio();inRoliMode=(URL.view==&squot;roli&squot;);onlyViewer=(URL.view!=0);allow_edit=(URL.view==&squot;1&squot;);((URL.scene!=0))?Leer_URL(URL.scene):&squot;&squot;;((URL.view!=0)&(URL.view!=&squot;1&squot;))?Leer_URL(URL.view):&squot;&squot;;((URL.ver!=0))?Leer_URL(URL.ver):&squot;&squot;;((URL.url!=0))?Leer_URL(URL.url):&squot;&squot;;((URL.edit!=0))?Leer_URL(URL.edit):&squot;&squot;;;;' tipo='función' ">
      <param name="A_15" value="id='initDisplay()' algoritmo='sí' expresión='1' hacer='aspect=1;_file_name_=&squot;sin_nombre.pg3&squot;;_escala_=E2.escala;numSymb=initSYMBOL();makeColors();updateColors();epsilon=0.000001;NCurva=72;N_Reglas=24;CTRLG.Ox=-BACK._w/2;szfctr=sqrt((BACK._w/1200)*((BACK._h+20)/880));sqrtszfctr=sqrt(szfctr);bw=50*sqrtszfctr;bh=34*sqrtszfctr;ebw=40*sqrtszfctr;ebh=40*sqrtszfctr;Texf=ent(23*szfctr);factor_w=BACK._w/1024;factor_h=max(BACK._h/748,1);normal_sz=0;movil_sz=1;CG2D_sz=((BACK._w<=600)|(BACK._h<=600))?movil_sz:normal_sz;botsz=22;Titx=BACK._w/2;Tith=BACK._h/8;Tity=Tith/2;Lph=Tith-bh*3/4;Lpy=BACK._h-Lph;Lpc=Lpy+Lph/2;Lpt=Lpc+Lph/4;Lpch=Lpy+Lph/4;TEXTO._w=920;TEXTO._h=440;TEXTO._x=(BACK._w-TEXTO._w)/2;TECLA_w=28;TECLA_h=34;tooSmall=(BACK._w<TEXTO._w)|(BACK._h<TEXTO._h);bsp.left=(TEXTO._w-8*bh)/2;bsp.w=40*sqrtszfctr;bsp.h=32*sqrtszfctr;cwf=0.5;cgw=BACK._w/(nCG-nF+10*cwf);colr=ent((cgw-8)*cwf/2-1*factor_w);colw=ent(cgw*cwf);FUNCw=2*(cgw+1);FUNCh=BACK._h-bh-12;thbh=(FUNCh-24-Lph)/16;bnw=cgw;bnh=(FUNCh-Lph-62)/8 ;cgh=ent(Lph*0.845);font_sz=ent(10*factor_w);img_amp=0.80*max(factor_w,factor_h);COLOR.x=ent(4.5*cgw);COLOR.w=ent(10.25*colw);name_x=XCG(nombres)-ent(cgw/4+2*factor_w);name_y=8*factor_h;name_w=ent(cgw/1.8);name_h=ent(Lph/1.8);subix_x=XCG(subindices)-ent(cgw/4);subix_y=2+Lph-ent(Lph/2.4)-8*factor_h;subix_w=ent(cgw/2.4);subix_h=ent(Lph/2.4);textosCentrados=0;play_icon=icons_dir()+&squot;/progeo-play-soft.svg&squot;;;;' tipo='función' ">
      <param name="A_16" value="id='inicio()' algoritmo='sí' expresión='1' local='NOG_0' inicio='cleanOBGRA();cleanCONIC();cleanPASOS()' hacer='fromMenu=0;edit_text=0;ver=0;the_title=&squot;&squot;;turnOnColors();ancho=1 //el grosor de las líneas ;nCTR=0;NOG=0;P0=newP(&squot;P&squot;,&squot;0&squot;,&squot;0&squot;);P1=newP(&squot;P&squot;,&squot;1&squot;,&squot;0&squot;);P2=newP(&squot;P&squot;,&squot;2&squot;,&squot;0&squot;);P3=newP(&squot;P&squot;,&squot;3&squot;,&squot;0&squot;);P4=newP(&squot;P&squot;,&squot;4&squot;,&squot;0&squot;);P5=newP(&squot;P&squot;,&squot;5&squot;,&squot;0&squot;);P6=newP(&squot;P&squot;,&squot;6&squot;,&squot;0&squot;);P7=newP(&squot;P&squot;,&squot;7&squot;,&squot;0&squot;);P8=newP(&squot;P&squot;,&squot;8&squot;,&squot;0&squot;);P9=newP(&squot;P&squot;,&squot;9&squot;,&squot;0&squot;);auxL1=newL();auxL2=newL();auxL3=newL();nunca=&squot;0&squot;;iniNOG0=NOG;E2.MD=newP(&squot;&squot;,&squot;&squot;,&squot;&squot;);E2.M=newP(&squot;&squot;,&squot;&squot;,&squot;&squot;);E2.MP=newMidPoint(E2.MD,E2.M,O,O,&squot;&squot;);E2.R=newLine2D(O,E2.M,gris,0,&squot;&squot;);cLINE=newLine2D(O,E2.M,gris,0,&squot;&squot;);E2.Prl=newParal2D(O,E2.M,gris,0,&squot;&squot;);E2.Prp=newPerp2D(O,E2.M,gris,0,&squot;&squot;);E2.Mdt=newMediatrix2D(E2.MD,E2.M,gris,0,&squot;&squot;);E2.Bsc=newBisector2D(O,E2.MD,E2.M,gris,0,&squot;&squot;);E2.pie=newFootLP2D(&squot;&squot;,&squot;&squot;,E2.R,E2.M,&squot;&squot;);E2.Ang=newAng(&squot;&squot;,&squot;&squot;,O,E2.MD,E2.M,gris,&squot;&squot;);P_EqEq=newP(&squot;&squot;,&squot;&squot;,&squot;&squot;);L_EqEq=newL();iniNOG1=NOG;updateLocal(1,iniNOG0,iniNOG1-1);_buffer_=iniNOG1+1;num_curvas=0;num_reglados=0;hide_line=0;hide_surf=0;num_polys=0;NOG=101;minNOG=NOG;maxNOG=NOG;initCHG();nC=0;nCNC=0;nCTR=0;ver=min(ver,nC);cleanCnstr();pxthr=16;showmenu=0;color=20;colix=9;show_names=1;planoxy=1;caja=0;lngln=0;show_E2=1;show_E3=0;fams=3;E2.Ox=0;E2.Oy=50;Ex.Oy=0;initE3R(0,5,85);bg_img=&squot;&squot;;bg_img_x=0;bg_img_y=0;bg_img_amp=1;bg_img_a=0;NOGP=NOG;edit_title=0;changeCursor(&squot;MOVE&squot;,&squot;default&squot;);status=0;cleanPASOS();_pasos_=1;paso=0;PASOS[paso,0]=0;default_text=&squot;Texto de este paso.&squot;;PASOS[paso,1]=default_text;texto_editado=PASOS[paso,1];view_mode=(onlyViewer)?vm_view:vm_work;read_mode=rm_R;saveStepInfo(paso);goToStep(paso);updateTheText();escondeEsferas=0;hayAudio=0;setStatus(0);euclideana=1;undoing=0;doUpdate=1;safe=1;' tipo='función' ">
      <param name="A_17" value="id='continuarAccion()' algoritmo='sí' expresión='1' hacer='_file_name_=(accion==&squot;nueva&squot;)?&squot;sin_nombre.pg3&squot;:_file_name_;(accion==&squot;nueva&squot;)?inicio():&squot;&squot;;the_Content=(accion==&squot;nueva&squot;)?&squot;&squot;:the_Content;paso_ant=(accion==&squot;rec_paso&squot;)?paso:paso_ant;(accion==&squot;rec_paso&squot;)?Leer_setAppStr(the_Content):&squot;&squot;;(accion==&squot;rec_paso&squot;)?goToStep(paso_ant):&squot;&squot;;(accion==&squot;reload&squot;)?Leer_setAppStr(the_Content):&squot;&squot;;confirmar=0;safe=1;' tipo='función' ">
      <param name="A_18" value="id='confirmarAccion(act)' algoritmo='sí' expresión='1' hacer='accion=act;safe=safe&!((accion==&squot;nueva&squot;)&(NOG>100));confirmar=!safe;(safe)?continuarAccion():&squot;&squot;;' tipo='función' ">
      <param name="A_19" value="id='doCalculos()' algoritmo='sí' expresión='1' local='NOG_before,Emx,Emy,Mmp,Mmx,Mmy,mnma,nst,displchng' inicio='NOG_before=NOG' hacer='undo_status=(status!=girar)?-1:undo_status;;status=(edit_text&((status>explorar)&(status!=ocultar)))?explorar:status;BACK.mp=BACK.mouse_pressed;BACKBOTTOM.mp=BACK.mouse_pressed&(BACK.mouse_y<=Lph-BACK._h/2);T_touched=((BACK.mp&(BACK.mouse_y>BACK._h/2-TOPMNU._h)))?1:T_touched;T_touched=(TOPMNU.mouse_pressed|(BACK.mp&(BACK.mouse_y<=BACK._h/2-TOPMNU._h)))?0:T_touched;edit_title=(BACK.mp)?0:edit_title;BACK.mpa=BACK.mouse_pressed;CTRLG.mp=CTRLG.mouse_pressed;(CTRLG.mpa&!CTRLG.mp)?handleCTRLG():&squot;&squot;;CTRLG.mpa=CTRLG.mp;;E3.mouse_pressed=E3_2.mouse_pressed;E3.mouse_x=E3_2.mouse_x;E3.mouse_y=E3_2.mouse_y;E2.mp=E2.mouse_pressed;E3.mp=E3.mouse_pressed;EMP=E2.mp|E3.mp;Emx=(E3.mp|E3.mpa)?E3.mouse_x:E2.mouse_x;Emy=(E3.mp|E3.mpa)?E3.mouse_y:E2.mouse_y;allowExplore=PASOS[paso,12]|(view_mode==vm_work)|(view_mode==vm_wkrd);((E2.mp|E2.mpa)&allowExplore&(status<=nombrar))?handleE2naming():&squot;&squot;;((E2.mp|E2.mpa)&allowExplore&(((nombrar<status)&(status<=explorar))|(status==ocultar)))?handleE2():&squot;&squot;;((E3.mp|E3.mpa)&allowExplore&(status<=nombrar))?handleE3naming():&squot;&squot;;((E3.mp|E3.mpa)&allowExplore&(((nombrar<status)&(status<=explorar))|(status==ocultar)))?handleE3():&squot;&squot;;((E3.mp|E3.mpa)&(status==girar))?handleE3Rotate():&squot;&squot;;((EMP|EMPA)&(status>=0))?handleConstr(Emx,Emy,EMP,EMPA):&squot;&squot;;EMPA=EMP;E2.mpa=E2.mp;E3.mpa=E3.mp;;TEXTO.mp=TEXTO.mouse_pressed;(TEXTO.mpa&!TEXTO.mp)?handleTEXTO():&squot;&squot;;TEXTO.mpa=TEXTO.mp;;edit_title=(BACK.mouse_pressed|E2.mp|E3.mp|_MP_)?0:edit_title;;FUNC.mp=FUNC.mouse_pressed;mnma=FUNC.mp&!FUNC.mpa;nst=(mnma)?8+2*ent((FUNC.mouse_y-20)/(bnh+3))+(FUNC.mouse_x>0):nst;DOIT=(euclideana|(nst<=5)|(nst==14))&!(show_E3&(nst>=14));nst=(DOIT&(nst==status)&mnma)?explorar:nst;(DOIT&(nst!=status)&mnma)?setStatus(nst):&squot;&squot;;FUNC.mpa=FUNC.mp;;FUNCTHIN.mp=FUNCTHIN.mouse_pressed;mnma=FUNCTHIN.mp&!FUNCTHIN.mpa;nst=(mnma)?ent(8+(FUNCTHIN.mouse_y-24)/thbh):nst;DOIT=(euclideana|(nst<=5)|(nst==14))&!(show_E3&(nst>=14));nst=(DOIT&(nst==status)&mnma)?explorar:nst;(DOIT&(nst!=status)&mnma)?setStatus(nst):&squot;&squot;;FUNCTHIN.mpa=FUNCTHIN.mp;;Mmp=MOVE.mouse_pressed;Mmx=MOVE.mouse_x;Mmy=MOVE.mouse_y;(Mmp&(status==zoom)&show_E2)?handleLUPA2D(Mmx,Mmy,Mmp,Mmpa):&squot;&squot;;(Mmp&(status==zoom)&show_E3)?handleLUPA3D(Mmx,Mmy,Mmp,Mmpa):&squot;&squot;;(Mmp&(status==mover))?handleMOVE(Mmx,Mmy,Mmp,Mmpa):&squot;&squot;;dsplchng=(Mmpa&!Mmp)|(view_mode_ant!=view_mode)|(read_mode_ant!=read_mode);(dsplchng)?calcSpaceParams(1):&squot;&squot;;Mmpa=Mmp;view_mode_ant=view_mode;read_mode_ant=read_mode;;bsOn=(!_anim_on_)&(!(E2.mp|E3.mp|BACK.mp))&(!TCL.ready);status=(!allowExplore)?girar:status;LR_names=(view_mode==vm_work)&(BACK._w>=1024);;selectAnimIcon();safe=safe&(NOG==NOG_before);;;' tipo='función' ">
      <param name="A_20" value="id='____INTERFAZ_PUBLICA____' expresión='1' tipo='función' ">
      <param name="A_21" value="id='leer_pg3()' algoritmo='sí' expresión='1' local='str' hacer='str=_Load_(_pg3_url_);Leer_setAppStr(str);_file_name_=_substring_(_pg3_url_,lastIndexOf(_pg3_url_,&squot;/&squot;)+1,_length_(_pg3_url_));;;' tipo='función' ">
      <param name="A_22" value="id='setEdit(on)' algoritmo='sí' expresión='1' hacer='allow_edit=_Eval_(on)' tipo='función' ">
      <param name="A_23" value="id='setViewingMode(str)' algoritmo='sí' expresión='x' hacer='view_mode=(str==&squot;vm_work&squot;)?vm_work:view_mode;view_mode=(str==&squot;vm_view&squot;)?vm_view:view_mode;view_mode=(str==&squot;vm_wkrd&squot;)?vm_wkrd:view_mode;view_mode=(str==&squot;vm_vwrd&squot;)?vm_vwrd:view_mode;updateViewMode()' tipo='función' ">
      <param name="A_24" value="id='externalSizeChange(w,h)' algoritmo='sí' expresión='1' hacer='X_w=w;X_h=h;;updateViewMode()' tipo='función' ">
      <param name="A_25" value="id='INICIO' algoritmo='sí' evaluar='una-sola-vez' inicio='TITULO=&squot;ProGeo3D&squot;;//URL.view=&squot;roli&squot;' hacer='AUTOR=&squot;José Luis Abreu  y  Javier Bracho&squot;;url_base=&squot;https://descartes.matem.unam.mx/&squot;;url_links=url_base+&squot;ejemplos/pg3d/links.html&squot;;url_doc=url_base+&squot;doc/pg3d/pg3d.pdf&squot;;sound_ini();URLcfg();;;;;;' ">
      <param name="A_26" value="id='CALCULOS' algoritmo='sí' evaluar='siempre' hacer='((!_anim_on_)&(!TCL.ready))?doCalculos():&squot;&squot;;//showFlechas=1;//ver_ejes=1;;;' ">
      <param name="A_27" value="id='animar' evento='sí' condición='_animate_' acción='animar' ejecución='siempre' ">
      <param name="A_28" value="id='Limpiar' evento='sí' condición='_CLEAN_' acción='limpiar' ejecución='siempre' ">
      <param name="A_29" value="id='iniciado' evento='sí' condición='doUpdate' acción='calcular' parámetro='view_mode=(onlyViewer)?vm_view:view_mode;updateViewMode();calcSpaceParams(1);parent.set(&squot;pg3d.vm_work&squot;,&squot;&squot;+vm_work);parent.set(&squot;pg3d.vm_view&squot;,&squot;&squot;+vm_view);parent.set(&squot;pg3d.vm_wkrd&squot;,&squot;&squot;+vm_wkrd);parent.set(&squot;pg3d.vm_vwrd&squot;,&squot;&squot;+vm_vwrd);parent.exec(&squot;ready&squot;,&squot;&squot;);parent.update();;' ejecución='una-sola-vez' ">
      <param name="A_30" value="id='Fin' evento='sí' condición='1' acción='calcular' parámetro='_CLEAN_=0;_animate_=0;doUpdate=0' ejecución='siempre' ">
      <param name="G_01" value="espacio='TEXTO' tipo='rectángulo' fondo='sí' color='(COL[gris,_rojo],COL[gris,_verd],COL[gris,_azul],40)' coord_abs='sí' expresión='(0,0,TEXTO._w-1,TEXTO._h-1)' relleno='(COL[col_menu,_rojo],COL[col_menu,_verd],COL[col_menu,_azul],COL[col_menu,_trns])' ancho='1' border_radius='8' info='Fondo ' ">
      <param name="G_02" value="espacio='TEXTO' tipo='rectángulo' fondo='sí' color='(COL[gris,_rojo],COL[gris,_verd],COL[gris,_azul],40)' coord_abs='sí' expresión='(39,34,TEXTO._w-78,TEXTO._h-109)' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],COL[col_fondo,_trns])' ancho='1' info='Fondo para edición' ">
      <param name="G_03" value="espacio='TEXTO' tipo='rectángulo' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' coord_abs='sí' expresión='(42+(s%30)*TECLA_w,TEXTO._h-70+TECLA_h*(ent(s/30)==1),23,30)' familia='s' s.intervalo='[0,numSymb-1]' s.pasos='numSymb-1' relleno='(COL[col_menu,_rojo],COL[col_menu,_verd],COL[col_menu,_azul],COL[col_menu,_trns])' ancho='1' border_radius='6' info='teclas' ">
      <param name="G_04" value="espacio='TEXTO' tipo='rectángulo' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' coord_abs='sí' expresión='(7,TEXTO._h-70,28,64)' ancho='1' border_radius='6' info='tecla cap lock' ">
      <param name="G_05" value="espacio='CTRLG' tipo='rectángulo' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' coord_abs='sí' expresión='(COLOR.x-colw/2-3*factor_w,0,COLOR.w-3*factor_w,CTRLG._h-6)' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],COL[col_fondo,_trns])' ancho='1' border_radius='3' info='Fondo para los colores' ">
      <param name="G_06" value="espacio='CTRLG' tipo='texto' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' dibujar-si='(CG2D_sz!=movil_sz)' coord_abs='sí' expresión='[XCG(s),cgh]' familia='s' s.intervalo='[nF,nCG-1]' s.pasos='nCG-1-nF' texto='[statusName(s)]' ancho='1' fuente puntos='[font_sz]' align='a_center' anchor='a_bottom_center' info='Subtítulo de iconos' ">
      <param name="G_07" value="espacio='CTRLG' tipo='rectángulo' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' coord_abs='sí' expresión='(colbox_X(s),colbox_Y(s),colbox_W(s),colbox_H(s))' familia='s' s.intervalo='[0,29]' s.pasos='29' relleno='(COL[getColor(s),_rojo],COL[getColor(s),_verd],COL[getColor(s),_azul],COL[getColor(s),_trns])' ancho='0' border_radius='4' info='color a seleccionar' ">
      <param name="G_08" value="espacio='CTRLG' tipo='rectángulo' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],00)' dibujar-si='!COL[color,_hidden]' coord_abs='sí' expresión='(colbox_X(colix)-2,colbox_Y(colix)-2,colbox_W(colix)+4,colbox_H(colix)+4)' ancho='1' border_radius='4' info='Marco de color seleccionado' ">
      <param name="G_09" value="espacio='CTRLG' tipo='rectángulo' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],00)' dibujar-si='COL[color,_hidden]' coord_abs='sí' expresión='(colbox_X(colix)-2,colbox_Y(colix)-2,colbox_W(colix)+4,colbox_H(colix)+4)' ancho='2' border_radius='4' lineDash='dash' info='Marco de color oculto' ">
      <param name="G_10" value="espacio='CTRLG' tipo='imagen' dibujar-si='COL[getColor(s),_hidden]' coord_abs='sí' expresión='(COLOR.x+(s%10)*colw,CTRLG._h/2-2+(((10<=s)&(s<20))-((20<=s)&(s<30)))*2*(2+ent(CTRLG._h/8)),szfctr,szfctr)' familia='s' s.intervalo='[0,29]' s.pasos='29' archivo='icons_black/progeo-color-hidden.svg' info='Tache del color oculto' ">
      <param name="G_11" value="espacio='CTRLG' tipo='imagen' coord_abs='sí' expresión='(XCG(s),YCG(s),1,1)' familia='s' s.intervalo='[nF,nCG-1]' s.pasos='nCG-1-nF' archivo='[get_svg(iconName(s),iconCond(s))]' info='Iconos' ">
      <param name="G_12" value="espacio='CTRLG' tipo='rectángulo' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' dibujar-si='(status>nombrar)&(status<explorar)&(status!=ocultar)' coord_abs='sí' expresión='(XCG(cambio)+3+s-cgw/2,0+s,cgw-5-2*s,CTRLG._h-4-2*s)' familia='s' s.intervalo='[0,3]' s.pasos='1' ancho='1' border_radius='5' info='Marca de status cambiar' ">
      <param name="G_13" value="espacio='CTRLG' tipo='rectángulo' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' dibujar-si='(status==ocultar)' coord_abs='sí' expresión='(XCG(ocultar)+3+s-cgw/2,0+s,cgw-5-2*s,CTRLG._h-4-2*s)' familia='s' s.intervalo='[0,3]' s.pasos='1' ancho='1' border_radius='5' info='Marca de status ocultar' ">
      <param name="G_14" value="espacio='CTRLG' tipo='rectángulo' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' dibujar-si='(status<=nombrar)|(status>=explorar)|(status==cambiar)|(status==cambia_color)' coord_abs='sí' expresión='(XCG(cambio)-colr,cgh/8,2*colr,cgh/4)' relleno='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' ancho='0' border_radius='4' info='Cambiar al color seleccionado' ">
      <param name="G_15" value="espacio='CTRLG' tipo='texto' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' dibujar-si='(status<=nombrar)|(status>=explorar)|(status==cambiar)|(status==cambia_grosor)' coord_abs='sí' expresión='[XCG(cambio),cgh*3/5]' texto='[ancho]' decimales='0' ancho='1' fuente puntos='[17*szfctr]' align='a_center' anchor='a_center_center' info='Cambiar al grosor seleccionado' ">
      <param name="G_16" value="espacio='CTRLG' tipo='rectángulo' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' dibujar-si='!allWhite' coord_abs='sí' expresión='(name_x,name_y,name_w,name_h)' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],COL[col_fondo,_trns])' ancho='1' border_radius='3' info='El marco' ">
      <param name="G_17" value="espacio='CTRLG' tipo='rectángulo' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' dibujar-si='(status==nombrar)' coord_abs='sí' expresión='(XCG(nombres)+13+s-cgw/2,0+s,cgw-25-2*s,CTRLG._h-4-2*s)' familia='s' s.intervalo='[0,3]' s.pasos='1' ancho='1' border_radius='5' info='Marca de status nombrar' ">
      <param name="G_18" value="espacio='CTRLG' tipo='rectángulo' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' dibujar-si='(status==subnombrar)' coord_abs='sí' expresión='(XCG(subindices)+16+s-cgw/2,0+s,cgw-38-2*s,CTRLG._h-4-2*s)' familia='s' s.intervalo='[0,3]' s.pasos='1' ancho='1' border_radius='5' info='Marca de status subnombrar' ">
      <param name="G_19" value="espacio='CTRLG' tipo='rectángulo' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' dibujar-si='!allWhite' coord_abs='sí' expresión='(subix_x,subix_y,subix_w,subix_h)' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],COL[col_fondo,_trns])' ancho='1' border_radius='3' info='El marco subix' ">
      <param name="G_20" value="espacio='CTRLG' tipo='segmento' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' dibujar-si='hasName(selOBGRA)&(OBGRA[selOBGRA,_name]==&squot;&squot;)' coord_abs='sí' expresión='(name_x+6,name_y+7)(name_x+6,name_y+name_h-7)' tamaño='0' ancho='1' info='cursor' ">
      <param name="G_21" value="espacio='CTRLG' tipo='segmento' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],40)' dibujar-si='hasName(selOBGRA)&(OBGRA[selOBGRA,_subix]==&squot;&squot;)' coord_abs='sí' expresión='(subix_x+5,subix_y+6)(subix_x+5,subix_y+subix_h-6)' tamaño='0' ancho='1' info='cursor subix' ">
      <param name="G_22" value="espacio='CTRLG' tipo='segmento' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' dibujar-si='hasName(selOBGRA)&(OBGRA[selOBGRA,_name]==&squot;&squot;)' coord_abs='sí' expresión='(name_x+6-2,name_y+6+s*(name_h+-12))(name_x+6+2,name_y+6+s*(name_h+-12))' familia='s' s.intervalo='[0,1]' s.pasos='1' tamaño='0' ancho='1' info='extremos del cursor' ">
      <param name="G_23" value="espacio='CTRLG' tipo='segmento' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],40)' dibujar-si='hasName(selOBGRA)&(OBGRA[selOBGRA,_subix]==&squot;&squot;)' coord_abs='sí' expresión='(subix_x+5-2,subix_y+5+s*(subix_h+-10))(subix_x+5+2,subix_y+5+s*(subix_h-10))' familia='s' s.intervalo='[0,1]' s.pasos='1' tamaño='0' ancho='1' info='extremos del cursor subix' ">
      <param name="G_24" value="espacio='FUNC' tipo='rectángulo' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' coord_abs='sí' expresión='(Xb(s)+6,Yb(s)+2,bnw-9,bnh-3-(2*font_sz)*(CG2D_sz!=movil_sz))' familia='s' s.intervalo='[0,15]' s.pasos='15' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],COL[col_fondo,_trns])' ancho='0' info='Fondos de los iconos' ">
      <param name="G_25" value="espacio='FUNC' tipo='imagen' fondo='sí' coord_abs='sí' expresión='(Xb(s)+bnw/2+1,Yb(s)+bnh/2-(CG2D_sz!=movil_sz)*(font_sz-3),img_amp,img_amp)' familia='s' s.intervalo='[0,15]' s.pasos='15' archivo='[ICON[s]]' info='Iconos' ">
      <param name="G_26" value="espacio='FUNC' tipo='texto' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' dibujar-si='(CG2D_sz!=movil_sz)' coord_abs='sí' expresión='[Xb(s)+bnw/2+2,Yb(s)+0.5+bnh-font_sz,0,0]' familia='s' s.intervalo='[0,15]' s.pasos='15' texto='[statusName(s)]' ancho='1' fuente puntos='[font_sz]' align='a_left' anchor='a_center_center' info='Subtítulo de iconos' ">
      <param name="G_27" value="espacio='FUNC' tipo='rectángulo' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' dibujar-si='!allWhite' coord_abs='sí' expresión='(Xb(s)+5,Yb(s)+2,bnw-9,bnh-3)' familia='s' s.intervalo='[0,15]' s.pasos='15' ancho='1' border_radius='4' info='Marcos de los iconos' ">
      <param name="G_28" value="espacio='FUNC' tipo='segmento' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' dibujar-si='CG2D_sz!=movil_sz' coord_abs='sí' expresión='(Xb(s)+7,Yb(s)+bnh-2*font_sz)(Xb(s)+bnw-4,Yb(s)+bnh-2*font_sz)' familia='s' s.intervalo='[0,15]' s.pasos='15' tamaño='0' ancho='1' info='Separador de los iconos' ">
      <param name="G_29" value="espacio='FUNC' tipo='rectángulo' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],00)' dibujar-si='(status>=0)&(status<nF)&!COL[color,_hidden]' coord_abs='sí' expresión='(Xb(status)+3,Yb(status)+0,bnw-5,bnh+1)' ancho='2' border_radius='5' info='Marca de color seleccionado' ">
      <param name="G_30" value="espacio='FUNC' tipo='rectángulo' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],00)' dibujar-si='(status>=0)&(status<nF)&COL[color,_hidden]' coord_abs='sí' expresión='(Xb(status)+3,Yb(status)+0,bnw-5,bnh+1)' ancho='2' border_radius='5' lineDash='dash' info='Marca de color oculto' ">
      <param name="G_31" value="espacio='FUNC' tipo='arco' color='(COL[undo_color,_rojo],COL[undo_color,_verd],COL[undo_color,_azul],00)' dibujar-si='(undo_status>=0)&(undo_status<nF)' coord_abs='sí' centro='(Xb(undo_status)+3+(bnw-5)/2,Yb(undo_status)+(bnh+1)/2-9)' radio='bnw/4' inicio='0' fin='360' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],a0)' ancho='3' info='circulito de undo' ">
      <param name="G_32" value="espacio='FUNC' tipo='imagen' dibujar-si='(undo_status>=0)&(undo_status<nF)' coord_abs='sí' expresión='(Xb(undo_status)+3+(bnw-5)/2,Yb(undo_status)+(bnh+1)/2-10,1,1)' archivo='[icons_dir()+undoredoicon]' info='icono de undo' ">
      <param name="G_33" value="espacio='FUNCTHIN' tipo='rectángulo' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' coord_abs='sí' expresión='(0,FUNCh-Lph+3-(1+s)*thbh,bw-4,thbh-4)' familia='s' s.intervalo='[0,15]' s.pasos='15' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],COL[col_fondo,_trns])' ancho='1' border_radius='4' info='Fondos de los iconos' ">
      <param name="G_34" value="espacio='FUNCTHIN' tipo='imagen' fondo='sí' coord_abs='sí' expresión='(bw/2-2,FUNC._h-Lph+1-(0.5+s)*thbh,img_amp*0.75,img_amp*0.75)' familia='s' s.intervalo='[0,15]' s.pasos='15' archivo='[ICON[s]]' info='Iconos' ">
      <param name="G_35" value="espacio='FUNCTHIN' tipo='rectángulo' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],00)' dibujar-si='(status>=0)&(status<nF)&!COL[color,_hidden]' coord_abs='sí' expresión='(0,FUNC._h-Lph+2-(1+status)*thbh,bw-4,thbh-1)' ancho='2' border_radius='5' info='Marca de color seleccionado' ">
      <param name="G_36" value="espacio='FUNCTHIN' tipo='rectángulo' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],00)' dibujar-si='(status>=0)&(status<nF)&COL[color,_hidden]' coord_abs='sí' expresión='(0,FUNC._h-Lph+1-(1+status)*thbh,bw-4,thbh)' ancho='2' border_radius='5' lineDash='dash' info='Marca de color oculto' ">
      <param name="G_37" value="espacio='TEXTO' tipo='texto' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],COL[col_textos,_trns])' dibujar-si='edit_text' coord_abs='sí' expresión='(42+12+(s%30)*TECLA_w, TEXTO._h-56+TECLA_h*(ent(s/30)==1))' familia='s' s.intervalo='[0,59]' s.pasos='59' texto='[SYMBOL[s+60*sYmB]]' ancho='1' font_family='Serif' align='a_center' anchor='a_center_center' info='La lista de símbolos' ">
      <param name="G_38" value="espacio='TEXTO' tipo='rectángulo' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' coord_abs='sí' expresión='(TEXTO._w-36, TEXTO._h-70,28,64)' relleno='477cd9' ancho='1' border_radius='6' info='tecla accept' ">
      <param name="G_39" value="espacio='MOVE' tipo='segmento' color='ee1122' dibujar-si='show_E2&(status==zoom)&MOVE.mouse_pressed' coord_abs='no' expresión='(lmx0-20,lmy0) (lmx0+20,lmy0)' decimales='0' tamaño='0' ancho='2' info='cruz h' ">
      <param name="G_40" value="espacio='MOVE' tipo='segmento' color='ee1122' dibujar-si='show_E2&(status==zoom)&MOVE.mouse_pressed' coord_abs='no' expresión='(lmx0,lmy0-20) (lmx0,lmy0+20)' decimales='0' tamaño='0' ancho='2' info='cruz v' ">
      <param name="G_41" value="espacio='E3_2' tipo='flecha' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='showFlechas&(OBGRA[s,_type]==segment)&isVisible(s)' coord_abs='no' expresión='(X32(OBGRA[s,_L_x1],OBGRA[s,_L_y1],OBGRA[s,_L_z1]),Y32(OBGRA[s,_L_x1],OBGRA[s,_L_y1],OBGRA[s,_L_z1]))(X32(OBGRA[s,_L_x1]+OBGRA[s,_L_ux],OBGRA[s,_L_y1]+OBGRA[s,_L_uy],OBGRA[s,_L_z1]+OBGRA[s,_L_uz]),Y32(OBGRA[s,_L_x1]+OBGRA[s,_L_ux],OBGRA[s,_L_y1]+OBGRA[s,_L_uy],OBGRA[s,_L_z1]+OBGRA[s,_L_uz]))' familia='s' s.intervalo='[minNOG,NOG-1]' s.pasos='NOG-minNOG-1' ancho='1' punta='4' flecha='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' info='Las direcciones de las rectas' ">
      <param name="G_42" value="espacio='E3_2' tipo='polígono' color='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],trns_orilla)' dibujar-si='caja' coord_abs='no' expresión='(X32(_mx_,_my_,_mz_),Y32(_mx_,_my_,_mz_))(X32(_mx_,_My_,_mz_),Y32(_mx_,_My_,_mz_))(X32(_Mx_,_My_,_mz_),Y32(_Mx_,_My_,_mz_))(X32(_Mx_,_my_,_mz_),Y32(_Mx_,_my_,_mz_))(X32(_mx_,_my_,_mz_),Y32(_mx_,_my_,_mz_))' relleno='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],COL[col_caja,_trns])' ancho='1' info='Caja' ">
      <param name="G_43" value="espacio='E3_2' tipo='polígono' color='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],trns_orilla)' dibujar-si='caja' coord_abs='no' expresión='(X32(_mx_,_my_,_Mz_),Y32(_mx_,_my_,_Mz_))(X32(_mx_,_My_,_Mz_),Y32(_mx_,_My_,_Mz_))(X32(_Mx_,_My_,_Mz_),Y32(_Mx_,_My_,_Mz_))(X32(_Mx_,_my_,_Mz_),Y32(_Mx_,_my_,_Mz_))(X32(_mx_,_my_,_Mz_),Y32(_mx_,_my_,_Mz_))' relleno='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],COL[col_caja,_trns])' ancho='1' info='Caja' ">
      <param name="G_44" value="espacio='E3_2' tipo='polígono' color='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],trns_orilla)' dibujar-si='caja' coord_abs='no' expresión='(X32(_mx_,_my_,_mz_),Y32(_mx_,_my_,_mz_))(X32(_mx_,_My_,_mz_),Y32(_mx_,_My_,_mz_))(X32(_mx_,_My_,_Mz_),Y32(_mx_,_My_,_Mz_))(X32(_mx_,_my_,_Mz_),Y32(_mx_,_my_,_Mz_))(X32(_mx_,_my_,_mz_),Y32(_mx_,_my_,_mz_))' relleno='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],COL[col_caja,_trns])' ancho='1' info='Caja' ">
      <param name="G_45" value="espacio='E3_2' tipo='polígono' color='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],trns_orilla)' dibujar-si='caja' coord_abs='no' expresión='(X32(_Mx_,_my_,_mz_),Y32(_Mx_,_my_,_mz_))(X32(_Mx_,_My_,_mz_),Y32(_Mx_,_My_,_mz_))(X32(_Mx_,_My_,_Mz_),Y32(_Mx_,_My_,_Mz_))(X32(_Mx_,_my_,_Mz_),Y32(_Mx_,_my_,_Mz_))(X32(_Mx_,_my_,_mz_),Y32(_Mx_,_my_,_mz_))' relleno='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],COL[col_caja,_trns])' ancho='1' info='Caja' ">
      <param name="G_46" value="espacio='E3_2' tipo='polígono' color='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],trns_orilla)' dibujar-si='caja' coord_abs='no' expresión='(X32(_mx_,_my_,_mz_),Y32(_mx_,_my_,_mz_))(X32(_Mx_,_my_,_mz_),Y32(_Mx_,_my_,_mz_))(X32(_Mx_,_my_,_Mz_),Y32(_Mx_,_my_,_Mz_))(X32(_mx_,_my_,_Mz_),Y32(_mx_,_my_,_Mz_))(X32(_mx_,_my_,_mz_),Y32(_mx_,_my_,_mz_))' relleno='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],COL[col_caja,_trns])' ancho='1' info='Caja' ">
      <param name="G_47" value="espacio='E3_2' tipo='polígono' color='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],trns_orilla)' dibujar-si='caja' coord_abs='no' expresión='(X32(_mx_,_My_,_mz_),Y32(_mx_,_My_,_mz_))(X32(_Mx_,_My_,_mz_),Y32(_Mx_,_My_,_mz_))(X32(_Mx_,_My_,_Mz_),Y32(_Mx_,_My_,_Mz_))(X32(_mx_,_My_,_Mz_),Y32(_mx_,_My_,_Mz_))(X32(_mx_,_My_,_mz_),Y32(_mx_,_My_,_mz_))' relleno='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],COL[col_caja,_trns])' ancho='1' info='Caja' ">
      <param name="G_48" value="espacio='E3_2' tipo='polígono' color='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],0.667)' dibujar-si='planoxy' coord_abs='no' expresión='(X32(_mx_,_my_,0),Y32(_mx_,_my_,0))(X32(_mx_,_My_,0),Y32(_mx_,_My_,0))(X32(_Mx_,_My_,0),Y32(_Mx_,_My_,0))(X32(_Mx_,_my_,0),Y32(_Mx_,_my_,0))(X32(_mx_,_my_,0),Y32(_mx_,_my_,0))' relleno='(COL[col_caja,_rojo],COL[col_caja,_verd],COL[col_caja,_azul],COL[col_caja,_trns])' ancho='1' info='Plano xy' ">
      <param name="G_49" value="espacio='E3_2' tipo='curva' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],0.8*(1-((s==selOBGRA)|((s==selL_for_SvsL)&(status==segmento))|((s==selP_for_TvsP)&(status==plano)))))' dibujar-si='((caja|OBGRA[s,_cut])&(OBGRA[s,_type]==triangle)|(OBGRA[s,_type]==plane))&isVisible(s)' coord_abs='no' expresión='(X32(OBGRA[s,_npo+3*(t%OBGRA[s,_npo])+1],OBGRA[s,_npo+3*(t%OBGRA[s,_npo])+2],OBGRA[s,_npo+3*(t%OBGRA[s,_npo])+3]),Y32(OBGRA[s,_npo+3*(t%OBGRA[s,_npo])+1],OBGRA[s,_npo+3*(t%OBGRA[s,_npo])+2],OBGRA[s,_npo+3*(t%OBGRA[s,_npo])+3]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' parámetro='t' t.intervalo='[0,OBGRA[s,_npo]]' t.pasos='OBGRA[s,_npo]' relleno='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],(1-(1+OBGRA[s,_wdth])/30))' ancho='1' info='Los planos' ">
      <param name="G_50" value="espacio='E3_2' tipo='curva' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[(COL[OBGRA[s,_col],_trns]+2+1*(s!=selOBGRA)&(s!=selL_for_SvsL))/(4+OBGRA[s,_wdth])])' dibujar-si='(OBGRA[s,_type]==triangle)&isVisible(s)&(OBGRA[s,_wdth]>0)&(OBGRA[s,_cut])' coord_abs='no' expresión='(X32(OBGRA[s,_np1+3*(t%OBGRA[s,_np1])+1],OBGRA[s,_np1+3*(t%OBGRA[s,_np1])+2],OBGRA[s,_np1+3*(t%OBGRA[s,_np1])+3]),Y32(OBGRA[s,_np1+3*(t%OBGRA[s,_np1])+1],OBGRA[s,_np1+3*(t%OBGRA[s,_np1])+2],OBGRA[s,_np1+3*(t%OBGRA[s,_np1])+3]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' parámetro='t' t.intervalo='[0,OBGRA[s,_np1]]' t.pasos='OBGRA[s,_np1]' relleno='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[(COL[OBGRA[s,_col],_trns]+2+1*(s!=selOBGRA)&(s!=selL_for_SvsL))/(4+OBGRA[s,_wdth])])' ancho='1' info='Triangulos vsP 1' ">
      <param name="G_51" value="espacio='E3_2' tipo='curva' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[(COL[OBGRA[s,_col],_trns]+2+1*(s!=selOBGRA)&(s!=selL_for_SvsL))/(4+OBGRA[s,_wdth])])' dibujar-si='(OBGRA[s,_type]==triangle)&isVisible(s)&(OBGRA[s,_wdth]>0)&(OBGRA[s,_cut])' coord_abs='no' expresión='(X32(OBGRA[s,_np2+3*(t%OBGRA[s,_np2])+1],OBGRA[s,_np2+3*(t%OBGRA[s,_np2])+2],OBGRA[s,_np2+3*(t%OBGRA[s,_np2])+3]),Y32(OBGRA[s,_np2+3*(t%OBGRA[s,_np2])+1],OBGRA[s,_np2+3*(t%OBGRA[s,_np2])+2],OBGRA[s,_np2+3*(t%OBGRA[s,_np2])+3]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' parámetro='t' t.intervalo='[0,OBGRA[s,_np2]]' t.pasos='OBGRA[s,_np2]' relleno='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[(COL[OBGRA[s,_col],_trns]+2+1*(s!=selOBGRA)&(s!=selL_for_SvsL))/(4+OBGRA[s,_wdth])])' ancho='1' info='Triangulos vsP 2' ">
      <param name="G_52" value="espacio='E3_2' tipo='polígono' color='000000' dibujar-si='(OBGRA[s,_type]==triangle)&isVisible(s)&(OBGRA[s,_wdth]>0)&(!OBGRA[s,_cut])' coord_abs='no' expresión='(x32(OBGRA[s,_p1]),y32(OBGRA[s,_p1]))(x32(OBGRA[s,_p2]),y32(OBGRA[s,_p2]))(x32(OBGRA[s,_p3]),y32(OBGRA[s,_p3]))(x32(OBGRA[s,_p1]),y32(OBGRA[s,_p1]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' relleno='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[(COL[OBGRA[s,_col],_trns]+2+1*(s!=selOBGRA)&(s!=selL_for_SvsL))/(4+OBGRA[s,_wdth])])' ancho='0' info='los triángulos' ">
      <param name="G_53" value="espacio='E3_2' tipo='polígono' color='(COL[OBGRA[selOBGRA,_col],_rojo],COL[OBGRA[selOBGRA,_col],_verd],COL[OBGRA[selOBGRA,_col],_azul],00)' dibujar-si='(selOBGRA>=0)&(OBGRA[selOBGRA,_type]==triangle)&isVisible(selOBGRA)' coord_abs='no' expresión='(x32(OBGRA[selOBGRA,_p1]),y32(OBGRA[selOBGRA,_p1]))(x32(OBGRA[selOBGRA,_p2]),y32(OBGRA[selOBGRA,_p2]))(x32(OBGRA[selOBGRA,_p3]),y32(OBGRA[selOBGRA,_p3]))(x32(OBGRA[selOBGRA,_p1]),y32(OBGRA[selOBGRA,_p1]))' ancho='2' lineDash='dash' info='triángulo seleccionado' ">
      <param name="G_54" value="espacio='E3_2' tipo='polígono' color='(COL[OBGRA[selL_for_SvsL,_col],_rojo],COL[OBGRA[selL_for_SvsL,_col],_verd],COL[OBGRA[selL_for_SvsL,_col],_azul],00)' dibujar-si='(status==triangle)&(selL_for_SvsL>=0)&(OBGRA[selL_for_SvsL,_type]==triangle)&isVisible(selL_for_SvsL)' coord_abs='no' expresión='(x32(OBGRA[selL_for_SvsL,_p1]),y32(OBGRA[selL_for_SvsL,_p1]))(x32(OBGRA[selL_for_SvsL,_p2]),y32(OBGRA[selL_for_SvsL,_p2]))(x32(OBGRA[selL_for_SvsL,_p3]),y32(OBGRA[selL_for_SvsL,_p3]))(x32(OBGRA[selL_for_SvsL,_p1]),y32(OBGRA[selL_for_SvsL,_p1]))' ancho='2' lineDash='dash' info='triángulo selL_for_SvsL' ">
      <param name="G_55" value="espacio='E3_2' tipo='arco' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[0.25])' dibujar-si='(OBGRA[s,_type]==circle)&((Z2(OBGRA[s,_centro])!=0)|!planoxy)&isVisible(s)&calcCircParams(s)' coord_abs='no' centro='(OBGRA[s,_x32],OBGRA[s,_y32])' radio='OBGRA[s,_r32]' inicio='0' fin='360' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' relleno='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[1.0-OBGRA[s,_wdth]/24])' ancho='1+(s==selOBGRA)' lineDash='dash' info='Las esferas' ">
      <param name="G_56" value="espacio='E3_2' tipo='curva' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='planoxy&(OBGRA[s,_type]==circle)&(Z2(OBGRA[s,_centro])==0)&isVisible(s)&(OBGRA[s,_rxy]>0)&calcCircParams(s)' coord_abs='no' expresión='(X32(X2(OBGRA[s,_centro])+OBGRA[s,_rxy]*cos(t),Y2(OBGRA[s,_centro])+OBGRA[s,_rxy]*sen(t),0),Y32(X2(OBGRA[s,_centro])+OBGRA[s,_rxy]*cos(t),Y2(OBGRA[s,_centro])+OBGRA[s,_rxy]*sen(t),0))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' parámetro='t' t.intervalo='[0,2*pi]' t.pasos='36' ancho='1+(s==selOBGRA)' info='intersección de esferas en planoxy' ">
      <param name="G_57" value="espacio='E3_2' tipo='curva' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='planoxy&(OBGRA[s,_type]==circle)&(Z2(OBGRA[s,_centro])!=0)&isVisible(s)&(OBGRA[s,_rxy]>0)&calcCircParams(s)' coord_abs='no' expresión='(X32(X2(OBGRA[s,_centro])+OBGRA[s,_rxy]*cos(t),Y2(OBGRA[s,_centro])+OBGRA[s,_rxy]*sen(t),0),Y32(X2(OBGRA[s,_centro])+OBGRA[s,_rxy]*cos(t),Y2(OBGRA[s,_centro])+OBGRA[s,_rxy]*sen(t),0))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' parámetro='t' t.intervalo='[0,2*pi]' t.pasos='36' ancho='1+(s==selOBGRA)' lineDash='dash' info='intersección de esferas en planoxy' ">
      <param name="G_58" value="espacio='E3_2' tipo='curva' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],0.0)' dibujar-si='(OBGRA[s,_type]==circ3D)&isVisible(s)' coord_abs='no' expresión='(X32(OBGRA[s,_xc]+OBGRA[s,_r]*(OBGRA[s,_nx]*cos(t)+OBGRA[s,_tx]*sen(t)),OBGRA[s,_yc]+OBGRA[s,_r]*(OBGRA[s,_ny]*cos(t)+OBGRA[s,_ty]*sen(t)),OBGRA[s,_zc]+OBGRA[s,_r]*(OBGRA[s,_nz]*cos(t)+OBGRA[s,_tz]*sen(t))),Y32(OBGRA[s,_xc]+OBGRA[s,_r]*(OBGRA[s,_nx]*cos(t)+OBGRA[s,_tx]*sen(t)),OBGRA[s,_yc]+OBGRA[s,_r]*(OBGRA[s,_ny]*cos(t)+OBGRA[s,_ty]*sen(t)),OBGRA[s,_zc]+OBGRA[s,_r]*(OBGRA[s,_nz]*cos(t)+OBGRA[s,_tz]*sen(t))))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' parámetro='t' t.intervalo='[0,2*pi]' t.pasos='36' ancho='OBGRA[s,_wdth]+(s==selOBGRA)' info='circ3D' ">
      <param name="G_59" value="espacio='E3_2' tipo='macro' dibujar-si='(num_reglados>0)&(!COL[OBGRA[REGLADO[s,0],_col],_hidden])&R_E3_2.cfg(s)' coord_abs='no' nombre='R_E3_2' expresión='macros/BasicLineFam.txt' familia='s' s.intervalo='[0,num_reglados-1]' s.pasos='num_reglados-1' posini='[0,0]' info='Reglados en E3_2 con macro' ">
      <param name="G_60" value="espacio='E3_2' tipo='macro' dibujar-si='(num_curvas>0)&isVisible(s)&((OBGRA[CURVA[s,0],_Eq_]==&squot;&squot;)|_anim_on_|E3_2.mouse_pressed|MOVE.mouse_pressed)&C_E3_2.cfg(s)' coord_abs='no' nombre='C_E3_2' expresión='macros/BasicLineFam.txt' familia='s' s.intervalo='[0,num_curvas-1]' s.pasos='num_curvas-1' posini='[0,0]' info='Curvas en E3_2 con macro' ">
      <param name="G_61" value="espacio='E3_2' tipo='ecuación' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(OBGRA[s,_Eq_]!=&squot;&squot;)&(OBGRA[s,_Eq_]!=0)&isVisible(s)&(!_anim_on_)&(!E3_2.mouse_pressed)&(!MOVE.mouse_pressed)' coord_abs='no' expresión='_Eval_(OBGRA[s,_Eq_])=0' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' ancho='OBGRA[s,_wdth]+(s==selOBGRA)*2' info='curve by Eq in 3D' ">
      <param name="G_62" value="espacio='E3_2' tipo='curva' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],0.5)' dibujar-si='(OBGRA[s,_type]==angle)&isVisible(s)&cfgAngle(s)' coord_abs='no' expresión='(X32(ANG[0,t],ANG[1,t],ANG[2,t]),Y32(ANG[0,t],ANG[1,t],ANG[2,t]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' parámetro='t' t.intervalo='[0,37]' t.pasos='37' relleno='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[0.5-(selOBGRA==s)*0.25])' ancho='1' info='Los ángulos' ">
      <param name="G_63" value="espacio='E3_2' tipo='segmento' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='lngln&(OBGRA[s,_type]==segment)&(OBGRA[s,_isLine])&isVisible(s)&calcLInfty(s)' coord_abs='no' expresión='(X32(OBGRA[s,_xnear_],OBGRA[s,_ynear_],OBGRA[s,_znear_]),Y32(OBGRA[s,_xnear_],OBGRA[s,_ynear_],OBGRA[s,_znear_]))(X32(OBGRA[s,_xinfty_],OBGRA[s,_yinfty_],OBGRA[s,_zinfty_]),Y32(OBGRA[s,_xinfty_],OBGRA[s,_yinfty_],OBGRA[s,_zinfty_]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' tamaño='0' ancho='OBGRA[s,_wdth]+2*((s==selOBGRA)|((s==selL_for_SvsL)&(status==segmento)))' lineDash='dash' info='Las rectas fuera de la caja' ">
      <param name="G_64" value="espacio='E3_2' tipo='segmento' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(OBGRA[s,_type]==segment)&(OBGRA[s,_isLine])&isVisible(s)' coord_abs='no' expresión='(X32(OBGRA[s,_3DLx1_],OBGRA[s,_3DLy1_],OBGRA[s,_3DLz1_]),Y32(OBGRA[s,_3DLx1_],OBGRA[s,_3DLy1_],OBGRA[s,_3DLz1_]))(X32(OBGRA[s,_3DLx2_],OBGRA[s,_3DLy2_],OBGRA[s,_3DLz2_]),Y32(OBGRA[s,_3DLx2_],OBGRA[s,_3DLy2_],OBGRA[s,_3DLz2_]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' tamaño='0' ancho='OBGRA[s,_wdth]+2*((s==selOBGRA)|((s==selL_for_SvsL)&(status==segmento))|((s==selL_for_TvsL)&(status==plano)))' info='Las rectas dentro de la caja' ">
      <param name="G_65" value="espacio='E3_2' tipo='segmento' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(OBGRA[s,_type]==segment)&(!OBGRA[s,_isLine])&(OBGRA[s,_vsL]>=minNOG)&OBGRA[s,_xin]&isVisible(s)' coord_abs='no' expresión='(x32(OBGRA[s,_near1]),y32(OBGRA[s,_near1]))(X32(OBGRA[s,_3DLx1_],OBGRA[s,_3DLy1_],OBGRA[s,_3DLz1_]),Y32(OBGRA[s,_3DLx1_],OBGRA[s,_3DLy1_],OBGRA[s,_3DLz1_]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' tamaño='0' ancho='OBGRA[s,_wdth]+0*(aspect==0)+2*(s==selOBGRA)' info='Los segmentos vs L 1' ">
      <param name="G_66" value="espacio='E3_2' tipo='segmento' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(OBGRA[s,_type]==segment)&(!OBGRA[s,_isLine])&(OBGRA[s,_vsL]>=minNOG)&OBGRA[s,_xin]&isVisible(s)' coord_abs='no' expresión='(x32(OBGRA[s,_near2]),y32(OBGRA[s,_near2]))(X32(OBGRA[s,_3DLx2_],OBGRA[s,_3DLy2_],OBGRA[s,_3DLz2_]),Y32(OBGRA[s,_3DLx2_],OBGRA[s,_3DLy2_],OBGRA[s,_3DLz2_]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' tamaño='0' ancho='OBGRA[s,_wdth]+0*(aspect==0)+2*(s==selOBGRA)' info='Los segmentos vs L 2' ">
      <param name="G_67" value="espacio='E3_2' tipo='segmento' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='isVisible(s)&(OBGRA[s,_type]==segment)&(!OBGRA[s,_isLine])&((OBGRA[s,_vsL]<0)|(!OBGRA[s,_xin]))' coord_abs='no' expresión='(x32(OBGRA[s,0]),y32(OBGRA[s,0]))(x32(OBGRA[s,1]),y32(OBGRA[s,1]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' tamaño='0' ancho='OBGRA[s,_wdth]+2*(s==selOBGRA)' info='Los segmentos normales' ">
      <param name="G_68" value="espacio='E3_2' tipo='arco' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(OBGRA[s,_type]==point)&(OBGRA[s,_wdth]>0)&isVisible(s)' coord_abs='no' centro='(x32(s),y32(s))' radio='sqrtszfctr*(1+OBGRA[s,_wdth])/E3.escala' inicio='0' fin='360' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' relleno='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],00)' ancho='1' info='Los puntos' ">
      <param name="G_69" value="espacio='E3_2' tipo='arco' color='(COL[OBGRA[selOBGRA,_col],_rojo],COL[OBGRA[selOBGRA,_col],_verd],COL[OBGRA[selOBGRA,_col],_azul],0.5)' dibujar-si='(selOBGRA>=minNOG)&(OBGRA[selOBGRA,_type]==control)&!isVisible(selOBGRA)' coord_abs='no' centro='(x32(selOBGRA),y32(selOBGRA))' radio='sqrtszfctr*(5+OBGRA[selOBGRA,_wdth])/E3.escala' inicio='0' fin='360' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],00)' ancho='1' lineDash='dot' info='Control seleccionado fuera de la caja' ">
      <param name="G_70" value="espacio='E3_2' tipo='arco' color='(COL[OBGRA[selOBGRA,_col],_rojo],COL[OBGRA[selOBGRA,_col],_verd],COL[OBGRA[selOBGRA,_col],_azul],00)' dibujar-si='(selOBGRA>=minNOG)&((OBGRA[selOBGRA,_type]==control)|(OBGRA[selOBGRA,_type]==point))&isVisible(selOBGRA)' coord_abs='no' centro='(x32(selOBGRA),y32(selOBGRA))' radio='sqrtszfctr*(6-2*(OBGRA[selOBGRA,_type]==point)+OBGRA[selOBGRA,_wdth])/E3.escala' inicio='0' fin='360' decimales='0' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],00)' ancho='1' info='Punto o Control seleccionado dentro de la caja' ">
      <param name="G_71" value="espacio='E3_2' tipo='arco' color='(COL[OBGRA[selOBGRA,_col],_rojo],COL[OBGRA[selOBGRA,_col],_verd],COL[OBGRA[selOBGRA,_col],_azul],COL[OBGRA[selOBGRA,_col],_trns])' dibujar-si='(selOBGRA>=minNOG)&(OBGRA[selOBGRA,_type]==point)&isVisible(selOBGRA)' coord_abs='no' centro='(x32(selOBGRA),y32(selOBGRA))' radio='sqrtszfctr*(1+OBGRA[selOBGRA,_wdth])/E3.escala' inicio='0' fin='360' relleno='(COL[OBGRA[selOBGRA,_col],_rojo],COL[OBGRA[selOBGRA,_col],_verd],COL[OBGRA[selOBGRA,_col],_azul],COL[OBGRA[selOBGRA,_col],_trns])' ancho='1' info='Punto seleccionado' ">
      <param name="G_72" value="espacio='E3_2' tipo='arco' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],0.5)' dibujar-si='(!forPrinting)&(OBGRA[s,_type]==control)&(!OBGRA[s,_invalid])&afuera(X2(s),Y2(s),Z2(s))' coord_abs='no' centro='(x32(s),y32(s))' radio='sqrtszfctr*(3+OBGRA[s,_wdth])/E3.escala' inicio='0' fin='360' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],00)' ancho='2' lineDash='dot' info='Los controles fuera de la caja' ">
      <param name="G_73" value="espacio='E3_2' tipo='arco' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(!forPrinting)&(OBGRA[s,_type]==control)&isVisible(s)' coord_abs='no' centro='(x32(s),y32(s))' radio='sqrtszfctr*(3+OBGRA[s,_wdth])/E3.escala' inicio='0' fin='360' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' decimales='0' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],00)' ancho='2' info='Los controles dentro de la caja' ">
      <param name="G_74" value="espacio='E3_2' tipo='texto' color='(COL[col_puntos,_rojo],COL[col_puntos,_verd],COL[col_puntos,_azul],0.75)' dibujar-si='show_names&hasName(s)&(OBGRA[s,_type==control])&afuera(X2(s),Y2(s),Z2(s))&&calcXtYt(s)' coord_abs='sí' expresión='[Ew/2+E3.escala*X_t(s)+_dXt_,Eh/2-E3.escala*Y_t(s)+_dYt_]' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' texto='[getName(s)]' ancho='1' cursiva='sí' font_family='Serif' fuente puntos='20' align='a_center' anchor='a_center_center' info='Nombres de controles fuera de la caja' ">
      <param name="G_75" value="espacio='E3_2' tipo='texto' color='(COL[col_puntos,_rojo],COL[col_puntos,_verd],COL[col_puntos,_azul],COL[col_puntos,_trns])' dibujar-si='show_names&hasName(s)&isVisible(s)&calcXtYt(s)' coord_abs='sí' expresión='[Ew/2+E3.escala*X_t(s)+_dXt_,Eh/2-E3.escala*Y_t(s)+_dYt_]' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' texto='[getName(s)]' ancho='1' color_borde_texto='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],00)' cursiva='sí' font_family='Serif' fuente puntos='20' align='a_center' anchor='a_center_center' info='Nombres de puntos, ángulos, segmentos y triángulos' ">
      <param name="G_76" value="espacio='E3_2' tipo='segmento' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='E3.mouse_pressed&((E3.mouse_x!=X2(E2.MD))|(E3.mouse_y!=Y2(E2.MD)))&((status==recta)|(status==mediatriz)|(status==paralela)|((status==pie)&(selP1<0))|drawingBisector&(selP1>0))&(cLINE>=0)' coord_abs='no' expresión='(OBGRA[cLINE,_3DLx1_],OBGRA[cLINE,_3DLy1_])(OBGRA[cLINE,_3DLx2_],OBGRA[cLINE,_3DLy2_])' decimales='0' tamaño='0' ancho='ancho' lineDash='dash' info='Construcción:recta' ">
      <param name="G_77" value="espacio='E3_2' tipo='segmento' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='(E3.mouse_pressed)&(((status==pie)&(selP1>0))|(status==segmento)&(!OBGRA[s,_isLine])|(drawingAngle|drawingBisector)&(selP1>0)&(selP2>0))' coord_abs='no' expresión='(x32(selP1),y32(selP1))(E3.mouse_x,E3.mouse_y)' tamaño='0' ancho='(status==angulo)?1:ancho' lineDash='dash' info='Construcción:segmento,angulo,bisectriz' ">
      <param name="G_78" value="espacio='E3_2' tipo='segmento' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='E3.mouse_pressed&(drawingAngle|drawingBisector)' coord_abs='no' expresión='(x32(selP1),y32(selP1))(x32(selP2),y32(selP2))' tamaño='0' ancho='1' lineDash='dash' info='Construcción:angulo,bisectriz' ">
      <param name="G_79" value="espacio='E3_2' tipo='arco' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='E3.mouse_pressed&drawingAngle&(selP1>0)&(selP2>0)' coord_abs='no' centro='(x32(OBGRA[E2.Ang,_p2]),y32(OBGRA[E2.Ang,_p2]))' radio='48/E3_2.escala' inicio='(x32(selP2)-x32(selP1),y32(selP2)-y32(selP1))' fin='(E3.mouse_x-x32(selP1),E3.mouse_y-y32(selP1))' vectores='sí' relleno='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],(COL[color,_trns]+1)/2)' ancho='0' info='Construcción:angulo' ">
      <param name="G_80" value="espacio='E3_2' tipo='arco' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='(status==puntoMedio)&(E3.mouse_pressed)' coord_abs='no' centro='((x32(selOBGRA)+E3.mouse_x)/2,(y32(selOBGRA)+E3.mouse_y)/2)' radio='((4+ancho)/2)/E2.escala' inicio='0' fin='360' relleno='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' ancho='1' info='Construcción:puntoMedio' ">
      <param name="G_81" value="espacio='E3_2' tipo='polígono' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],[3/4])' dibujar-si='(status==plano)&(selP2>0)&E3.mouse_pressed' coord_abs='no' expresión='(E3.mouse_x,E3.mouse_y)(x32(selP2),y32(selP2))(x32(selOBGRA),y32(selOBGRA))(E3.mouse_x,E3.mouse_y)' relleno='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],[5/6])' ancho='1' lineDash='dash' info='construcción del triángulo' ">
      <param name="G_82" value="espacio='E3_2' tipo='arco' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='(selOBGRA>=0)&(selS1<0)&(status==circuloRC)&(E3.mouse_pressed)' coord_abs='no' centro='(X2(E2.MD),Y2(E2.MD))' radio='sqrt((X2(E2.MD)-E3.mouse_x)^2+(Y2(E2.MD)-E3.mouse_y)^2)' inicio='0' fin='360' ancho='ancho' lineDash='dash' info='Construcción:circulo' ">
      <param name="G_83" value="espacio='E3_2' tipo='arco' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='(selOBGRA>=0)&(selS1>=0)&(status==circuloRC)&(E3.mouse_pressed)' coord_abs='no' centro='(E3.mouse_x,E3.mouse_y)' radio='dist(OBGRA[selOBGRA,_1],OBGRA[selOBGRA,_2])' inicio='0' fin='360' ancho='ancho' lineDash='dash' info='Construcción:circulo desde segmento' ">
      <param name="G_84" value="espacio='E3_2' tipo='segmento' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='E3.mouse_pressed&((status==intersection)|(status==eje_radical)|(status==inversion)|(status==curva)|(status==bisectriz)&(!drawingBisector)|(status==angulo)&(!drawingAngle)&(selL1>0)|(status==plano)&(selL1>0))' coord_abs='no' expresión='(X2(E2.MD),Y2(E2.MD))(X2(E2.M),Y2(E2.M))' tamaño='0' ancho='3' lineDash='dot' info='Construcción dotted line' ">
      <param name="G_85" value="espacio='E3_2' tipo='punto' color='(COL[col_puntos,_rojo],COL[col_puntos,_verd],COL[col_puntos,_azul],COL[col_puntos,_trns])' dibujar-si='E3.mouse_pressed&(help_text!=&squot;&squot;)&((X2(E2.M)!=X2(E2.MD))|(Y2(E2.M)!=Y2(E2.MD)))' coord_abs='no' expresión='((X2(E2.MD)+X2(E2.M))/2-16/E2.escala,(Y2(E2.MD)+Y2(E2.M))/2+8/E2.escala)' texto='[help_text]' decimales='0' tamaño='0' info='Construcción help_text' ">
      <param name="G_86" value="espacio='E3_2' tipo='flecha' color='(0.92*(s==1),0.08*(s==1)+0.70*(s==2)+0.40*(s==0),0.16*(s==1)+0.40*(s==2)+0.95*(s==0),00)' dibujar-si='ver_ejes' coord_abs='no' expresión='(X32(-E2.pixOx,-E2.pixOy,-E2.pixOz),Y32(-E2.pixOx,-E2.pixOy,-E2.pixOz))(X32(-E2.pixOx+szAxis*(s==0),-E2.pixOy+szAxis*(s==1),-E2.pixOz+szAxis*(s==2)),Y32(-E2.pixOx+szAxis*(s==0),-E2.pixOy+szAxis*(s==1),-E2.pixOz+szAxis*(s==2)))' familia='s' s.intervalo='[0,2]' s.pasos='2' ancho='2' punta='5' flecha='(0.92*(s==1),0.08*(s==1)+0.70*(s==2)+0.40*(s==0),0.16*(s==1)+0.40*(s==2)+0.95*(s==0),00)' info='ejes x-y-z' ">
      <param name="G_87" value="espacio='E3_2' tipo='punto' color='(COL[gris_descartes,_rojo],COL[gris_descartes,_verd],COL[gris_descartes,_azul],00)' dibujar-si='ver_ejes' coord_abs='no' expresión='(X32(-E2.pixOx,-E2.pixOy,-E2.pixOz),Y32(-E2.pixOx,-E2.pixOy,-E2.pixOz))' tamaño='2' info='Origen' ">
      <param name="G_88" value="espacio='FUNCTHIN' tipo='rectángulo' color='(COL[undo_color,_rojo],COL[undo_color,_verd],COL[undo_color,_azul],00)' dibujar-si='0&(undo_status>=0)&(undo_status<nF)' coord_abs='sí' expresión='(0,FUNC._h-Lph+1-(1+undo_status)*thbh,bw-4,thbh)' ancho='2' border_radius='5' info='Marca de undo_status' ">
      <param name="G_89" value="espacio='FUNCTHIN' tipo='arco' color='(COL[undo_color,_rojo],COL[undo_color,_verd],COL[undo_color,_azul],00)' dibujar-si='(undo_status>=0)&(undo_status<nF)' coord_abs='sí' centro='(bw/2-2,FUNC._h-Lph+1-(1+undo_status)*thbh+bw/2-2)' radio='bw/4' inicio='0' fin='360' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],aa)' ancho='2' info='circulito de undo' ">
      <param name="G_90" value="espacio='E3_2' tipo='flecha' color='(COL[fuerte_strong,_rojo],COL[fuerte_strong,_verd],COL[fuerte_strong,_azul],00)' dibujar-si='E3.mouse_pressed' coord_abs='no' expresión='(E3.mouse_x+12/E3.escala,E3.mouse_y-28/E3.escala)(E3.mouse_x-2/E3.escala,E3.mouse_y+4/E3.escala)' decimales='0' ancho='4' punta='8' flecha='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],00)' info='Flecha para señalar' ">
      <param name="G_91" value="espacio='CTRLG' tipo='texto' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' coord_abs='sí' expresión='(CTRLG._w-cgw,cgh/2)' texto='[(status==cambiar)?nCHG:NOG-101]' decimales='0' ancho='1' fuente puntos='[17*szfctr]' align='a_center' anchor='a_center_center' info='NOG' ">
      <param name="G_92" value="espacio='CTRLG' tipo='rectángulo' color='80000000' dibujar-si='TCL.ready' coord_abs='sí' expresión='(0,0,CTRLG._w,CTRLG._h)' relleno='a0000000' ancho='0' info='tapadera' ">
      <param name="G_93" value="espacio='E3_2' tipo='rectángulo' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' dibujar-si='showctrls' coord_abs='sí' expresión='(0,0,Ew-2,Eh-2)' ancho='1' border_radius='3' info='Marco de E3_2' ">
      <param name="G_94" value="espacio='FUNCTHIN' tipo='imagen' dibujar-si='(undo_status>=0)&(undo_status<nF)' coord_abs='sí' expresión='(bw/2-2,FUNC._h-Lph+1-(1+undo_status)*thbh+bw/2-3,0.5,0.5)' archivo='[icons_dir()+undoredoicon]' info='icono de undo' ">
      <param name="G_95" value="espacio='FUNC' tipo='rectángulo' fondo='sí' color='ff000000' dibujar-si='(!(euclideana|(s==8)))|((s>=8)&show_E3)' coord_abs='sí' expresión='(Xb(s+6)+4,Yb(s+6)+1,bnw-6,bnh-1)' familia='s' s.intervalo='[0,9]' s.pasos='9' relleno='(40,40,40,(aspect)?0.500:0.750)' ancho='0' border_radius='5' info='Bloqueo de los iconos inactivos en Proyectiva' ">
      <param name="G_96" value="espacio='FUNC' tipo='rectángulo' color='80000000' dibujar-si='TCL.ready' coord_abs='sí' expresión='(0,0,FUNC._w,FUNC._h)' relleno='a0000000' ancho='0' info='tapadera' ">
      <param name="G_97" value="espacio='FUNCTHIN' tipo='rectángulo' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' dibujar-si='(!euclideana)&((s>=6)&(s!=14))|(show_E3&(s>=14))' coord_abs='sí' expresión='(2,FUNC._h-Lph+3-(1+s)*thbh,bw-8,thbh-4)' familia='s' s.intervalo='[0,15]' s.pasos='15' relleno='aaff2244' ancho='1' border_radius='3' info='Bloqueo de iconos inactivos en proyectiva' ">
      <param name="G_98" value="espacio='FUNCTHIN' tipo='rectángulo' color='80000000' dibujar-si='TCL.ready' coord_abs='sí' expresión='(0,0,FUNCTHIN._w,FUNCTHIN._h)' relleno='a0000000' ancho='0' info='tapadera' ">
      <param name="G_99" value="espacio='E2' tipo='imagen' fondo='sí' dibujar-si='(bg_img!=&squot;&squot;)' coord_abs='no' expresión='(bg_img_x,bg_img_y,bg_img_amp*E2.escala/48,bg_img_amp*E2.escala/48)' archivo='[bg_img]' rotini='[bg_img_a]' info='imagen' ">
      <param name="G_100" value="espacio='E2' tipo='flecha' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='showFlechas&(OBGRA[s,_type]==segment)&isVisible(s)' coord_abs='no' expresión='(OBGRA[s,_L_x1],OBGRA[s,_L_y1])(OBGRA[s,_L_x1]+OBGRA[s,_L_ux],OBGRA[s,_L_y1]+OBGRA[s,_L_uy])' familia='s' s.intervalo='[minNOG,NOG-1]' s.pasos='NOG-minNOG-1' ancho='1' punta='5' flecha='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' info='Las direcciones de las rectas' ">
      <param name="G_101" value="espacio='E2' tipo='arco' color='ff000000' dibujar-si='(OBGRA[s,_type]==angle)&isVisible(s)//&(_Print_(&squot;angle &squot;+s+&squot; &squot;+OBGRA[s,_v1x]+&squot; &squot;+OBGRA[s,_v1y]+&squot; &squot;+ +OBGRA[s,_v2x]+&squot; &squot;+OBGRA[s,_v2y])|1)' coord_abs='no' centro='(OBGRA[s,_p4],OBGRA[s,_p5])' radio='OBGRA[s,_rad]' inicio='(OBGRA[s,_v1x],OBGRA[s,_v1y])' fin='(OBGRA[s,_v2x],OBGRA[s,_v2y])' vectores='sí' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' relleno='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[0.5-(selOBGRA==s)*0.25])' ancho='0' info='Ángulos' ">
      <param name="G_102" value="espacio='E2' tipo='segmento' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(OBGRA[s,_type]==segment)&(!OBGRA[s,_isLine])&(OBGRA[s,_vsL]>=minNOG)&OBGRA[s,_xin]&isVisible(s)' coord_abs='no' expresión='(OBGRA[s,_3DLx1_],OBGRA[s,_3DLy1_])(X2(OBGRA[s,_near1]),Y2(OBGRA[s,_near1]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' tamaño='0' ancho='OBGRA[s,_wdth]+2*(s==selOBGRA)' info='Los segmentos vs L' ">
      <param name="G_103" value="espacio='E2' tipo='segmento' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(OBGRA[s,_type]==segment)&(!OBGRA[s,_isLine])&(OBGRA[s,_vsL]>=minNOG)&OBGRA[s,_xin]&isVisible(s)' coord_abs='no' expresión='(X2(OBGRA[s,_near2]),Y2(OBGRA[s,_near2]))(OBGRA[s,_3DLx2_],OBGRA[s,_3DLy2_])' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' tamaño='0' ancho='OBGRA[s,_wdth]+2*(s==selOBGRA)' info='Los segmentos vs L' ">
      <param name="G_104" value="espacio='E2' tipo='macro' dibujar-si='(!COL[OBGRA[REGLADO[s,0],_col],_hidden])&R_E2.cfg(s)' coord_abs='no' nombre='R_E2' expresión='macros/BasicLineFam.txt' familia='s' s.intervalo='[0,num_reglados-1]' s.pasos='num_reglados-1' posini='[0,0]' info='Reglados en E2 con macro' ">
      <param name="G_105" value="espacio='E2' tipo='polígono' color='000000' dibujar-si='(OBGRA[s,_type]==triangle)&isVisible(s)&(!OBGRA[s,_cut])' coord_abs='no' expresión='(X2(OBGRA[s,_p1]),Y2(OBGRA[s,_p1]))(X2(OBGRA[s,_p2]),Y2(OBGRA[s,_p2]))(X2(OBGRA[s,_p3]),Y2(OBGRA[s,_p3]))(X2(OBGRA[s,_p1]),Y2(OBGRA[s,_p1]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' relleno='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[(COL[OBGRA[s,_col],_trns]+3)/(4+OBGRA[s,_wdth])])' ancho='0' info='Los triángulos' ">
      <param name="G_106" value="espacio='E2' tipo='polígono' color='(COL[OBGRA[selOBGRA,_col],_rojo],COL[OBGRA[selOBGRA,_col],_verd],COL[OBGRA[selOBGRA,_col],_azul],00)' dibujar-si='(selOBGRA>=0)&(OBGRA[selOBGRA,_type]==triangle)&isVisible(selOBGRA)' coord_abs='no' expresión='(X2(OBGRA[selOBGRA,_p1]),Y2(OBGRA[selOBGRA,_p1]))(X2(OBGRA[selOBGRA,_p2]),Y2(OBGRA[selOBGRA,_p2]))(X2(OBGRA[selOBGRA,_p3]),Y2(OBGRA[selOBGRA,_p3]))(X2(OBGRA[selOBGRA,_p1]),Y2(OBGRA[selOBGRA,_p1]))' ancho='2' lineDash='dash' info='triángulo seleccionado' ">
      <param name="G_107" value="espacio='E2' tipo='polígono' color='(COL[OBGRA[selOBGRA,_col],_rojo],COL[OBGRA[selOBGRA,_col],_verd],COL[OBGRA[selOBGRA,_col],_azul],00)' dibujar-si='(status==triangle)&(selL_for_SvsL>=0)&(OBGRA[selL_for_SvsL,_type]==triangle)&isVisible(selL_for_SvsL)' coord_abs='no' expresión='(X2(OBGRA[selL_for_SvsL,_p1]),Y2(OBGRA[selL_for_SvsL,_p1]))(X2(OBGRA[selL_for_SvsL,_p2]),Y2(OBGRA[selL_for_SvsL,_p2]))(X2(OBGRA[selL_for_SvsL,_p3]),Y2(OBGRA[selL_for_SvsL,_p3]))(X2(OBGRA[selL_for_SvsL,_p1]),Y2(OBGRA[selL_for_SvsL,_p1]))' ancho='2' lineDash='dash' info='triángulo selL_for_SvsL' ">
      <param name="G_108" value="espacio='E2' tipo='curva' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[(COL[OBGRA[s,_col],_trns]+2+1*(s!=selOBGRA)&(s!=selL_for_SvsL))/(4+OBGRA[s,_wdth])])' dibujar-si='(OBGRA[s,_type]==triangle)&isVisible(s)&(OBGRA[s,_wdth]>0)&(OBGRA[s,_cut])' coord_abs='no' expresión='(OBGRA[s,_np1+3*(t%OBGRA[s,_np1])+1],OBGRA[s,_np1+3*(t%OBGRA[s,_np1])+2])' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' parámetro='t' t.intervalo='[0,OBGRA[s,_np1]]' t.pasos='OBGRA[s,_np1]' relleno='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[(COL[OBGRA[s,_col],_trns]+2+1*(s!=selOBGRA)&(s!=selL_for_SvsL))/(4+OBGRA[s,_wdth])])' ancho='0' info='Triangulos vsL 1' ">
      <param name="G_109" value="espacio='E2' tipo='curva' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[(COL[OBGRA[s,_col],_trns]+2+1*(s!=selOBGRA)&(s!=selL_for_SvsL))/(4+OBGRA[s,_wdth])])' dibujar-si='(OBGRA[s,_type]==triangle)&isVisible(s)&(OBGRA[s,_wdth]>0)&(OBGRA[s,_cut])' coord_abs='no' expresión='(OBGRA[s,_np2+3*(t%OBGRA[s,_np2])+1],OBGRA[s,_np2+3*(t%OBGRA[s,_np2])+2])' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' parámetro='t' t.intervalo='[0,OBGRA[s,_np2]]' t.pasos='OBGRA[s,_np2]' relleno='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],[(COL[OBGRA[s,_col],_trns]+2+1*(s!=selOBGRA)&(s!=selL_for_SvsL))/(4+OBGRA[s,_wdth])])' ancho='0' info='Triangulos vsL 2' ">
      <param name="G_110" value="espacio='E2' tipo='curva' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(OBGRA[s,_type]==segment)&(OBGRA[s,_isLine])&isVisible(s)' coord_abs='no' expresión='(OBGRA[s,_3DLx1_]+t*(OBGRA[s,_3DLx2_]-OBGRA[s,_3DLx1_]),OBGRA[s,_3DLy1_]+t*(OBGRA[s,_3DLy2_]-OBGRA[s,_3DLy1_]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' parámetro='t' t.intervalo='[-0.1/amp_3D,1+0.1/amp_3D]' t.pasos='1' ancho='OBGRA[s,_wdth]+2*((s==selOBGRA)|((s==selL_for_SvsL)&(status==segmento))|((s==selL_for_TvsL)&(status==plano)))' info='Las rectas implementadas como curvas' ">
      <param name="G_111" value="espacio='E2' tipo='segmento' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(OBGRA[s,_type]==segment)&(!OBGRA[s,_isLine])&((OBGRA[s,_vsL]<0)|(OBGRA[s,_xin]==0))&isVisible(s)' coord_abs='no' expresión='(X2(OBGRA[s,0]),Y2(OBGRA[s,0]))(X2(OBGRA[s,1]),Y2(OBGRA[s,1]))' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' tamaño='0' ancho='OBGRA[s,_wdth]+2*(s==selOBGRA)' info='Los segmentos normales' ">
      <param name="G_112" value="espacio='E2' tipo='arco' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(OBGRA[s,_type]==circle)&OBGRA[s,_is2D]&isVisible(s)&(Z2(OBGRA[s,_centro])==0)' coord_abs='no' centro='(X2(OBGRA[s,_centro]),Y2(OBGRA[s,_centro]))' radio='OBGRA[s,_r]' inicio='0' fin='360' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' ancho='OBGRA[s,_wdth]+2*(s==selOBGRA)' info='Los círculos' ">
      <param name="G_113" value="espacio='E2' tipo='macro' dibujar-si='(num_curvas>0)&(!COL[OBGRA[CURVA[s,0],_col],_hidden])&C_E2.cfg(s)&(OBGRA[CURVA[s,0],_Eq_]==&squot;&squot;)' coord_abs='no' nombre='C_E2' expresión='macros/BasicLineFam.txt' familia='s' s.intervalo='[0,num_curvas-1]' s.pasos='num_curvas-1' posini='[0,0]' info='Curvas en E2 con macro' ">
      <param name="G_114" value="espacio='E2' tipo='ecuación' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='isVisible(s)&((OBGRA[s,_type]==conic5pts)|(OBGRA[s,_type]==cubic9pts)|((OBGRA[s,_type]==curve)&(OBGRA[s,_Eq_]!=&squot;&squot;)))' coord_abs='no' expresión='_Eval_(OBGRA[s,_Eq_])=0' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' ancho='OBGRA[s,_wdth]+(s==selOBGRA)*2' info='conic5pts y cubic9pts' ">
      <param name="G_115" value="espacio='E2' tipo='arco' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(OBGRA[s,_type]==point)&isVisible(s)&(OBGRA[s,_wdth]>0)' coord_abs='no' centro='(X2(s),Y2(s))' radio='sqrtszfctr*(1+OBGRA[s,_wdth]+inCnstrctn(s))/E2.escala' inicio='0' fin='360' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' decimales='4' relleno='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' ancho='1' info='Los puntos' ">
      <param name="G_116" value="espacio='E2' tipo='arco' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='showFlechas&(OBGRA[s,_type]==point)&isVisible(s)&(OBGRA[s,_wdth]>0)&(OBGRA[s,_w]<0)' coord_abs='no' centro='(X2(s),Y2(s))' radio='sqrtszfctr*(1+OBGRA[s,_wdth]+inCnstrctn(s)+5)/E2.escala' inicio='0' fin='360' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' decimales='4' ancho='1' info='Los puntos' ">
      <param name="G_117" value="espacio='E2' tipo='arco' color='(COL[OBGRA[selOBGRA,_col],_rojo],COL[OBGRA[selOBGRA,_col],_verd],COL[OBGRA[selOBGRA,_col],_azul],COL[OBGRA[selOBGRA,_col],_trns])' dibujar-si='(selOBGRA>=minNOG)&((OBGRA[selOBGRA,_type]==control)|(OBGRA[selOBGRA,_type]==point))&isVisible(selOBGRA)' coord_abs='no' centro='(X2(selOBGRA),Y2(selOBGRA))' radio='sqrtszfctr*(5-((OBGRA[selOBGRA,_type]==point))-s+OBGRA[selOBGRA,_wdth]+(OBGRA[selOBGRA,_type]==control))/E2.escala' inicio='0' fin='360' familia='s' s.intervalo='[0,1]' s.pasos='1' relleno='(COL[OBGRA[selOBGRA,_col],_rojo],COL[OBGRA[selOBGRA,_col],_verd],COL[OBGRA[selOBGRA,_col],_azul],COL[OBGRA[selOBGRA,_col],_trns])' ancho='1' info='Punto o control seleccionado' ">
      <param name="G_118" value="espacio='E2' tipo='arco' color='(COL[OBGRA[selOBGRA,_col],_rojo],COL[OBGRA[selOBGRA,_col],_verd],COL[OBGRA[selOBGRA,_col],_azul],COL[OBGRA[selOBGRA,_col],_trns])' dibujar-si='(selOBGRA>=minNOG)&(OBGRA[selOBGRA,_type]==point)&isVisible(selOBGRA)' coord_abs='no' centro='(X2(selOBGRA),Y2(selOBGRA))' radio='sqrtszfctr*(1+OBGRA[selOBGRA,_wdth])/E2.escala' inicio='0' fin='360' relleno='(COL[OBGRA[selOBGRA,_col],_rojo],COL[OBGRA[selOBGRA,_col],_verd],COL[OBGRA[selOBGRA,_col],_azul],COL[OBGRA[selOBGRA,_col],_trns])' ancho='1' info='Punto seleccionado' ">
      <param name="G_119" value="espacio='E2' tipo='arco' color='(COL[OBGRA[s,_col],_rojo],COL[OBGRA[s,_col],_verd],COL[OBGRA[s,_col],_azul],COL[OBGRA[s,_col],_trns])' dibujar-si='(!forPrinting)&(OBGRA[s,_type]==control)&isVisible(s)' coord_abs='no' centro='(X2(s),Y2(s))' radio='sqrtszfctr*(3+OBGRA[s,_wdth]+ inCnstrctn(s))/E2.escala' inicio='0' fin='360' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' relleno='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],00)' ancho='2' info='Los controles' ">
      <param name="G_120" value="espacio='E2' tipo='texto' color='(COL[col_puntos,_rojo],COL[col_puntos,_verd],COL[col_puntos,_azul],COL[col_puntos,_trns])' dibujar-si='show_names&hasName(s)&isVisible(s)&calcXtYt(s)' coord_abs='sí' expresión='[E2._w/2+E2.Ox+E2.escala*X_t(s)+_dXt_,E2._h/2+E2.Oy-E2.escala*Y_t(s)+_dYt_]' familia='s' s.intervalo='[minNOG,NOGP-1]' s.pasos='NOGP-minNOG-1' texto='[getName(s)]' ancho='1' color_borde_texto='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],00)' cursiva='sí' font_family='Serif' fuente puntos='21' align='a_center' anchor='a_center_center' info='Nombres de puntos, ángulos, segmentos y triángulos' ">
      <param name="G_121" value="espacio='E2' tipo='segmento' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='((status==recta)|(status==mediatriz)|(status==paralela)|((status==pie)&(selP1<0))|(status==bisectriz)&drawingBisector)&(cLINE>=0)&E2.mouse_pressed&((X2(E2.MD)!=E2.mouse_x)|(Y2(E2.MD)!=E2.mouse_y))' coord_abs='no' expresión='(OBGRA[cLINE,_3DLx1_],OBGRA[cLINE,_3DLy1_])(OBGRA[cLINE,_3DLx2_],OBGRA[cLINE,_3DLy2_])' decimales='0' tamaño='0' ancho='ancho' lineDash='dash' info='Construcción:recta' ">
      <param name="G_122" value="espacio='E2' tipo='segmento' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='((status==segmento)|((status==pie)|drawingAngle|drawingBisector)&(selP1>0))&(E2.mouse_pressed)' coord_abs='no' expresión='(X2(selP1),Y2(selP1))(X2(E2.M),Y2(E2.M))' tamaño='0' ancho='(status==angulo)?1:ancho' lineDash='dash' info='Construcción:segmento,angulo,bisectriz' ">
      <param name="G_123" value="espacio='E2' tipo='segmento' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='drawingAngle|drawingBisector' coord_abs='no' expresión='(X2(selOBGRA),Y2(selOBGRA))(X2(selP2),Y2(selP2))' tamaño='0' ancho='1' lineDash='dash' info='Construcción:angulo,bisectriz' ">
      <param name="G_124" value="espacio='E2' tipo='arco' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='drawingAngle' coord_abs='no' centro='(X2(OBGRA[E2.Ang,_p2]),Y2(OBGRA[E2.Ang,_p2]))' radio='46/E2.escala' inicio='(OBGRA[E2.Ang,_v1x],OBGRA[E2.Ang,_v1y])' fin='(OBGRA[E2.Ang,_v2x],OBGRA[E2.Ang,_v2y])' vectores='sí' relleno='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],(COL[color,_trns]+1)/2)' ancho='0' info='Construcción:angulo' ">
      <param name="G_125" value="espacio='E2' tipo='polígono' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='(status==plano)&(selP2>0)&E2.mouse_pressed' coord_abs='no' expresión='(X2(selOBGRA),Y2(selOBGRA))(X2(E2.MD),Y2(E2.MD))(X2(E2.M),Y2(E2.M))(X2(selOBGRA),Y2(selOBGRA))' relleno='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],[5/6])' ancho='1' lineDash='dash' info='construcción del triángulo' ">
      <param name="G_126" value="espacio='E2' tipo='arco' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='(selOBGRA>=0)&(selS1>=0)&(status==circuloRC)&(E2.mouse_pressed)' coord_abs='no' centro='(X2(E2.M),Y2(E2.M))' radio='dist(OBGRA[selOBGRA,_1],OBGRA[selOBGRA,_2])' inicio='0' fin='360' ancho='ancho' lineDash='dash' info='Construcción:circulo desde segmento' ">
      <param name="G_127" value="espacio='E2' tipo='arco' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='(selOBGRA>=0)&(status==circuloRC)&(selP1>=0)&(selS1<0)&(E2.mouse_pressed)' coord_abs='no' centro='(X2(selP1),Y2(selP1))' radio='dist2D(selP1,E2.M)' inicio='0' fin='360' ancho='ancho' lineDash='dash' info='Construcción:circulo' ">
      <param name="G_128" value="espacio='E2' tipo='arco' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='(status==puntoMedio)&(E2.mouse_pressed)' coord_abs='no' centro='((X2(E2.MD)+X2(E2.M))/2,(Y2(E2.MD)+Y2(E2.M))/2)' radio='((4+ancho)/2)/E2.escala' inicio='0' fin='360' relleno='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' ancho='1' info='Construcción:puntoMedio' ">
      <param name="G_129" value="espacio='E2' tipo='segmento' color='(COL[color,_rojo],COL[color,_verd],COL[color,_azul],COL[color,_trns])' dibujar-si='E2.mouse_pressed&((status==intersection)|(status==eje_radical)|(status==inversion)|(status==curva)|(status==bisectriz)&(!drawingBisector)|(status==angulo)&(!drawingAngle)|(status==plano)&(selL1>0))' coord_abs='no' expresión='(X2(E2.MD),Y2(E2.MD))(X2(E2.M),Y2(E2.M))' tamaño='0' ancho='3' lineDash='dot' info='Construcción dotted line' ">
      <param name="G_130" value="espacio='E2' tipo='punto' color='(COL[col_puntos,_rojo],COL[col_puntos,_verd],COL[col_puntos,_azul],COL[col_puntos,_trns])' dibujar-si='E2.mouse_pressed&(help_text!=&squot;&squot;)&((X2(E2.M)!=X2(E2.MD))|(Y2(E2.M)!=Y2(E2.MD)))' coord_abs='no' expresión='((X2(E2.MD)+X2(E2.M))/2-16/E2.escala,(Y2(E2.MD)+Y2(E2.M))/2+8/E2.escala)' texto='[help_text]' decimales='0' tamaño='0' info='Construcción help' ">
      <param name="G_131" value="espacio='E2' tipo='flecha' color='(0.92*(s==1),0.08*(s==1)+0.70*(s==2)+0.40*(s==0),0.16*(s==1)+0.40*(s==2)+0.95*(s==0),00)' dibujar-si='ver_ejes' coord_abs='no' expresión='(-E2.pixOx,-E2.pixOy)(-E2.pixOx+szAxis*(1-1*s),-E2.pixOy+szAxis*1*s)' familia='s' s.intervalo='[0,1]' s.pasos='1' ancho='2' punta='5' flecha='(0.92*(s==1),0.08*(s==1)+0.70*(s==2)+0.40*(s==0),0.16*(s==1)+0.40*(s==2)+0.95*(s==0),00)' info='ejes x-y' ">
      <param name="G_132" value="espacio='E2' tipo='punto' color='(COL[gris_descartes,_rojo],COL[gris_descartes,_verd],COL[gris_descartes,_azul],00)' dibujar-si='ver_ejes' coord_abs='no' expresión='(-E2.pixOx,-E2.pixOy)' tamaño='2' info='Origen' ">
      <param name="G_133" value="espacio='E2' tipo='flecha' color='(COL[fuerte_strong,_rojo],COL[fuerte_strong,_verd],COL[fuerte_strong,_azul],00)' dibujar-si='E2.mouse_pressed' coord_abs='no' expresión='(E2.mouse_x+12/E2.escala,E2.mouse_y-28/E2.escala)(E2.mouse_x-2/E2.escala,E2.mouse_y+4/E2.escala)' decimales='0' ancho='4' punta='8' flecha='(COL[col_fondo,_rojo],COL[col_fondo,_verd],COL[col_fondo,_azul],00)' info='Flecha para señalar' ">
      <param name="G_134" value="espacio='E2' tipo='rectángulo' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],80)' dibujar-si='showctrls' coord_abs='sí' expresión='(0,0,Ew-2,Eh-2)' ancho='1' border_radius='5' info='Marco de E2' ">
      <param name="G_135" value="espacio='E2' tipo='rectángulo' color='80000000' dibujar-si='TCL.ready' coord_abs='sí' expresión='(0,0,E2._w,E2._h)' relleno='a0000000' ancho='0' info='tapadera' ">
      <param name="G_136" value="espacio='CONFIRM' tipo='rectángulo' fondo='sí' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' coord_abs='sí' expresión='(1,1,CONFIRM._w-2,CONFIRM._h-3)' relleno='(COL[col_menu,_rojo],COL[col_menu,_verd],COL[col_menu,_azul],00)' ancho='1' border_radius='30' info='fondo' ">
      <param name="G_137" value="espacio='CONFIRM' tipo='texto' color='(COL[col_textos,_rojo],COL[col_textos,_verd],COL[col_textos,_azul],00)' coord_abs='sí' expresión='(CONFIRM._w/2,CONFIRM._h/2)' texto='Esto cambiará la construcción' ancho='1' fuente puntos='22' align='a_center' anchor='a_bottom_center' info='¿Seguro que quiere hacer esta pendejada?' ">
      <param name="G_138" value="espacio='BACK' tipo='rectángulo' fondo='sí' color='20303a' dibujar-si='0' coord_abs='sí' expresión='(0,0,BACK._w,BACK._h)' relleno='(COL[col_menu,_rojo],COL[col_menu,_verd],COL[col_menu,_azul],COL[col_menu,_trns])' ancho='0' info='transparencia' ">
      <param name="G_139" value="espacio='BACK' tipo='texto' color='(COL[azul_descartes_strong,_rojo],COL[azul_descartes_strong,_verd],COL[azul_descartes_strong,_azul],00)' dibujar-si='(view_mode==vm_vwrd)|((view_mode==vm_view)&(!inRoliMode))' coord_abs='sí' expresión='(BACK._w/2,27)' texto='[the_title]' ancho='1' negrita='sí' cursiva='sí' font_family='Serif' fuente puntos='[26*szfctr]' align='a_center' anchor='a_center_center' info='El título de la escena para view mode' ">
      <param name="G_140" value="espacio='BACK' tipo='texto' fondo='sí' color='(COL[col_pasos,_rojo],COL[col_pasos,_verd],COL[col_pasos,_azul],00)' dibujar-si='((view_mode==vm_wkrd)|(view_mode==vm_vwrd))' coord_abs='sí' expresión='(Texx,Texy+textosCentrados*Texh/2)' texto='[prepareColors(the_left_text)]' ancho='Texw' font_family='Serif' fuente puntos='[Texf]' align='a_justify' anchor='a_top_left' info='El texto izquierdo' ">
      <param name="G_141" value="espacio='BACK' tipo='texto' fondo='sí' color='(COL[col_pasos,_rojo],COL[col_pasos,_verd],COL[col_pasos,_azul],00)' dibujar-si='((view_mode==vm_wkrd)|(view_mode==vm_vwrd))&(read_mode!=rm_L)&(read_mode!=rm_R)' coord_abs='sí' expresión='(Texrx,Texry+textosCentrados*Texh/2)' texto='[prepareColors(the_right_text)]' ancho='Texw' font_family='Serif' fuente puntos='[Texf]' align='a_justify' anchor='a_top_left' info='El texto derecho' ">
      <param name="G_142" value="espacio='BACK' tipo='rectángulo' color='80000000' dibujar-si='TCL.ready' coord_abs='sí' expresión='(0,0,BACK._w,BACK._h)' relleno='a0000000' ancho='0' info='tapadera' ">
      <param name="G_143" value="espacio='STEPS' tipo='texto' color='(COL[azul_descartes_strong,_rojo],COL[azul_descartes_strong,_verd],COL[azul_descartes_strong,_azul],00)' dibujar-si='_pasos_>1' coord_abs='sí' expresión='(40,20)' texto='[paso+1] / [_pasos_]' decimales='0' ancho='1' negrita='sí' fuente puntos='15' align='a_center' anchor='a_center_center' info='paso / pasos' ">
      <param name="G_144" value="espacio='E3_2' tipo='rectángulo' color='80000000' dibujar-si='TCL.ready' coord_abs='sí' expresión='(0,0,E3_2._w,E3_2._h)' relleno='a0000000' ancho='0' info='tapadera' ">
      <param name="Animación" value="pausa='20' controles='sí' auto='no' repetir='no' inicio='status=explorar;(anim_state==0)?init_anim_0():&squot;&squot;;_anim_on_=1;play_icon=(selOBGRA<0)?icons_dir()+&squot;/progeo-pause.svg&squot;:icons_dir()+&squot;/progeo-play-soft.svg&squot;;ROT_y=0;ROT_x=(anim_state==1)/4;' hacer='(anim_state==0)?do_anim_0():calcE3R();_anim_on_=((anim_state==1)&E3_2.mouse_pressed&PASOS[paso,12])?0:_anim_on_;(anim_state==2)?doShift():&squot;&squot;;(!_anim_on_)?selectAnimIcon():&squot;&squot;;selOBGRA=(!_anim_on_)?-1:selOBGRA;(!_anim_on_)?updateOBGRAs():&squot;&squot;;;;;;;;' mientras='_anim_on_' ">
    </ajs>
  </div>

<script type="descartes/library" id="biblioteca/LinearEquations">
id='Mmem' matriz='sí' evaluar='una-sola-vez' columnas='20' filas='20' tipo='matriz' 
id='Minv' matriz='sí' evaluar='una-sola-vez' columnas='20' filas='20' tipo='matriz' 
id='Vmem' vector='sí' evaluar='una-sola-vez' tamaño='20' tipo='vector' 
id='Smem' vector='sí' evaluar='una-sola-vez' tamaño='20' tipo='vector' 
id='initSmem()' algoritmo='sí' expresión='1' local='i' inicio='i=0' hacer='Smem[i]=0;i=i+1' mientras='i<_Msize' tipo='función' 
id='initMinv()' algoritmo='sí' expresión='0' local='i,j' inicio='i=0;j=0' hacer='Minv[i,j]=(i==j)?1:0;i=(j+1<_Msize)?i:i+1;j=(j+1<_Msize)?j+1:0;' mientras='i<_Msize' tipo='función' 
id='initMmemFromM(Msize)' algoritmo='sí' expresión='0' local='i,j' inicio='i=0;j=0' hacer='Mmem[i,j]=M[i,j];i=(j+1<Msize)?i:i+1;j=(j+1<Msize)?j+1:0;' mientras='i<Msize' tipo='función' 
id='DiagSup()' algoritmo='sí' expresión='0' local='indx' inicio='indx=0' hacer='BarreFilasDS(indx+1);indx=indx+1' mientras='indx<_Msize' tipo='función' 
id='BarreFilasDS(i)' algoritmo='sí' expresión='0' local='t1,iloop' inicio='iloop=i;t1=iloop-1' hacer='redfila1(iloop,t1);iloop=iloop+1' mientras='iloop<_Msize' tipo='función' 
id='redfila1(i,t1)' algoritmo='sí' expresión='0' local='z,j' inicio='z=Mmem[i,t1]/Mmem[t1,t1];j=0' hacer='Mmem[i,j]=Mmem[i,j]-z*Mmem[t1,j];Minv[i,j]=Minv[i,j]-z*Minv[t1,j];j=j+1' mientras='j<_Msize' tipo='función' 
id='DiagInf()' algoritmo='sí' expresión='0' local='indx' inicio='indx=_Msize-1' hacer='BarreFilasDI(indx-1);indx=indx-1' mientras='indx>0' tipo='función' 
id='BarreFilasDI(i)' algoritmo='sí' expresión='0' local='t1,iloop' inicio='iloop=i;t1=iloop+1' hacer='redfila2(iloop,t1);iloop=iloop-1' mientras='iloop>-1' tipo='función' 
id='redfila2(i,t1)' algoritmo='sí' expresión='0' local='z,j' inicio='z=Mmem[i,t1]/Mmem[t1,t1];j=0' hacer='Mmem[i,j]=Mmem[i,j]-z*Mmem[t1,j];Minv[i,j]=Minv[i,j]-z*Minv[t1,j];j=j+1' mientras='j<_Msize' tipo='función' 
id='NormMat()' algoritmo='sí' expresión='0' local='i,t' inicio='i=0' hacer='t=Mmem[i,i];NormFilas(i,t);i=i+1' mientras='i<_Msize' tipo='función' 
id='NormFilas(i,t)' algoritmo='sí' expresión='0' local='j' inicio='j=0' hacer='Mmem[i,j]=Mmem[i,j]/t;Minv[i,j]=Minv[i,j]/t;j=j+1' mientras='j<_Msize' tipo='función' 
id='invertM(Msize)' algoritmo='sí' expresión='1' hacer='initMmemFromM(Msize);invertMmem(Msize)' tipo='función' 
id='invertMmem(Msize)' algoritmo='sí' expresión='1' inicio='_Msize=Msize' hacer='initMinv();DiagSup();DiagInf();NormMat()' tipo='función' 
id='AssignMmem4(a00,a10,a20,a30,a01,a11,a21,a31,a02,a12,a22,a32,a03,a13,a23,a33)' algoritmo='sí' expresión='1' hacer='Mmem[0,0]=a00;Mmem[0,1]=a10;Mmem[0,2]=a20;Mmem[0,3]=a30;;Mmem[1,0]=a01;Mmem[1,1]=a11;Mmem[1,2]=a21;Mmem[1,3]=a31;;Mmem[2,0]=a02;Mmem[2,1]=a12;Mmem[2,2]=a22;Mmem[2,3]=a32;Mmem[2,4]=a42;;Mmem[3,0]=a03;Mmem[3,1]=a13;Mmem[3,2]=a23;Mmem[3,3]=a33;' tipo='función' 
id='AssignVmem4(c0,c1,c2,c3)' algoritmo='sí' expresión='1' hacer='Vmem[0]=c0;Vmem[1]=c1;Vmem[2]=c2;Vmem[3]=c3;' tipo='función' 
id='AssignMmem5(a00,a10,a20,a30,a40,a01,a11,a21,a31,a41,a02,a12,a22,a32,a42,a03,a13,a23,a33,a43,a04,a14,a24,a34,a44)' algoritmo='sí' expresión='1' hacer='Mmem[0,0]=a00;Mmem[0,1]=a10;Mmem[0,2]=a20;Mmem[0,3]=a30;Mmem[0,4]=a40;;Mmem[1,0]=a01;Mmem[1,1]=a11;Mmem[1,2]=a21;Mmem[1,3]=a31;Mmem[1,4]=a41;;Mmem[2,0]=a02;Mmem[2,1]=a12;Mmem[2,2]=a22;Mmem[2,3]=a32;Mmem[2,4]=a42;;Mmem[3,0]=a03;Mmem[3,1]=a13;Mmem[3,2]=a23;Mmem[3,3]=a33;Mmem[3,4]=a43;;Mmem[4,0]=a04;Mmem[4,1]=a14;Mmem[4,2]=a24;Mmem[4,3]=a34;Mmem[4,4]=a44;;;;' tipo='función' 
id='AssignVmem5(c0,c1,c2,c3,c4)' algoritmo='sí' expresión='1' hacer='Vmem[0]=c0;Vmem[1]=c1;Vmem[2]=c2;Vmem[3]=c3;Vmem[4]=c4;' tipo='función' 
id='AssignMmem9(a00,a10,a20,a30,a40,a50,a60,a70,a80,a01,a11,a21,a31,a41,a51,a61,a71,a81,a02,a12,a22,a32,a42,a52,a62,a72,a82,a03,a13,a23,a33,a43,a53,a63,a73,a83,a04,a14,a24,a34,a44,a54,a64,a74,a84,a05,a15,a25,a35,a45,a55,a65,a75,a85,a06,a16,a26,a36,a46,a56,a66,a76,a86,a07,a17,a27,a37,a47,a57,a67,a77,a87,a08,a18,a28,a38,a48,a58,a68,a78,a88)' algoritmo='sí' expresión='1' hacer='Mmem[0,0]=a00;Mmem[0,1]=a10;Mmem[0,2]=a20;Mmem[0,3]=a30;Mmem[0,4]=a40;Mmem[0,5]=a50;Mmem[0,6]=a60;Mmem[0,7]=a70;Mmem[0,8]=a80;;Mmem[1,0]=a01;Mmem[1,1]=a11;Mmem[1,2]=a21;Mmem[1,3]=a31;Mmem[1,4]=a41;Mmem[1,5]=a51;Mmem[1,6]=a61;Mmem[1,7]=a71;Mmem[1,8]=a81;;Mmem[2,0]=a02;Mmem[2,1]=a12;Mmem[2,2]=a22;Mmem[2,3]=a32;Mmem[2,4]=a42;Mmem[2,5]=a52;Mmem[2,6]=a62;Mmem[2,7]=a72;Mmem[2,8]=a82;;Mmem[3,0]=a03;Mmem[3,1]=a13;Mmem[3,2]=a23;Mmem[3,3]=a33;Mmem[3,4]=a43;Mmem[3,5]=a53;Mmem[3,6]=a63;Mmem[3,7]=a73;Mmem[3,8]=a83;;Mmem[4,0]=a04;Mmem[4,1]=a14;Mmem[4,2]=a24;Mmem[4,3]=a34;Mmem[4,4]=a44;Mmem[4,5]=a54;Mmem[4,6]=a64;Mmem[4,7]=a74;Mmem[4,8]=a84;;Mmem[5,0]=a05;Mmem[5,1]=a15;Mmem[5,2]=a25;Mmem[5,3]=a35;Mmem[5,4]=a45;Mmem[5,5]=a55;Mmem[5,6]=a65;Mmem[5,7]=a75;Mmem[5,8]=a85;;Mmem[6,0]=a06;Mmem[6,1]=a16;Mmem[6,2]=a26;Mmem[6,3]=a36;Mmem[6,4]=a46;Mmem[6,5]=a56;Mmem[6,6]=a66;Mmem[6,7]=a76;Mmem[6,8]=a86;;Mmem[7,0]=a07;Mmem[7,1]=a17;Mmem[7,2]=a27;Mmem[7,3]=a37;Mmem[7,4]=a47;Mmem[7,5]=a57;Mmem[7,6]=a67;Mmem[7,7]=a77;Mmem[7,8]=a87;;Mmem[8,0]=a08;Mmem[8,1]=a18;Mmem[8,2]=a28;Mmem[8,3]=a38;Mmem[8,4]=a48;Mmem[8,5]=a58;Mmem[8,6]=a68;Mmem[8,7]=a78;Mmem[8,8]=a88;;;;;;;' tipo='función' 
id='AssignVmem9(c0,c1,c2,c3,c4,c5,c6,c7,c8)' algoritmo='sí' expresión='1' hacer='Vmem[0]=c0;Vmem[1]=c1;Vmem[2]=c2;Vmem[3]=c3;Vmem[4]=c4;Vmem[5]=c5;Vmem[6]=c6;Vmem[7]=c7;Vmem[8]=c8;' tipo='función' 
id='SolveMSeqV(Msize)' algoritmo='sí' expresión='x' local='i,j' inicio='invertMmem(Msize);initSmem();i=0;j=0' hacer='Smem[i]=Smem[i]+Minv[i,j]*Vmem[j];i=(j+1<_Msize)?i:i+1;j=(j+1<_Msize)?j+1:0;' mientras='i<_Msize' tipo='función' 
</script>

<script type="descartes/library" id="biblioteca/ProGeo3D_gui.txt">
id='CHANGE' matriz='sí' evaluar='una-sola-vez' columnas='500' filas='7' expresión='_objeto=0;_col_i=1;_col_f=2;_wdth_i=3;_wdth_f=4;_oculto_i=5;_oculto_f=6' tipo='matriz' 
id='initCHG()' algoritmo='sí' expresión='1' hacer='nCHG=0;maxnCHG=0' tipo='función' 
id='undoCnstrct()' algoritmo='sí' expresión='1' inicio='undoing=2' hacer='OBGRA[NOG-1,_oculto]=0;NOG=max(NOG-1,minNOG);NOGP=NOG;PASOS[paso,0]=NOGP-1;undo_status=OBGRA[NOG,_cnstool_];status=girar;undo_color=OBGRA[NOG,_col];countCurvasYReglados();selOBGRA=(selOBGRA>=NOG)?-1:selOBGRA;safe=0;' tipo='función' 
id='redoCnstrct()' algoritmo='sí' expresión='1' inicio='undoing=2' hacer='undo_status=OBGRA[NOG,_cnstool_];status=girar;undo_color=OBGRA[NOG,_col];NOG=min(NOG+1,maxNOG);updateLocal(1,NOG-1,NOG-1);NOGP=NOG;PASOS[paso,0]=NOGP-1;countCurvasYReglados();;' tipo='función' 
id='undoChange()' algoritmo='sí' expresión='1' local='obj' hacer='nCHG=nCHG-1;obj=CHANGE[nCHG,_objeto];OBGRA[obj,_col]=CHANGE[nCHG,_col_i];OBGRA[obj,_wdth]=CHANGE[nCHG,_wdth_i];OBGRA[obj,_oculto]=CHANGE[nCHG,_oculto_i];' tipo='función' 
id='redoChange()' algoritmo='sí' expresión='1' local='obj' hacer='obj=CHANGE[nCHG,_objeto];OBGRA[obj,_col]=CHANGE[nCHG,_col_f];OBGRA[obj,_wdth]=CHANGE[nCHG,_wdth_f];OBGRA[obj,_oculto]=CHANGE[nCHG,_oculto_f];nCHG=nCHG+1;' tipo='función' 
id='____SEARCHING____' expresión='0' tipo='variable' 
id='fixToE3(P,mx,my)' algoritmo='sí' expresión='1' local='x3,y3,z3,c1,c2,c3,x1,y1,z1' hacer='x3=0;y3=Ojo.y+mx;z3=Ojo.z+my;c1=x3-(E3Rxx*E2.pixOx+E3Rxy*E2.pixOy+E3Rxz*E2.pixOz);c2=y3-(E3Ryx*E2.pixOx+E3Ryy*E2.pixOy+E3Ryz*E2.pixOz);c3=z3-(E3Rzx*E2.pixOx+E3Rzy*E2.pixOy+E3Rzz*E2.pixOz);x1=Det3x3(c1,E3Rxy,E3Rxz,c2,E3Ryy,E3Ryz,c3,E3Rzy,E3Rzz);y1=Det3x3(E3Rxx,c1,E3Rxz,E3Ryx,c2,E3Ryz,E3Rzx,c3,E3Rzz);z1=Det3x3(E3Rxx,E3Rxy,c1,E3Ryx,E3Ryy,c2,E3Rzx,E3Rzy,c3);set_Point(P,x1,y1,z1);;;' tipo='función' 
id='fixToL(P,L,mx,my)' algoritmo='sí' expresión='1' local='x0,y0,z0,x1,y1,z1,x2,y2,z2,dx,dy,dz,Ax,Ay,Az,Bx,By,Bz,t1,t2,t,Xt,Yt' hacer='x1=OBGRA[L,_L_x1];y1=OBGRA[L,_L_y1];z1=OBGRA[L,_L_z1];x2=OBGRA[L,_L_x2];y2=OBGRA[L,_L_y2];z2=OBGRA[L,_L_z2];dx=x2-x1;dy=y2-y1;dz=z2-z1;x0=x1+E2.pixOx;y0=y1+E2.pixOy;z0=z1+E2.pixOz;Ax=E3Rxx*x0+E3Rxy*y0+E3Rxz*z0;Ay=E3Ryx*x0+E3Ryy*y0+E3Ryz*z0;Az=E3Rzx*x0+E3Rzy*y0+E3Rzz*z0;Bx=E3Rxx*dx+E3Rxy*dy+E3Rxz*dz;By=E3Ryx*dx+E3Ryy*dy+E3Ryz*dz;Bz=E3Rzx*dx+E3Rzy*dy+E3Rzz*dz;t1=(Ojo.x*(Ojo.y-Ay)-mx*(Ax-Ojo.x))/(mx*Bx+Ojo.x*By);t2=(Ojo.x*(Ojo.z-Az)-my*(Ax-Ojo.x))/(my*Bx+Ojo.x*Bz);t=(abs(mx*Bx+Ojo.x*By)>=abs(my*Bx+Ojo.x*Bz))?t1:t2;Xt=Ojo.x*(Ojo.y-Ay-t*By)/(Ax+t*Bx-Ojo.x);Yt=Ojo.x*(Ojo.z-Az-t*Bz)/(Ax+t*Bx-Ojo.x);OBGRA[P,_prprtn]=&squot;&squot;;set_Point(P,x1+t*dx,y1+t*dy,z1+t*dz);;;' tipo='función' 
id='getAnyP(mx,my)' algoritmo='sí' expresión='anyP' local='anyP,anyP0,cnstr,fix' hacer='anyP=selP(mx,my);anyP0=anyP;anyP=(anyP0<0)?newAuxCtrl(mx,my,&squot;&squot;):anyP;fix=(anyP>=0)&(anyP0<0)&show_E3;cnstr=OBGRA[anyP,_cnstr];(fix&(OBGRA[cnstr,_type]==segment))?fixToL(anyP,cnstr,mx,my):&squot;&squot;;(fix&(OBGRA[cnstr,_type]!=segment))?fixToE3(anyP,mx,my):&squot;&squot;;' tipo='función' 
id='selA(xx,yy)' algoritmo='sí' expresión='sO' local='isType,mind,newd,isBetter,sO,n' inicio='mind=(show_E2)?pxthr/E2.escala:pxthr/E3_2.escala;sO=-1;n=NOG-1;_distA_=1000' hacer='isType=(n!=excludedObj)&(OBGRA[n,_type]==angle)&isVisible(n);newd=(isType&show_E2)?sqrt((X2(n)-xx)^2+(Y2(n)-yy)^2):&squot;&squot;;newd=(isType&show_E3)?sqrt((x32(n)-xx)^2+(y32(n)-yy)^2):newd;isBetter=isType&(newd<mind);mind=(isBetter)?newd:mind;sO=(isBetter)?n:sO;_distA_=mind;n=n-1' mientras='(n>=minNOG)' tipo='función' 
id='selG(xx,yy)' algoritmo='sí' expresión='sO' local='isType,mind,newd,isBetter,sO,n' inicio='mind=pxthr/E2.escala;sO=-1;n=NOG-1;_distG_=1000' hacer='isType=(n!=excludedObj)&(OBGRA[n,_type]==control)&isVisible(n);newd=(isType)?distance(xx,yy,n):&squot;&squot;;isBetter=isType&(newd<mind);mind=(isBetter)?newd:mind;sO=(isBetter)?n:sO;_distG_=mind;n=n-1' mientras='(n>=minNOG)' tipo='función' 
id='selP(xx,yy)' algoritmo='sí' expresión='sO' local='isType,mind,newd,isBetter,sO,n' inicio='mind=pxthr/E2.escala;sO=-1;n=NOG-1;_distP_=1000' hacer='isType=(n!=excludedObj)&((OBGRA[n,_type]==point)|(OBGRA[n,_type]==control))&isVisible(n);newd=(isType)?distance(xx,yy,n):&squot;&squot;;isBetter=isType&(newd<mind);mind=(isBetter)?newd:mind;sO=(isBetter)?n:sO;_distP_=mind;n=n-1' mientras='(n>=minNOG)' tipo='función' 
id='selP3D(xx,yy,zz)' algoritmo='sí' expresión='sO' local='isType,mind,newd,isBetter,sO,n' inicio='mind=pxthr/E2.escala;sO=-1;n=NOG-1;_distP_=1000' hacer='isType=(n!=excludedObj)&((OBGRA[n,_type]==point)|(OBGRA[n,_type]==control))&isVisible(n);newd=(isType)?sqrt((X2(n)-xx)^2+(Y2(n)-yy)^2+(Z2(n)-zz)^2):&squot;&squot;;isBetter=isType&(newd<mind);mind=(isBetter)?newd:mind;sO=(isBetter)?n:sO;_distP_=mind;n=n-1' mientras='(n>=minNOG)' tipo='función' 
id='selC(xx,yy)' algoritmo='sí' expresión='sO' local='isType,mind,newd,isBetter,sO,n' inicio='mind=pxthr/E2.escala;sO=-1;n=NOG-1;_distC_=1000' hacer='isType=(n!=excludedObj)&(OBGRA[n,_type]==circle)&isVisible(n);newd=((isType)&show_E2)?abs(sqrt((X2(OBGRA[n,_centro])-xx)^2+(Y2(OBGRA[n,_centro])-yy)^2)-OBGRA[n,_r]):1000000;newd=((isType)&show_E3)?abs(sqrt((x32(OBGRA[n,_centro])-xx)^2+(y32(OBGRA[n,_centro])-yy)^2)-OBGRA[n,_r32]):newd;isBetter=isType&(newd<mind);mind=(isBetter)?newd:mind;sO=(isBetter)?n:sO;_distC_=mind;n=n-1' mientras='(n>=minNOG)' tipo='función' 
id='selCirc3D(xx,yy)' algoritmo='sí' expresión='sO' local='isType,mind,newd,isBetter,sO,n' inicio='mind=pxthr/E2.escala;sO=-1;n=NOG-1;_distC_=1000' hacer='isType=(n!=excludedObj)&(OBGRA[n,_type]==circ3D)&isVisible(n);newd=((isType)&show_E3)?distToCirc3D(xx,yy,n):newd;isBetter=isType&(newd<mind);mind=(isBetter)?newd:mind;sO=(isBetter)?n:sO;_distC_=mind;n=n-1;;' mientras='(n>=minNOG)' tipo='función' 
id='selL(xx,yy)' algoritmo='sí' expresión='sO' local='isType,mind,newd,isBetter,sO,n' inicio='mind=pxthr/E2.escala;sO=-1;n=NOG-1;_distL_=1000' hacer='isType=(n!=excludedObj)&(OBGRA[n,_type]==segment)&OBGRA[n,_isLine]&isVisible(n);newd=&squot;&squot;;newd=(isType&show_E2)?distAL2D(xx,yy,n):newd;newd=(isType&show_E3)?distAL32(xx,yy,n):newd;isBetter=isType&(newd<mind);mind=(isBetter)?newd:mind;sO=(isBetter)?n:sO;_distL_=mind;n=n-1' mientras='(n>=minNOG)' tipo='función' 
id='selS(xx,yy)' algoritmo='sí' expresión='sO' local='isType,mind,newd,isBetter,sO,n' inicio='mind=pxthr/E2.escala;sO=-1;n=NOG-1;_distS_=1000' hacer='isType=(n!=excludedObj)&(OBGRA[n,_type]==segment)&(!OBGRA[n,_isLine])&isVisible(n);newd=&squot;&squot;;newd=(isType&show_E2)?distAS2D(xx,yy,n):newd;newd=(isType&show_E3)?distAS32(xx,yy,n):newd;isBetter=isType&(newd<mind);mind=(isBetter)?newd:mind;sO=(isBetter)?n:sO;_distS_=mind;n=n-1' mientras='(n>=minNOG)' tipo='función' 
id='selLorS(xx,yy)' algoritmo='sí' expresión='sO' local='isType,mind,newd,isBetter,sO,n' inicio='mind=pxthr/E2.escala;sO=-1;n=NOG-1;_distLS_=1000' hacer='isType=(n!=excludedObj)&(OBGRA[n,_type]==segment)&isVisible(n);newd=(isType)?distAOB(xx,yy,n):&squot;&squot;;isBetter=isType&(newd<mind);mind=(isBetter)?newd:mind;sO=(isBetter)?n:sO;_distLS_=mind;n=n-1' mientras='(n>=minNOG)' tipo='función' 
id='selLorC(xx,yy)' algoritmo='sí' expresión='sO' local='isType,mind,newd,isBetter,sO,n' inicio='mind=pxthr/E2.escala;mind1=mind;sO=-1;_selLoC1_=-1;n=NOG-1;_distLC_=1000' hacer='isType=(n!=excludedObj)&((OBGRA[n,_type]==circle)|(OBGRA[n,_type]==segment))&isVisible(n);newd=(isType)?distAOB(xx,yy,n)/2:&squot;&squot;;isBetter=isType&(newd<mind1);mind1=(isBetter)?mind:mind1;mind=(isBetter)?newd:mind;_selLoC1_=(isBetter)?sO:_selLoC1_;_distLC1_=(isBetter)?mind1:_distLC1_;sO=(isBetter)?n:sO;_selLoC0_=sO;_distLC0_=mind;n=n-1' mientras='(n>=minNOG)' tipo='función' 
id='selT(xx,yy)' algoritmo='sí' expresión='T' local='n,T' inicio='T=-1;n=NOG-1' hacer='T=((n!=excludedObj)&isVisible(n)&(((OBGRA[n,_type]==triangle)&isInT(xx,yy,n))|(OBGRA[n,_type]==plane)&isInPlane32(xx,yy,n)))?n:T;n=n-1' mientras='(T<0)&(n>=minNOG)' tipo='función' 
id='selEq(xx,yy)' algoritmo='sí' expresión='sO' local='F,isType,mind,newd,isBetter,sO,n,xi,yi' inicio='mind=pxthr/E2.escala;sO=-1;n=NOG-1;_distEq_=1000' hacer='isType=(n!=excludedObj)&isVisible(n)&((OBGRA[n,_type]==conic5pts)|(OBGRA[n,_type]==cubic9pts)|((OBGRA[n,_type]==curve)&(OBGRA[n,_Eq_]!=&squot;&squot;)));xi=xx;yi=yy;F=OBGRA[n,_Eq_];(isType)?NewtonRaphson():&squot;&squot;;newd=(isType)?sqrt((xi-xx)^2+(yi-yy)^2):1000;isBetter=isType&(newd<mind);mind=(isBetter)?newd:mind;sO=(isBetter)?n:sO;_distEq_=mind;n=n-1;' mientras='(n>=minNOG)' tipo='función' 
id='selOB(xx,yy)' algoritmo='sí' expresión='sO' local='sA,sG,sP,sS,sC,sL,sT,sEq,sO,_condP_,_condS_,_condC_,_condL_,_condT_,condEq' hacer='sA=selA(xx,yy);sG=selG(xx,yy);sP=selP(xx,yy);sS=selS(xx,yy);sC=selC(xx,yy);sL=selL(xx,yy);sL=((sA>=0)&(sL>0)&(_indexOf_(&squot;calcBisector&squot;<OBGRA[sL,_func]))&(OBGRA[sA,_p1]==OBGRA[sL,_p1]))?-1:sL;sT=selT(xx,yy);sEq=selEq(xx,yy);sO=(sA>=0)?sA:sG;_condP_=(sA<0)&((sG<0)|(_distP_<_distG_/4));_condS_=(sA<0)&(sG<0)&(sP<0);_condC_=(sA<0)&(sG<0)&(sP<0)&(_distC_<_distS_);_condL_=(sA<0)&(sG<0)&(sP<0)&(_distL_<_distS_*0.9)&(_distL_<_distC_);_condEq_=(sA<0)&(sG<0)&(sP<0)&(_distEq_<_distS_*0.9)&(_distEq_<_distC_)&(_distEq_<_distL_);sO=(_condP_)?sP:sO;sO=(_condS_)?sS:sO;sO=(_condC_)?sC:sO;sO=(_condL_)?sL:sO;sO=(_condEq_)?sEq:sO;sO=(sO<0)?sT:sO;' tipo='función' 
id='selE3OB(xx,yy)' algoritmo='sí' expresión='sO' local='sO' inicio='sO=-1' hacer='sO=selA(xx,yy);sO=(sO<0)?selG(xx,yy):sO;sO=(sO<0)?selP(xx,yy):sO;sO=(sO<0)?selS(xx,yy):sO;sO=(sO<0)?selL(xx,yy):sO;sO=(sO<0)?selC(xx,yy):sO;sO=(sO<0)?selCirc3D(xx,yy):sO;sO=(sO<0)?selT(xx,yy):sO;;' tipo='función' 
id='___CONSTRUCTIONS___' expresión='0' tipo='variable' 
id='inCnstrctn(s)' algoritmo='no' expresión='(((status==conica5)&((s==c5p_P0)|(s==c5p_P1)|(s==c5p_P2)|(s==c5p_P3)|(s==c5p_P4)))|((status==cubica9)&((s==c9p_P0)|(s==c9p_P1)|(s==c9p_P2)|(s==c9p_P3)|(s==c9p_P4)|(s==c9p_P5)|(s==c9p_P6)|(s==c9p_P7)|(s==c9p_P8))))' tipo='función' 
id='initC5Pts()' algoritmo='sí' expresión='1' hacer='c5p_P0=-1;c5p_P1=-1;c5p_P2=-1;c5p_P3=-1;c5p_P4=-1;' tipo='función' 
id='initC9Pts()' algoritmo='sí' expresión='1' hacer='c9p_P0=-1;c9p_P1=-1;c9p_P2=-1;c9p_P3=-1;c9p_P4=-1;c9p_P5=-1;c9p_P6=-1;c9p_P7=-1;c9p_P8=-1;' tipo='función' 
id='cnstrConic5Pts()' algoritmo='sí' expresión='1' local='ready,n' hacer='c5p_P4=(mup&(c5p_P4<0)&(c5p_P3>=0))?getAnyP(mx,my):c5p_P4;c5p_P3=(mup&(c5p_P3<0)&(c5p_P2>=0))?getAnyP(mx,my):c5p_P3;c5p_P2=(mup&(c5p_P2<0)&(c5p_P1>=0))?getAnyP(mx,my):c5p_P2;c5p_P1=(mup&(c5p_P1<0)&(c5p_P0>=0))?getAnyP(mx,my):c5p_P1;c5p_P0=(mup&(c5p_P0<0))?getAnyP(mx,my):c5p_P0;;;ready=mup&(c5p_P0>=0)&(c5p_P1>=0)&(c5p_P2>=0)&(c5p_P3>=0)&(c5p_P4>=0);n=(ready)?newConic5Pts(c5p_P0,c5p_P1,c5p_P2,c5p_P3,c5p_P4,&squot;&squot;):-1;(ready)?initC5Pts():&squot;&squot;;' tipo='función' 
id='cnstrCubic9Pts()' algoritmo='sí' expresión='1' local='ready,n' hacer='c9p_P8=(mup&(c9p_P8<0)&(c9p_P7>=0))?getAnyP(mx,my):c9p_P8;c9p_P7=(mup&(c9p_P7<0)&(c9p_P6>=0))?getAnyP(mx,my):c9p_P7;c9p_P6=(mup&(c9p_P6<0)&(c9p_P5>=0))?getAnyP(mx,my):c9p_P6;c9p_P5=(mup&(c9p_P5<0)&(c9p_P4>=0))?getAnyP(mx,my):c9p_P5;c9p_P4=(mup&(c9p_P4<0)&(c9p_P3>=0))?getAnyP(mx,my):c9p_P4;c9p_P3=(mup&(c9p_P3<0)&(c9p_P2>=0))?getAnyP(mx,my):c9p_P3;c9p_P2=(mup&(c9p_P2<0)&(c9p_P1>=0))?getAnyP(mx,my):c9p_P2;c9p_P1=(mup&(c9p_P1<0)&(c9p_P0>=0))?getAnyP(mx,my):c9p_P1;c9p_P0=(mup&(c9p_P0<0))?getAnyP(mx,my):c9p_P0;;ready=mup&(c9p_P0>=0)&(c9p_P1>=0)&(c9p_P2>=0)&(c9p_P3>=0)&(c9p_P4>=0)&(c9p_P5>=0)&(c9p_P6>=0)&(c9p_P7>=0)&(c9p_P8>=0);n=(ready)?newCubic9Pts(c9p_P0,c9p_P1,c9p_P2,c9p_P3,c9p_P4,c9p_P5,c9p_P6,c9p_P7,c9p_P8,&squot;&squot;):-1;(ready)?initC9Pts():&squot;&squot;;' tipo='función' 
id='cnstrCC()' algoritmo='sí' expresión='1' local='doCC,n,selC2' hacer='selC1=(mdn)?selC(mx,my):selC1;selC2=(mup&(selC1>=0))?selC(mx,my):-1;doCC=mup&(selC1>=0)&(selC2>=0)&(selC1!=selC2);n=(show_E3&doCC&(selC1<selC2))?newRadicalPlane(selC1,selC2):-1;n=(show_E3&doCC&(selC2<selC1))?newRadicalPlane(selC2,selC1):-1;n=(show_E2&doCC&(selC1<selC2))?newRadicalAxis(selC1,selC2,color,ancho,&squot;&squot;):-1;n=(show_E2&doCC&(selC2<selC1))?newRadicalAxis(selC2,selC1,color,ancho,&squot;&squot;):-1;;help_text=((status==eje_radical)&show_E2)?&squot;Eje radical (C) ...&squot;:help_text;help_text=((status==eje_radical)&show_E3)?&squot;Plano radical (C) ...&squot;:help_text;;(mup)?cleanCnstr():&squot;&squot;;' tipo='función' 
id='cnstrCircle()' algoritmo='sí' expresión='1' local='n,selP2,selLoC,elRadio' hacer='_allowFreePoints_=(mup&(selS1<0))?0:1;selP2=(mup)?getAnyP(mx,my):-1;elRadio=(mup&(selP1>=0)&(selP2<0))?&squot;&squot;+sqrt((X2(E2.MD)-mx)^2+(Y2(E2.MD)-my)^2):&squot;&squot;;n=(mup&(selP1>=0)&(selP2>=0))?newCircleCP2D(selP1,selP2,1,1,&squot;&squot;):-1;n=(mup&(n<0)&(selP1>=0)&(selS1<0))?newCircle2D(selP1,elRadio,1,&squot;&squot;):n;selP2=(mup&(n<0)&(selS1>=0)&(selP2<0))?getAnyP(mx,my):selP2;n=(mup&(n<0)&(selP2>=0)&(selS1>=0))?newCircleSC2D(selS1,selP2,1,1,&squot;&squot;):n;;selP1=(mdn)?selP(mx,my):selP1;selS1=(mdn&(selP1<0))?selS(mx,my):selS1;selP1=(mdn&(selP1<0)&(selS1<0))?getAnyP(mx,my):selP1;;selOBGRA=(selS1>=0)?selS1:E2.MD;selS1=(mup)?-1:selS1;selP1=(mup)?-1:selP1;selC=(mup)?-1:selC;' tipo='función' 
id='cnstrCurve()' algoritmo='sí' expresión='1' local='ready,n,selP2,forbidden' inicio='selP2=-1' hacer='selP1=(mdn)?selP(mx,my):selP1;selP1=(mdn&(selP1<0))?selLorS(mx,my):selP1;selP2=((selP1>=0)&mup)?selG(mx,my):selP2;forbidden=(selP2>=minNOG)&(OBGRA[OBGRA[selP2,_cnstr],_type]==segment)&(OBGRA[OBGRA[selP2,_cnstr],_vsL]>=minNOG);selP2=(forbidden)?-1:selP2;ready=mup&(selP1>=0)&(selP2>=0)&(selP1!=selP2)&(OBGRA[selP2,_cnstr]!=0)&(OBGRA[selP2,_cnstr]!=&squot;&squot;);n=(ready)?newCurve(selP1,selP2,&squot;&squot;):-1;(n>=0)?setColSz(n):&squot;&squot;;;help_text=&squot;Curva o familia&squot;;;(mup)?cleanCnstr():&squot;&squot;;;' tipo='función' 
id='cnstrHarmonic()' algoritmo='sí' expresión='1' local='doPC,doPS,doPL,doPT,doCC,doLC,doTC,n,selP2,selC2,selL2,selT2,selEq2' hacer='mx000=(mdn)?mx:mx000;my000=(mdn)?my:my000;selEq1=(mdn&(selP1<0))?selEq(mx,my):selEq1;selC1=(mdn&(selP1<0)&(selEq1<0))?selC(mx,my):selC1;selT=(mdn&(selP1<0)&(selS1<0))?selT(mx,my):selT;selP2=(mup&((selEq1>=0)|(selC1>=0)|(selS1>=0)|(selT>=0)))?selP(mx,my):-1;doPEq=mup&(selEq1>=0)&(selP2>=0);selEq2=(mup&(selEq1>=0)&(selC1<0)&(selS1<0)&(selT<0)&(selP2<0)&(!doPEq))?selEq(mx,my):-1;doPC=mup&(selC1>=0)&(selP2>=0);doPT=mup&(selT>=0)&(selP2>=0);n=(mup&(selEq1>0)&(selEq2>0))?newCommonPole(mx000,my000,selEq1,selEq2):n;n=(doPEq)?newPolarLine(selP2,selEq1,&squot;&squot;):-1;n=(doPC)?newInversePoint(&squot;&squot;,&squot;&squot;,selP2,selC1,&squot;&squot;):n;n=(doPT)?newReflection(selT,selP2):n;;selC2=(mup&(selC1>=0)&(selP2<0))?selC(mx,my):-1;doCC=mup&(selC1>=0)&(selP2<0)&(selC2>=0);n=(doCC)?newInverseCircle(selC2,selC1,color,ancho,&squot;&squot;):-1;;selL2=(mup&((selC1>=0)|(selEq1>=0))&(selP2<0)&(selC2<0))?selL(mx,my):-1;selT2=(mup&((selC1>=0)|(selEq1>=0))&(selP2<0)&(selC2<0)&(selL2<0))?selT(mx,my):-1;doLC=mup&(selC1>=0)&(selP2<0)&(selC2<0)&(selL2>=0);doTC=mup&(selC1>=0)&(selP2<0)&(selC2<0)&(selT2>=0);n=(doLC)?newInverseLine(selL2,selC1,color,ancho,&squot;&squot;):-1;n=(doTC)?newInversePlane(selT2,selC1,color,ancho,&squot;&squot;):-1;;doLEq=mup&(selEq1>=0)&(selP2<0)&(selC2<0)&(selL2>=0);n=(doLEq)?newPole(selL2,selEq1,desdeAquí):-1;;selOBGRA=(selEq1>=0)?selEq1:selOBGRA;selOBGRA=(selC1>=0)?selC1:selOBGRA;selOBGRA=(selT>=0)?selT:selOBGRA;selOBGRA=(mup&(selOBGRA>=0))?-1:selOBGRA;;help_text=((selC1>=0)&show_E2)?&squot;Invertir ... (P, L o C)&squot;:help_text;help_text=((selC1>=0)&show_E3)?&squot;Invertir ... (P, T o C)&squot;:help_text;help_text=((selEq1>=0))?&squot;Polo o polar de ... (P, L o C)&squot;:help_text;;(mup)?cleanCnstr():&squot;&squot;;;;' tipo='función' 
id='cnstrLHarmonic()' algoritmo='sí' expresión='1' local='selL3,doIt,newl' hacer='selL3=(mup&(selL1>0)&((selL2>0)|(selP1>0)))?selLorS(mx,my):-1;newl=(mup&(selL2<0)&(selL1>0)&(selP1>0)&(selL3>0))?newHarmonicReflection(testLine,selP1,selL3,&squot;&squot;):-1;doIt=mup&(newl<0)&(selL1>0)&(selL2>0)&(selL3>0);(doIt&concurrent(selL1,selL2,selL3))?newHarmonicReflection(selL1,selL2,selL3,&squot;&squot;):&squot;&squot;;selL2=(mdn&(selL1>0))?selLorS(mx,my):selL2;selP1=(mdn&(selL2<0))?selP(mx,my):selP1;selP2=(mup&(selP2<0))?selP(mx,my):selP2;newl=(mup&(newl<0)&(selL2>0)&(selP2>0))?newHarmonicReflection(testLine,selP2,selL2,&squot;&squot;):newl;(mup&(newl<0)&(selP2>0)&isInL2D(testLine,selP2))?newInversePoint(&squot;&squot;,&squot;&squot;,selP2,testLine,&squot;&squot;):&squot;&squot;;(mup&(newl<0)&(selL2<0)&(selP2>0)&!isInL2D(testLine,selP2))?newReflection(testLine,selP2):&squot;&squot;;selL1=(mup&(selL1<0))?selLorS(mx,my):selL1;selOBGRA=(selL1>0)?selL1:testLine;help_text=&squot;Reflexión armónica ... &squot;;(doIt|(mup&((selP2>0)|(newl>0))))?cleanCnstr():&squot;&squot;;;;' tipo='función' 
id='cnstrPHarmonic()' algoritmo='sí' expresión='1' local='doIt' hacer='selP3=-1;selP3=((selP2>=0)&(mup)&(selP3<0))?selP(mx,my):selP3;selP3=((selP2>=0)&(mup)&(selP3<0))?selL(mx,my):selP3;selP3=((selP2>=0)&(mup)&(selP3<0))?selT(mx,my):selP3;doIt=mup&(selP3>0)&(selP2>0)&(selP1>0)&(selP1==selOBGRA);;(doIt)?newHarmonicReflection(selP1,selP2,selP3,color,&squot;&squot;):&squot;&squot;;;selP2=((selP1>=0)&mdn&(selP2<0))?selP(mx,my):selP2;selP2=((selP1>=0)&mdn&(selP2<0))?selL(mx,my):selP2;selP2=((selP1>=0)&mdn&(selP2<0))?selT(mx,my):selP2;;selP1=(mup&(selP1<0))?selP(mx,my):selP1;selL1=(mup&(selP1<0)&(selL1<0))?selLorS(mx,my):selL1;;selP2=((selP3>=0)&mup)?-1:selP2;selP1=((selP3>=0)&mup)?-1:selP1;;selOBGRA=(selP1>0)?selP1:selOBGRA;selOBGRA=(selL1>0)?selL1:selOBGRA;;help_text=&squot;armónico conjugado ... &squot;;(doIt)?cleanCnstr():&squot;&squot;;;;;;' tipo='función' 
id='cnstrPlano()' algoritmo='sí' expresión='1' local='n,doIt,tryT,tryP,anular' inicio='n=-1' hacer='selP3=(mup&(selP1>0)&(selP2>0))?getAnyP(mx,my):-1;tryT=mup&(selP1>0)&(selP2>0)&(selP3>0);(tryT&(!isTvsP)&(!isTvsL))?newT(selP1,selP2,selP3,color,&squot;&squot;):&squot;&squot;;(tryT&isTvsP)?newTvsP(selP1,selP2,selP3,selP_for_TvsP,color,&squot;&squot;):&squot;&squot;;(tryT&isTvsL)?newTvsL(selP1,selP2,selP3,selL_for_TvsL,color,&squot;&squot;):&squot;&squot;;;selP2=(mdn&(selP1>0))?getAnyP(mx,my):selP2;selL2=(mup&(selL1>0))?selLorS(mx,my):selL2;selL2=(mup&(selL1>0)&(selL2>0)&!coplanarLL(selL1,selL2))?-1:selL2;selP2=(mup&(selL1>0)&(selL2<0))?getAnyP(mx,my):selP2;;anular=(mup&(selL1>0)&(selL2>0)&(selL1==selL2));selL1=(anular)?-1:selL1;selL2=(anular)?-1:selL2;selP2=(anular)?-1:selP2;selP1=(anular)?getAnyP(mx,my):selP1;;tryP=mup&(((selL2>0))|(selP2>0));n=(tryP&(selL1>0)&(selL2>0)&(selL2!=selL1)&coplanarLL(selL1,selL2))?newPlane(selL1,selL2):-1;(tryP&(n<0)&(selL1>0)&(selP2>0))?newPlane(selL1,selP2):&squot;&squot;;;selP1=(mdn&(selP1<0)&(selL1<0))?selP(mx,my):selP1;selL1=(mdn&(selP1<0)&(selL1<0))?selLorS(mx,my):selL1;selP1=(mdn&(selP1<0)&(selL1<0))?getAnyP(mx,my):selP1;;selOBGRA=(selL1>0)?selL1:selOBGRA;selOBGRA=(selP1>0)?selP1:selOBGRA;;help_text=(selL1>0)?&squot;Plano generado por ...&squot;:&squot;&squot;;(tryT|tryP)?cleanCnstr():&squot;&squot;;' tipo='función' 
id='cnstrIntersection()' algoritmo='sí' expresión='1' local='selOb2,doIt' inicio='excludedObj=(mdn)?-1:excludedObj' hacer='selOb1=(mdn&show_E2)?selOB(mx,my):selOb1;selOb1=(mdn&show_E3)?selE3OB(mx,my):selOb1;excludedObj=selOb1;selOb2=(mup&show_E2)?selOB(mx,my):selOb2;selOb2=(mup&show_E3)?selE3OB(mx,my):selOb2;doIt=mup&(selOb1>=0)&(selOb2>=0)&(selOb1!=selOb2);(doIt)?newIntersection(mx,my,selOb1,selOb2,&squot;&squot;):&squot;&squot;;selOBGRA=(mdn)?selOb1:selOBGRA;selOBGRA=(mup)?-1:selOBGRA;excludedObj=(mup)?-1:excludedObj;;help_text=&squot;Intersecar con ...&squot;;(mup)?cleanCnstr():&squot;&squot;' tipo='función' 
id='cnstr3POB()' algoritmo='sí' expresión='1' local='n,doIt,drawing' hacer='selP3=-1;selP3=((selP2>=0)&mup)?getAnyP(mx,my):-1;doIt=mup&(selP3>0)&(selP2>0)&(selP1>0);;n=(doIt&(status==bisectriz))?newBisector2D(selP1,selP2,selP3,color,ancho,&squot;&squot;):-1;;n=(doIt&(status==angulo))?newAng(&squot;&squot;,&squot;&squot;,selP2,selP1,selP3,color,&squot;&squot;):-1;;selP2=((selP1>=0)&mdn&(selP2<0))?getAnyP(mx,my):selP2;selP1=(mup&(selP1<0))?getAnyP(mx,my):selP1;;selP2=(selP3>=0)?-1:selP2;selP1=(selP3>=0)?-1:selP1;;drawing=(selP1>0)&(selP2>0)&mdn;drawingAngle=drawing&(status==angulo);drawingBisector=drawing&(status==bisectriz);;selP1=(doIt)?-1:selP1;selP2=(mup)?-1:selP2;selOBGRA=selP1;;cLINE=E2.Bsc;set_Point(OBGRA[E2.Bsc,_p1],_X_(selP1),_Y_(selP1),0);set_Point(OBGRA[E2.Bsc,_p2],_X_(selP2),_Y_(selP2),0);OBGRA[E2.Bsc,_p3]=E2.M;;OBGRA[E2.Ang,_p1]=selP2;OBGRA[E2.Ang,_p2]=selP1;OBGRA[E2.Ang,_p3]=E2.M;;drawingAngle=(status==angulo);drawingBisector=(status==bisectriz);help_text=(drawingAngle&(selP1>0))?&squot;Ángulo&squot;:&squot;&squot;;help_text=(drawingBisector &(selP1>0))?&squot;Bisectriz&squot;:help_text;;(doIt)?cleanCnstr():&squot;&squot;;' tipo='función' 
id='cnstrLPOB()' algoritmo='sí' expresión='1' local='n,selL2,selP2,doPerp,PinL,doPerpLL' hacer='selP2=(mup&((selL>=0)|(selT>=0)))?selP(mx,my):-1;selL2=(mup&show_E3&(selL>=0)&(selP2<0))?selLorS(mx,my):-1;selP2=(mup&((selL>=0)|(selT>=0))&(selL2<0))?getAnyP(mx,my):-1;doPerp=(status==perpendicular)&mup&(selL>=0)&(selP2>=0);doPerpL =(status==perpendicular)&mup&(selL>100)&(selL2>100);PinL=(doPerp&(selL2<0))?pointInLine(selP2,selL):0;;n=(doPerpL)?newPerpLL(selL,selL2):-1;n=(show_E3&doPerp)?newPerpPlane(selL,selP2):-1;n=(doPerp&(!PinL))?newPerp3D(selL,selP2,1,1,&squot;&squot;):-1;n=(mup&(status==perpendicular)&(selT>=0)&(selP2>=0))?newPerp3D(selT,selP2,1,1,&squot;&squot;):-1;n=(show_E2&doPerp&PinL)?newPerp2D(selL,selP2,1,1,&squot;&squot;):-1;;n=(show_E3&mup&(status==paralela)&mup&(selT>=0)&(selP2>=0))?newParalPlane(selT,selP2,1,1,&squot;&squot;):-1;n=(mup&(status==paralela)&mup&(selL>=0)&(selP2>=0))?newParal2D(selL,selP2,1,1,&squot;&squot;):-1;;statperp=(status==perpendicular);selP1=(mdn&statperp&(selL<0))?selP(mx,my):selP1;selL=(mdn&(selP1<0))?selLorS(mx,my):selL;selT=(mdn&statperp&(selP1<0)&(selL<0))?selT(mx,my):selT;selP1=(mdn&statperp&(selP1<0)&(selL<0)&(selT<0))?getAnyP(mx,my):selP1;;selL=((n<0)&mup&statperp&(selP1>0))?selLorS(mx,my):selL;selT=((n<0)&mup&statperp&(selP1>0)&(selL<0))?selT(mx,my):selT;n=((n<0)&mup&statperp&(selP1>0)&(selT>0))?newFootTP(selT,selP1):n;n=((n<0)&mup&statperp&(selP1>0)&(selL>0))?newFootLP(selL,selP1):n;;selT=(mdn&(selP1<0)&(selL<0))?selT(mx,my):-1;selL=(mup)?-1:selL;selOBGRA=(mdn&(selP1>=0))?selP1:selOBGRA;selOBGRA=(mdn&(selL>=0))?selL:selOBGRA;selOBGRA=(mdn&(selT>=0))?selT:selOBGRA;selOBGRA=(mup)?-1:selOBGRA;cLINE=(mdn&(selL>=0)&(status==paralela))?E2.Prl:cLINE;cLINE=(mdn&(selL>=0)&(status==perpendicular))?E2.Prp:cLINE;OBGRA[cLINE,_p1]=(show_E2)?selL:E2.R;OBGRA[cLINE,_p2]=E2.M;OBGRA[E2.R,_is2P]=1;OBGRA[E2.R,_1]=P1;OBGRA[E2.R,_2]=P2;set_Point(P1,X32(OBGRA[selL,_L_x1],OBGRA[selL,_L_y1],OBGRA[selL,_L_z1]),Y32(OBGRA[selL,_L_x1],OBGRA[selL,_L_y1],OBGRA[selL,_L_z1]),0);set_Point(P2,X32(OBGRA[selL,_L_x2],OBGRA[selL,_L_y2],OBGRA[selL,_L_z2]),Y32(OBGRA[selL,_L_x2],OBGRA[selL,_L_y2],OBGRA[selL,_L_z2]),0);;help_text=((status==perpendicular)&(selP1<0))?&squot;Perpendicular por (P)&squot;:help_text;help_text=((status==perpendicular)&(selP1>0))?&squot;Pie de P en (L o T)&squot;:help_text;;(mup)?cleanCnstr():&squot;&squot;;;;' tipo='función' 
id='cnstr2LOB()' algoritmo='sí' expresión='1' local='doIt' hacer='selL1=(mdn)?selLorS(mx,my):selL1;selL2=(mup&(selL1>0))?selLorS(mx,my):selL2;doIt=(mup&(selL1>0)&(selL2>0)& (selL1!=selL2)&coplanarLL(selL1,selL2));;(doIt&(status==bisectriz))?newBisector(selL1,selL2,&squot;&squot;):&squot;&squot;;(doIt&(status==angulo))?newAngle(selL1,selL2,&squot;&squot;):&squot;&squot;;;selOBGRA=selL1;;drawingAngle=0;drawingBisector=0;help_text=(status==bisectriz)?&squot;Bisectriz&squot;:&squot;&squot;;help_text=(status==angulo)?&squot;Ángulo&squot;:help_text;;(mup)?cleanCnstr():&squot;&squot;' tipo='función' 
id='cnstr2POB()' algoritmo='sí' expresión='1' local='ready,n,selP2' inicio='_mdn_x=(mdn)?mx:_mdn_x;_mdn_y=(mdn)?my:_mdn_y' hacer='selP1=(mdn)?getAnyP(mx,my):selP1;selP2=(mup&(sqrt((_mdn_x-mx)^2+(_mdn_y-my)^2)>pxthr/E2.escala))?getAnyP(mx,my):-1;cLINE=(mdn&(selP1>=0)&(status==segment))?E2.R:E2.R;cLINE=(mdn&(selP1>=0)&(status==mediatriz))?E2.Mdt:cLINE;;OBGRA[E2.R,_1]=(mdn&(selP1>=0)&show_E2)?selP1:OBGRA[E2.R,_1];OBGRA[E2.R,_1]=(mdn&(selP1>=0)&show_E3)?P9:OBGRA[E2.R,_1];OBGRA[E2.R,_2]=(mdn&(selP1>=0))?E2.M:OBGRA[E2.R,_2];(show_E3)?set_Point(OBGRA[E2.R,_1],_mdn_x,_mdn_y,0):&squot;&squot;;;OBGRA[E2.MP,_p1]=(mdn&(selP1>=0))?selP1:OBGRA[E2.MP,_p1];OBGRA[E2.MP,_p2]=(mdn&(selP1>=0))?E2.M:OBGRA[E2.MP,_p2];;ready=mup&(selP1>=0)&(selP2>=0)&(selP1!=selP2);n=(ready&(status==puntoMedio))?newMidPoint(&squot;&squot;,&squot;&squot;,selP1,selP2,&squot;&squot;):-1;n=(ready&(status==recta))?newLine2D(selP1,selP2,color,ancho,&squot;&squot;):-1;n=(ready&(status==segmento)&!isSvsL)?newS(selP1,selP2,color,ancho,&squot;&squot;):-1;n=(ready&(status==segmento)&isSvsL)?newSvsL(selP1,selP2,selL_for_SvsL,color,ancho,&squot;&squot;):-1;n=(show_E2&ready&(status==mediatriz))?newMediatrix2D(selP1,selP2,color,ancho,&squot;&squot;):-1;n=(show_E3&ready&(status==mediatriz))?newMediatorPlane(selP1,selP2):-1;;(mup)?cleanCnstr():&squot;&squot;;;' tipo='función' 
id='handleConstr(mx,my,mp,mpa)' algoritmo='sí' expresión='1' local='mdn,mup,n,twoPOB,firstNOG' inicio='NOG=NOGP' hacer='_allowFreePoints_=(status!=intersection);color=getColor(colix);(mp)?set_Point(E2.M,mx,my,0):&squot;&squot;;mdn=mp&(!mpa);mup=mpa&(!mp);(mdn)?set_Point(E2.MD,mx,my,0):&squot;&squot;;firstNOG =(mdn)?NOG:firstNOG;(firstNOG<NOG)?initCHG():&squot;&squot;;;twoPOB=(status==recta)|(status==segmento)|(status==puntoMedio)|(status==mediatriz);((mdn|mup)&twoPOB)?cnstr2POB():&squot;&squot;;((mdn|mup)&(status==intersection))?cnstrIntersection():&squot;&squot;;((mdn|mup)&(status==plano))?cnstrPlano():&squot;&squot;;((mdn|mup)&(status==curva))?cnstrCurve():&squot;&squot;;((mdn|mup)&(status==circuloRC))?cnstrCircle():&squot;&squot;;((mdn|mup)&(status==eje_radical))?cnstrCC():&squot;&squot;;((mdn|mup)&((status==perpendicular)|(status==paralela)))?cnstrLPOB():&squot;&squot;;((mdn|mup)&(status==conica5))?cnstrConic5Pts():&squot;&squot;;((mdn|mup)&(status==cubica9))?cnstrCubic9Pts():&squot;&squot;;testPoint=(mdn&(selP1<0)&(testLine<0))?selP(mx,my):testPoint;testLine=(mdn&(testPoint<0)&(selL1<0))?selLorS(mx,my):testLine;((mdn|mup)&(status==inversion)&(testPoint<0)&(testLine<0))?cnstrHarmonic():&squot;&squot;;((mdn|mup)&(status==inversion)&(testPoint>0)&(testLine<0))?cnstrPHarmonic():&squot;&squot;;((mdn|mup)&(status==inversion)&(testPoint<0)&(testLine>0))?cnstrLHarmonic():&squot;&squot;;((mdn|mup)&((status==bisectriz)|(status==angulo))&(testLine<0))?cnstr3POB():&squot;&squot;;((mdn|mup)&((status==bisectriz)|(status==angulo))&(testLine>0))?cnstr2LOB():&squot;&squot;;maxNOG=NOG;NOGP=NOG;PASOS[paso,0]=NOG-1;(!mup)?updateLocal(1,iniNOG0,iniNOG1-1):&squot;&squot;;((mdn|mup)&(NOG>firstNOG))?updateLocal(1,firstNOG,NOG-1):&squot;&squot;;_Eval_(OBGRA[cLINE,_func]);(mup&(status==curva))?countCurvasYReglados():&squot;&squot;;;;;;;;;;' tipo='función' 
id='___HANDLERS___' expresión='0' tipo='variable' 
id='handleLUPA2D(lmx,lmy,lmp,lmpa)' algoritmo='sí' expresión='1' local='lmdn,fctr' inicio='changeCursor(&squot;MOVE&squot;,&squot;zoom-in&squot;)' hacer='lmdn=lmp&!lmpa;lmx0=(lmdn)?lmx:lmx0;lmy0=(lmdn)?lmy:lmy0;E2.Ox0=(lmdn)?E2.Ox:E2.Ox0;E2.Oy0=(lmdn)?E2.Oy:E2.Oy0;_escala_0=(lmdn)?_escala_: _escala_0;_escala_=max(_escala_0*(1+(lmy-lmy0)/(24+3*_escala_0)),0.000001);fctr=1-_escala_/_escala_0;ldx=( lmx0-E2.Ox0)*fctr;ldy=(-lmy0-E2.Oy0)*fctr;E2.Ox=E2.Ox0+ldx;E2.Oy=E2.Oy0+ldy;calcSpaceParams(lmpa&!lmp);;' tipo='función' 
id='handleLUPA3D(lmx,lmy,lmp,lmpa)' algoritmo='sí' expresión='1' local='lmdn,fctr' inicio='changeCursor(&squot;MOVE&squot;,&squot;zoom-in&squot;)' hacer='lmdn=lmp&!lmpa;lmx0=(lmdn)?lmx:lmx0;lmy0=(lmdn)?lmy:lmy0;X230=(lmdn)?X23(lmx,lmy):X230;Y230=(lmdn)?Y23(lmx,lmy):Y230;Z230=(lmdn)?Z23(lmx,lmy):Z230;_escala_0=(lmdn)?_escala_:_escala_0;_escala_=max(_escala_0*(1+(lmy-lmy0)/(24+3* _escala_0)),0.000001);fctr=(1-_escala_/_escala_0)/(amp_3D*amp_box);calcSpaceParams(lmpa&!lmp);' tipo='función' 
id='handleMOVE(emx,emy,emp,empa)' algoritmo='sí' expresión='1' local='emdn,edx,edy' inicio='changeCursor(&squot;MOVE&squot;,&squot;move&squot;)' hacer='emdn=emp&!empa;emx0=(emdn)?emx:emx0;emy0=(emdn)?emy:emy0;edx=(emx-emx0);edy=(emy-emy0);E2.Ox0=(emdn)?E2.Ox:E2.Ox0;E2.Oy0=(emdn)?E2.Oy:E2.Oy0;Ex.Oy0=(emdn)?Ex.Oy:Ex.Oy0;E2.Ox=(show_E2)?E2.Ox0+edx:E2.Ox0+X23(edx,edy);E2.Oy=(show_E2)?E2.Oy0-edy:E2.Oy0-Y23(edx,edy);Ex.Oy=(show_E2)?Ex.Oy0    :Ex.Oy0-Z23(edx,edy);calcSpaceParams(empa&!emp);;;;' tipo='función' 
id='handleCTRLG()' algoritmo='sí' expresión='color' local='xx,yy,coltest,colixa,doIt' inicio='xx=CTRLG.mouse_x;yy=CTRLG.mouse_y;colixa=colix' hacer='coltest=ent((xx-COLOR.x+colw/2)/colw);doIt=(coltest>=0)&(coltest<=9);coltest=(yy<-ent(CTRLG._h/6))?coltest+10:coltest;coltest=(yy> ent(CTRLG._h/6))?coltest+20:coltest;colix=(doIt)?coltest:colix;color=getColor(colix);//(doIt)?_Print_(color+&squot; = &squot;+Hex(color)):&squot;&squot;;COL[color,_hidden]=(doIt&(colix==colixa))?1-COL[color,_hidden]:COL[color,_hidden];(doIt&(selOBGRA>=0))?setColSz(selOBGRA):&squot;&squot;;' tipo='función' 
id='handleTEXTO()' algoritmo='sí' expresión='1' local='mx,my' inicio='mx=TEXTO.mouse_x;my=TEXTO.mouse_y' hacer='((mx>=0)&(mx<TECLA_w*30)&(-TECLA_h<=my)&(my<=TECLA_h))?texto_editado.insertAtCursor(SYMBOL[sYmB*60+ent(mx/TECLA_w)+30*(my<0)]):&squot;&squot;' tipo='función' 
id='makeCHG()' algoritmo='sí' expresión='x' hacer='CHANGE[nCHG,_objeto]=selOBGRA;CHANGE[nCHG,_col_i]=OBGRA[selOBGRA,_col];CHANGE[nCHG,_wdth_i]=OBGRA[selOBGRA,_wdth];CHANGE[nCHG,_oculto_i]=OBGRA[selOBGRA,_oculto];;(status==cambiar)?setColSz(selOBGRA):&squot;&squot;;(status==cambia_color)?setCol(selOBGRA):&squot;&squot;;(status==cambia_grosor)?setSz(selOBGRA,ancho):&squot;&squot;;OBGRA[selOBGRA,_oculto]=(status==ocultar)?1:OBGRA[selOBGRA,_oculto];;CHANGE[nCHG,_col_f]=OBGRA[selOBGRA,_col];CHANGE[nCHG,_wdth_f]=OBGRA[selOBGRA,_wdth];CHANGE[nCHG,_oculto_f]=OBGRA[selOBGRA,_oculto];;nCHG=nCHG+1;maxnCHG=nCHG;;selOBGRA=-1;safe=0;' tipo='función' 
id='moveSphereIn3D()' algoritmo='sí' expresión='0' local='xc,yc,newr' hacer='_radio_0=(E3mdn)?OBGRA[selOBGRA,_r]:_radio_0;xc=x32(OBGRA[selOBGRA,_centro]);yc=y32(OBGRA[selOBGRA,_centro]);newr=_radio_0+(dx*(E3.mouse_x-xc)+dy*(E3.mouse_y-yc))/sqrt((E3.mouse_x-xc)^2+(E3.mouse_y-yc)^2);OBGRA[selOBGRA,_radio]=&squot;&squot;+newr;(_radio_0!=OBGRA[selOBGRA,_radio])?updateLocal(1,selOBGRA,NOG-1):&squot;&squot;;' tipo='función' 
id='adaptToL(L)' algoritmo='sí' expresión='amp' local='x1,y1,z1,x2,y2,z2,d2,X1,Y1,X2,Y2,D2,amp' hacer='x1=OBGRA[L,_L_x1];y1=OBGRA[L,_L_y1];z1=OBGRA[L,_L_z1];x2=OBGRA[L,_L_x2];y2=OBGRA[L,_L_y2];z2=OBGRA[L,_L_z2];d2=(x2-x1)^2+(y2-y1)^2+(z2-z1)^2;X1=X32(x1,y1,z1);Y1=Y32(x1,y1,z1);X2=X32(x2,y2,z2);Y2=Y32(x2,y2,z2);D2=(X2-X1)^2+(Y2-Y1)^2;amp=min(max(d2/D2,1),100);newx=selOBGRA.x0+xx*amp;newy=selOBGRA.y0+yy*amp;newz=selOBGRA.z0+zz*amp;;;;;' tipo='función' 
id='adaptToPlane(p)' algoritmo='sí' expresión='1' local='a,b,c,np,t' hacer='a=OBGRA[p,_pa];b=OBGRA[p,_pb];c=OBGRA[p,_pc];np=sqrt(a^2+b^2+c^2);a=a/np;b=b/np;c=c/np;t=-(a*xx+b*yy+c*zz)/(a*E3Rxx+b*E3Rxy+c*E3Rxz);newx=selOBGRA.x0+xx+t*E3Rxx;newy=selOBGRA.y0+yy+t*E3Rxy;newz=selOBGRA.z0+zz+t*E3Rxz;;;' tipo='función' 
id='adaptToCirc3D(p)' algoritmo='sí' expresión='1' local='a,b,c,np,t' hacer='a=OBGRA[p,_Nx];b=OBGRA[p,_Ny];c=OBGRA[p,_Nz];np=sqrt(a^2+b^2+c^2);a=a/np;b=b/np;c=c/np;t=-(a*xx+b*yy+c*zz)/(a*E3Rxx+b*E3Rxy+c*E3Rxz);newx=selOBGRA.x0+xx+t*E3Rxx;newy=selOBGRA.y0+yy+t*E3Rxy;newz=selOBGRA.z0+zz+t*E3Rxz;;;' tipo='función' 
id='moveCtrlIn3D(cnstr)' algoritmo='sí' expresión='x' local='xx,yy,zz,n2,newx,newy,newz' hacer='xx=X23(dx,dy);yy=Y23(dx,dy);zz=Z23(dx,dy);n2=xx^2+yy^2+zz^2;newx=selOBGRA.x0+xx;newy=selOBGRA.y0+yy;newz=selOBGRA.z0+zz;((OBGRA[cnstr,_type]==circ3D)&(n2>epsilon))?adaptToCirc3D(cnstr):&squot;&squot;;((OBGRA[cnstr,_type]==segment)&(n2>epsilon))?adaptToL(cnstr):&squot;&squot;;(((OBGRA[cnstr,_type]==triangle)|(OBGRA[cnstr,_type]==plane))&(n2>epsilon))?adaptToPlane(cnstr):&squot;&squot;;newz=(abs(newz*E3.escala)<6)?0:newz;set_Point(selOBGRA,newx,newy,newz);OBGRA[selOBGRA,_invalid]=0;OBGRA[selOBGRA,_invisible]=0;' tipo='función' 
id='handleE3naming()' algoritmo='sí' expresión='1' local='found' inicio='E_touched=1;openingfile=0' hacer='selOBGRA=(E3.mp&(!E3.mpa))?selE3OB(E3.mouse_x,E3.mouse_y):selOBGRA;found=E3.mp&(!E3.mpa)&(selOBGRA>=minNOG)&isVisible(selOBGRA);(found)?nameOne():&squot;&squot;;;' tipo='función' 
id='handleE3()' algoritmo='sí' expresión='1' local='dx,dy,isC,doRotate,keepSelOBGRA' inicio='E_touched=1;openingfile=0' hacer='E3mdn=E3.mp&!E3.mpa;hasMoved=(E3mdn)?0:hasMoved;E3mup=E3.mpa&!E3.mp;mdx0=(E3mdn)?E3.mouse_x:mdx0;mdy0=(E3mdn)?E3.mouse_y:mdy0;selOBGRA=(E3mdn)?selE3OB(E3.mouse_x,E3.mouse_y):selOBGRA;selOBGRA=(E3mup&hasMoved)?-1:selOBGRA;can_anim=(selOBGRA>=minNOG)&isVisible(selOBGRA)&(OBGRA[selOBGRA,_type]!=control);isCtrl=(selOBGRA>=minNOG)&isVisible(selOBGRA)&(OBGRA[selOBGRA,_type]==control);selOBGRA.x0=(E3mdn&isCtrl)?X2(selOBGRA):selOBGRA.x0;selOBGRA.y0=(E3mdn&isCtrl)?Y2(selOBGRA):selOBGRA.y0;selOBGRA.z0=(E3mdn&isCtrl)?Z2(selOBGRA):selOBGRA.z0;E3.mouse_xa=(E3.mp&(!E3.mpa))?E3.mouse_x:E3.mouse_xa;E3.mouse_ya=(E3.mp&(!E3.mpa))?E3.mouse_y:E3.mouse_ya;dx=E3.mouse_x-mdx0;dy=E3.mouse_y-mdy0;hasMoved=hasMoved|(dx!=0)|(dy!=0);isC=(selOBGRA>=0)&(OBGRA[selOBGRA,_type]==circle)&(OBGRA[selOBGRA,_func]==&squot;calcCircle2D(&squot;+selOBGRA+&squot;)&squot;);doRotate=(selOBGRA<0)|(OBGRA[selOBGRA,_type]!=control)&(!isC);(isC&E3.mp)?moveSphereIn3D():&squot;&squot;;((OBGRA[selOBGRA,_type]==control))?moveCtrlIn3D(OBGRA[selOBGRA,_cnstr]):&squot;&squot;;((selOBGRA>=0)&!doRotate)?updateLocal(1,selOBGRA,NOG-1):&squot;&squot;;ROT_x=(doRotate)?E3.mouse_x-E3.mouse_xa:0;ROT_y=(doRotate)?E3.mouse_y-E3.mouse_ya:0;((ROT_x!=0)|(ROT_y!=0))?calcE3R():&squot;&squot;;keepSelOBGRA=(selOBGRA>=0)&E3mup;(keepSelOBGRA)?getColSz(selOBGRA):&squot;&squot;;nombre=(keepSelOBGRA)?OBGRA[selOBGRA,_name]:&squot;&squot;;subnombre=(keepSelOBGRA)?OBGRA[selOBGRA,_subix]:&squot;&squot;;(E3.mp&(selOBGRA>=0)&((status<explorar)|(status==ocultar)))?makeCHG():&squot;&squot;;E3.mouse_xa=E3.mouse_x;E3.mouse_ya=E3.mouse_y;(E3mup)?updateOBGRAs():&squot;&squot;' tipo='función' 
id='handleE3Rotate()' algoritmo='sí' expresión='1' local='dx,dy' inicio='E_touched=1' hacer='E3mdn=E3.mp&!E3.mpa;hasMoved=(E3mdn)?0:hasMoved;E3mup=E3.mpa&!E3.mp;mdx0=(E3mdn)?E3.mouse_x:mdx0;mdy0=(E3mdn)?E3.mouse_y:mdy0;E3.mouse_xa=(E3.mp&(!E3.mpa))?E3.mouse_x:E3.mouse_xa;E3.mouse_ya=(E3.mp&(!E3.mpa))?E3.mouse_y:E3.mouse_ya;dx=E3.mouse_x-mdx0;dy=E3.mouse_y-mdy0;ROT_x=E3.mouse_x-E3.mouse_xa;ROT_y=E3.mouse_y-E3.mouse_ya;((ROT_x!=0)|(ROT_y!=0))?calcE3R():&squot;&squot;;E3.mouse_xa=E3.mouse_x;E3.mouse_ya=E3.mouse_y;;;;;' tipo='función' 
id='handleE2naming()' algoritmo='sí' expresión='1' local='found' inicio='E_touched=1;openingfile=0' hacer='selOBGRA=(E2.mp&(!E2.mpa))?selOB(E2.mouse_x,E2.mouse_y):selOBGRA;found=E2.mp&(!E2.mpa)&(selOBGRA>=minNOG)&isVisible(selOBGRA);(found)?nameOne():&squot;&squot;;;' tipo='función' 
id='moveCircleRadius()' algoritmo='sí' expresión='0' local='dx,dy,xc,yc,newr' hacer='E2mdx0=(mdn)?E2.mouse_x:E2mdx0;E2mdy0=(mdn)?E2.mouse_y:E2mdy0;dx=E2.mouse_x-E2mdx0;dy=E2.mouse_y-E2mdy0;_radio_0=(mdn)?OBGRA[selOBGRA,_r]:_radio_0;xc=X2(OBGRA[selOBGRA,_centro]);yc=Y2(OBGRA[selOBGRA,_centro]);newr=_radio_0+(dx*(E2.mouse_x-xc)+dy*(E2.mouse_y-yc))/sqrt((E2.mouse_x-xc)^2+(E2.mouse_y-yc)^2);OBGRA[selOBGRA,_radio]=&squot;&squot;+newr;(_radio_0!=OBGRA[selOBGRA,_radio])?updateLocal(1,selOBGRA,NOG-1):&squot;&squot;;' tipo='función' 
id='handleE2()' algoritmo='sí' expresión='1' local='found,isC,mdn' inicio='E_touched=1;openingfile=0' hacer='mdn=E2.mp&!E2.mpa;(mdn)?set_Point(E2.MD,E2.mouse_x,E2.mouse_y,0):&squot;&squot;;set_Point(E2.M,E2.mouse_x,E2.mouse_y,0);selOBGRA_a=(mdn)?selOBGRA:selOBGRA_a;selOBGRA=(mdn)?selOB(E2.mouse_x,E2.mouse_y):selOBGRA;selOBGRA=((!E2.mp)&(selOBGRA_a==selOBGRA)&(X2(E2.MD)==X2(E2.M))&(Y2(E2.MD)==Y2(E2.M)))?-1:selOBGRA;found=(status==explorar)&E2.mp&(!E2.mpa)&(selOBGRA>=minNOG)&isVisible(selOBGRA)&(OBGRA[selOBGRA,_type]==control);ncg=(found)?selOBGRA:ncg;xp=(found)?OBGRA[ncg,_x]:xp;yp=(found)?OBGRA[ncg,_y]:yp;x0=(found)?E2.mouse_x:x0;y0=(found)?E2.mouse_y:y0;seHaMovido=(ncg>0)&((E2.mouse_x!=x0)|(E2.mouse_y!=y0));(ncg>0)?set_Point(ncg,xp+E2.mouse_x-x0,yp+E2.mouse_y-y0,OBGRA[ncg,_z]):&squot;&squot;;;(seHaMovido&(ncg>0))?updateLocal(1,ncg,NOG-1):&squot;&squot;;;ncg=(!E2.mp)?-1:ncg;;isC=(selOBGRA>=0)&(OBGRA[selOBGRA,_type]==circle)&(OBGRA[selOBGRA,_func]==&squot;calcCircle2D(&squot;+selOBGRA+&squot;)&squot;);(isC&E2.mp)?moveCircleRadius():&squot;&squot;;;;selOBGRA=(((X2(E2.MD)!=X2(E2.M))|(Y2(E2.MD)!=Y2(E2.M)))&(!E2.mp)&((OBGRA[selOBGRA,_type]==control)|isC))?-1:selOBGRA;((!E2.mp)&(selOBGRA>=0)&(status==explorar))?getColSz(selOBGRA):&squot;&squot;;(E2.mp&(selOBGRA>=0)&((status<explorar)|(status==ocultar)))?makeCHG():&squot;&squot;;;selHasName=(selOBGRA>=minNOG)&((OBGRA[selOBGRA,_type]==control)|(OBGRA[selOBGRA,_type]==point)|(OBGRA[selOBGRA,_type]==angle));nombre=(selHasName)?OBGRA[selOBGRA,_name]:&squot;&squot;;subnombre=(selHasName)?OBGRA[selOBGRA,_subix]:&squot;&squot;;;;;;;;;;;;' tipo='función' 
id='cleanCnstr()' algoritmo='sí' expresión='1' hacer='excludedObj=-1;selP1=-1;selP2=-1;selP3=-1;selL1=-1;selL2=-1;selL3=-1;selS1=-1;selEq1=-1;selC1=-1;selL=-1;selT=-1;help_text=&squot;&squot;;selOBGRA=-1;initC5Pts();initC9Pts();help_text=&squot;&squot;;testPoint=-1;testLine=-1;drawingAngle=0;drawingBisector=0;' tipo='función' 
id='setStatus(s)' algoritmo='sí' expresión='1' inicio='status=s' hacer='selL_for_SvsL=(((OBGRA[selOBGRA,_type]==segment)&(OBGRA[selOBGRA,_isLine]))|(OBGRA[selOBGRA,_type]==triangle)|(OBGRA[selOBGRA,_type]==plane))?selOBGRA:-1;isSvsL=(selL_for_SvsL>minNOG);selP_for_TvsP=((OBGRA[selOBGRA,_type]==triangle)|(OBGRA[selOBGRA,_type]==plane))?selOBGRA:-1;isTvsP=(selP_for_TvsP>minNOG);selL_for_TvsL=((OBGRA[selOBGRA,_type]==segmento)&(OBGRA[selOBGRA,_isLine]))?selOBGRA:-1;isTvsL=(selL_for_TvsL>minNOG);cleanCnstr()' tipo='función' 
</script>

<script type="descartes/library" id="biblioteca/ProGeo3D_io.txt">
id='nameOne()' algoritmo='sí' expresión='1' hacer='TCLin=(_estado_==0)?OBGRA[selOBGRA,_name]:OBGRA[selOBGRA,_subix];TCL.set(&squot;S&squot;,TCLin);TCL.exec(&squot;cfgDisplay&squot;,&squot;2000,-100,300,50&squot;);(_estado_==0)?TCL.exec(&squot;setParams&squot;,&squot;16,4,1,1&squot;):TCL.exec(&squot;setParams&squot;,&squot;16,4,1,0&squot;);((_estado_==0)&(OBGRA[selOBGRA,_type]==angle))?TCL.exec(&squot;setParams&squot;,&squot;16,4,0,0&squot;):&squot;&squot;;((_estado_==0)&(OBGRA[selOBGRA,_type]==segment))?TCL.exec(&squot;setParams&squot;,&squot;16,4,1,0&squot;):&squot;&squot;;TCL.update();TCL.ready=1;' tipo='función' 
id='updateTheText()' algoritmo='sí' expresión='1' local='ix' inicio='the_text=_replace_(the_text,&squot;\page2&squot;,&squot;\lado2&squot;)' hacer='ix=_indexOf_(the_text,&squot;\lado2&squot;);oneSide=(ix<0);the_left_text=(ix>0)?_substring_(the_text,0,ix-1):the_text;the_right_text=(ix>=0)?_substring_(the_text,ix+7,_length_(the_text)):&squot;&squot;;the_left_text=((read_mode==rm_L)|read_mode==rm_R)?the_left_text+&squot;&squot;+the_right_text:the_left_text;safe=0;' tipo='función' 
id='getTheText(str)' algoritmo='sí' expresión='1' local='elajs,hasPASOS,aux,auxstr' inicio='the_title=extract(str,&squot;TITLE&squot;);the_text=extract(str,&squot;TEXT&squot;);hasPASOS=(_indexOf_(str,&squot;<PASO>&squot;)>=0);updateTheText();_pasos_=0;paso=0;;' hacer='auxstr=(_indexOf_(str,&squot;PASO&squot;)>=0)?extract(str,&squot;PASO&squot;):str;PASOS[_pasos_,0]=extract(auxstr,&squot;NOG&squot;);PASOS[_pasos_,1]=extract(auxstr,&squot;TEXT&squot;);PASOS[_pasos_,2]=&squot;hiddenColors:&squot;+extract(str,&squot;HCOLS&squot;);PASOS[_pasos_,3]=&squot;hiddenObjects:&squot;+extract(str,&squot;HOBJS&squot;);aux=extract(auxstr,&squot;3D&squot;);PASOS[_pasos_,4]=(aux!=&squot;&squot;)?_Eval_(aux):&squot;&squot;;aux=extract(auxstr,&squot;CAJA&squot;);PASOS[_pasos_,5]=(aux!=&squot;&squot;)?_Eval_(aux):0;aux=extract(auxstr,&squot;PLANOXY&squot;);PASOS[_pasos_,6]=(aux!=&squot;&squot;)?_Eval_(aux):1;PASOS[_pasos_,7]=0;aux=extract(auxstr,&squot;ANIM&squot;);PASOS[_pasos_,8]=(aux!=&squot;&squot;)?_Eval_(aux):&squot;&squot;;aux=extract(auxstr,&squot;SPACE&squot;);PASOS[_pasos_,9]=(aux==&squot;&squot;)?rm_R:aux;PASOS[_pasos_,9]=(aux==&squot;0&squot;)?rm_TR:aux;aux=extract(auxstr,&squot;LNGLN&squot;);PASOS[_pasos_,10]=(aux!=&squot;&squot;)?_Eval_(aux):0;aux=extract(auxstr,&squot;FAMS&squot;);PASOS[_pasos_,11]=(aux!=&squot;&squot;)?_Eval_(aux):-1;aux=extract(auxstr,&squot;EXPLORE&squot;);PASOS[_pasos_,12]=(aux!=&squot;&squot;)?_Eval_(aux):1;aux=extract(auxstr,&squot;NOMBRES&squot;);PASOS[_pasos_,13]=(aux!=&squot;&squot;)?_Eval_(aux):1;str=(!hasPASOS)?skip(str,&squot;TEXT&squot;):str;str=(!hasPASOS)?skip(str,&squot;SPACE&squot;):str;str=(hasPASOS)?skip(str,&squot;PASO&squot;):str;_pasos_=_pasos_+1;' mientras='(hasPASOS&(_indexOf_(str,&squot;<PASO>&squot;)>=0))|((!hasPASOS)&(_indexOf_(str,&squot;<TEXT>&squot;)>=0))' tipo='función' 
id='_____STEPS_____' expresión='0' tipo='variable' 
id='PASOS' matriz='sí' evaluar='una-sola-vez' columnas='20' filas='14' expresión='//0 NOGP;//1 el texto;//2 hidden colors;//3 hidden objects;//4 3D;//5 box;//6 planoxy;//7 selected;//8 animar;//9 spacepos;//10 longlines;//11 fams;//12 explore;//13 nombres;' tipo='matriz' 
id='cleanPASOS()' algoritmo='sí' expresión='1' local='j' inicio='_pasos_=1;paso=0;j=0' hacer='PASOS[j,0]=0;PASOS[j,1]=&squot;&squot;+(j+1)+&squot;.- Explicación.&squot;;PASOS[j,2]=&squot;hiddenColors:0,0,0,0,0,0,0,0,0,0&squot;;PASOS[j,3]=&squot;hiddenObjects:-1&squot;;PASOS[j,4]=&squot;&squot;;PASOS[j,5]=&squot;&squot;;PASOS[j,6]=&squot;&squot;;PASOS[j,7]=&squot;&squot;;PASOS[j,8]=&squot;&squot;;PASOS[j,9]=&squot;&squot;;PASOS[j,10]=&squot;&squot;;PASOS[j,11]=&squot;&squot;;PASOS[j,12]=&squot;&squot;;PASOS[j,13]=&squot;&squot;;j=j+1' mientras='j<PASOS.columnas' tipo='función' 
id='copyPasoFromTo(m,n)' algoritmo='sí' expresión='1' local='j' inicio='j=0' hacer='PASOS[n,j]=PASOS[m,j];j=j+1' mientras='j<=13' tipo='función' 
id='hiddenObjInThisStep(n)' algoritmo='sí' expresión='hidden' local='j,hidden' inicio='j=0' hacer='hidden=(HIDDENOBJ[paso,j]==n);j=j+1;' mientras='(!hidden)&(HIDDENOBJ[paso,j]>=minNOG)' tipo='función' 
id='hideColsInStep(n)' algoritmo='sí' expresión='1' local='str,ix,obj,j,k' inicio='str=_substring_(PASOS[n,2],13,_longitud_(PASOS[n,2]));j=0' hacer='ix=_indexOf_(str,&squot;,&squot;);obj=(ix>0)?_substring_(str,0,ix):str;str=(ix>0)?_substring_(str,ix+1,_longitud_(str)):&squot;&squot;;k=_Eval_(obj);HIDDENCOL[n,j]=k%2;HIDDENCOL[n,j+10]=ent((k/2))%2;HIDDENCOL[n,j+20]=ent((k/4))%2;j=j+1;;;' mientras='j<10' tipo='función' 
id='hideObjsInStep(n)' algoritmo='sí' expresión='1' local='str,ix,obj,j,num' inicio='str=_substring_(PASOS[n,3],14,_longitud_(PASOS[n,3]));j=0;HIDDENOBJ[n,j]=-1' hacer='ix=_indexOf_(str,&squot;,&squot;);obj=(ix>0)?_substring_(str,0,ix):str;str=(ix>0)?_substring_(str,ix+1,_longitud_(str)):&squot;&squot;;HIDDENOBJ[n,j]=_Eval_(obj);j=j+1;HIDDENOBJ[n,j]=-1' mientras='str!=&squot;&squot;' tipo='función' 
id='prepareHIDDENCOLs()' algoritmo='sí' expresión='1' local='n' inicio='PASOS[n,2]=(PASOS[n,2]==0)?&squot;hiddenColors:0,0,0,0,0,0,0,0,0,0&squot;:PASOS[n,2];n=0' hacer='hideColsInStep(n);n=n+1' mientras='n<_pasos_' tipo='función' 
id='prepareHIDDENOBJs()' algoritmo='sí' expresión='1' local='n' inicio='PASOS[n,3]=(PASOS[n,3]==0)?&squot;hiddenObjects:-1&squot;:PASOS[n,3];n=0' hacer='hideObjsInStep(n);n=n+1' mientras='n<_pasos_' tipo='función' 
id='hiddenColStr(n)' algoritmo='sí' expresión='str' local='j,str' inicio='str=&squot;hiddenColors:&squot;;str=&squot;&squot;;j=0' hacer='str=str+(HIDDENCOL[n,j]+HIDDENCOL[n,j+10]*2+HIDDENCOL[n,j+20]*4);j=j+1;str=(j<10)?str+&squot;,&squot;:str;;' mientras='j<10' tipo='función' 
id='hiddenObjStr(n)' algoritmo='sí' expresión='str' local='j,str' inicio='str=&squot;hiddenObjects:&squot;;str=&squot;&squot;;j=0' hacer='str=str+HIDDENOBJ[n,j];j=j+1;str=(HIDDENOBJ[n,j]>=minNOG)?str+&squot;,&squot;:str;' mientras='HIDDENOBJ[n,j]>=minNOG' tipo='función' 
id='switchToStepCols(paso)' algoritmo='sí' expresión='1' local='n' inicio='n=0' hacer='COL[getColor(n),_hidden]=HIDDENCOL[paso,n];n=n+1;' mientras='n<30' tipo='función' 
id='switchToStepObjs(paso)' algoritmo='sí' expresión='1' local='j,n' inicio='j=0' hacer='n=max(HIDDENOBJ[paso,j],0);OBGRA[n,_oculto]=(n>=minNOG)?1:OBGRA[n,_oculto];j=j+1;' mientras='HIDDENOBJ[paso,j]>=minNOG' tipo='función' 
id='getPasoNOG(paso)' algoritmo='sí' expresión='nog' local='nog' hacer='nog=((PASOS[paso,0]!=&squot;&squot;)&(PASOS[paso,0]!=0))?_Eval_(&squot;&squot;+PASOS[paso,0])+1:maxNOG;nog=(nog<101)?maxNOG:nog;nog=min(nog,maxNOG);PASOS[paso,0]=nog-1;;;' tipo='función' 
id='saveStepCols(paso)' algoritmo='sí' expresión='1' local='n' inicio='n=0' hacer='HIDDENCOL[paso,n]=COL[getColor(n),_hidden];n=n+1;' mientras='n<30' tipo='función' 
id='saveStepObjs(paso)' algoritmo='sí' expresión='1' local='n,j,itIs' inicio='j=0;HIDDENOBJ[paso,j]=-1;n=minNOG' hacer='HIDDENOBJ[paso,j+1]=-1;itIs=OBGRA[n,_oculto];HIDDENOBJ[paso,j]=(itIs)?n:HIDDENOBJ[paso,j];j=(itIs)?j+1:j;n=n+1' mientras='n<NOG' tipo='función' 
id='saveStepInfo(paso)' algoritmo='sí' expresión='1' hacer='saveStepCols(paso);saveStepObjs(paso);PASOS[paso,4]=show_E3;PASOS[paso,5]=caja;PASOS[paso,6]=planoxy;PASOS[paso,7]=0;PASOS[paso,8]=_anim_on_;PASOS[paso,9]=read_mode;PASOS[paso,10]=lngln;PASOS[paso,11]=fams;PASOS[paso,12]=b_EA;PASOS[paso,13]=show_names;' tipo='función' 
id='switchToStepInfo(paso)' algoritmo='sí' expresión='1' inicio='MostrarTodo()' hacer='texto_editado=PASOS[paso,1];texto_editado.update();the_text=texto_editado;PASOS[paso,1]=_replace_(the_text,&squot;\page2&squot;,&squot;\lado2&squot;);updateTheText();switchToStepObjs(paso);switchToStepCols(paso);countCurvasYReglados();show_E3=PASOS[paso,4];show_E2=!show_E3;caja=PASOS[paso,5];planoxy=PASOS[paso,6];selOBGRA=((PASOS[paso,7]!=&squot;&squot;)&(PASOS[paso,7]>100))?PASOS[paso,7]:-1;lngln=(PASOS[paso,10]!=&squot;&squot;)?PASOS[paso,10]:0;fams=(PASOS[paso,11]!=&squot;&squot;)?PASOS[paso,11]:0;_animate_=(PASOS[paso,8]&!_anim_on_)?play():0;_anim_on_=(PASOS[paso,8])?_anim_on_:0;setReadMode(PASOS[paso,9]);updateViewMode();b_EA=PASOS[paso,12];show_names=PASOS[paso,13];E_touched=0;T_touched=0;_CLEAN_=1;' tipo='función' 
id='goToStep(step)' algoritmo='sí' expresión='paso' hacer='paso=min(max(0,step),_pasos_-1);NOGP=getPasoNOG(paso);switchToStepInfo(paso);status=(PASOS[paso,12])?explorar:girar;;;' tipo='función' 
id='goToPrevStep()' algoritmo='sí' expresión='paso' local='elpaso' hacer='saveStepInfo(paso);elpaso=max(0,paso-1);goToStep(elpaso);;' tipo='función' 
id='goToNextStep()' algoritmo='sí' expresión='paso' local='elpaso' hacer='saveStepInfo(paso);elpaso=min(paso+1,_pasos_-1);goToStep(elpaso);;;' tipo='función' 
id='shift_HIDDENCOL(m,n)' algoritmo='sí' expresión='1' local='j' inicio='j=0' hacer='HIDDENCOL[n,j]=HIDDENCOL[m,j];j=j+1;' mientras='j<30' tipo='función' 
id='shift_HIDDENOBJ(m,n)' algoritmo='sí' expresión='1' local='quit,j' inicio='j=0' hacer='HIDDENOBJ[n,j]=HIDDENOBJ[m,j];quit=(HIDDENOBJ[m,j]<minNOG);j=j+1;' mientras='(!quit)' tipo='función' 
id='insert_paso()' algoritmo='sí' expresión='1' local='n' inicio='saveStepInfo(paso);n=_pasos_;_pasos_=_pasos_+1;NOGP=NOG' hacer='copyPasoFromTo(n,n+1);shift_HIDDENCOL(n,n+1);shift_HIDDENOBJ(n,n+1);n=n-1;;' mientras='n>=paso' tipo='función' 
id='delete_paso()' algoritmo='sí' expresión='1' local='n,last,doit' inicio='_pasos_=max(_pasos_-1,0);paso=min(paso,_pasos_-1);texto_editado=PASOS[paso,1];goToStep(paso);n=paso;_CLEAN_=1' hacer='doit=(n<=_pasos_-1);(doit)?copyPasoFromTo(n+1,n):&squot;&squot;;(doit)?shift_HIDDENCOL(n+1,n):&squot;&squot;;(doit)?shift_HIDDENOBJ(n+1,n):&squot;&squot;;n=n+1;;' mientras='n<_pasos_' tipo='función' 
id='ReplaceInPASOS(str1,str2)' algoritmo='sí' expresión='1' local='n' inicio='n=0' hacer='PASOS[n,1]=_replace_(PASOS[n,1],str1,str2);n=n+1;;' mientras='n<_pasos_' tipo='función' 
id='Guardar_HIDDENs()' algoritmo='sí' expresión='1' local='n' inicio='n=0' hacer='PASOS[n,2]=hiddenColStr(n);PASOS[n,3]=hiddenObjStr(n);n=n+1' mientras='n<_pasos_' tipo='función' 
id='Guardar_Textos()' algoritmo='sí' expresión='s' local='s,auxstr,n' inicio='s=&squot;&squot;;n=0' hacer='s=s+&squot;\r\n<PASO>&squot;;s=s+&squot;\r\n<NOG>&squot;+PASOS[n,0]+&squot;</NOG>&squot;;s=s+&squot;\r\n<SPACE>&squot;+PASOS[n,9]+&squot;</SPACE>&squot;;auxstr=_replace_(PASOS[n,1],&squot;\n&squot;,&squot;\ln&squot;);auxstr=_replace_(auxstr,&squot;\ln&squot;,&squot;\r\n&squot;);s=s+&squot;\r\n<TEXT>&squot;+auxstr+&squot;</TEXT>&squot;;s=s+&squot;\r\n<HCOLS>&squot;+PASOS[n,2]+&squot;</HCOLS>&squot;;s=s+&squot;\r\n<HOBJS>&squot;+PASOS[n,3]+&squot;</HOBJS>&squot;;s=s+&squot;\r\n<3D>&squot;+PASOS[n,4]+&squot;</3D>&squot;;s=s+&squot;\r\n<CAJA>&squot;+PASOS[n,5]+&squot;</CAJA>&squot;;s=s+&squot;\r\n<PLANOXY>&squot;+PASOS[n,6]+&squot;</PLANOXY>&squot;;s=s+&squot;\r\n<LNGLN>&squot;+PASOS[n,10]+&squot;</LNGLN>&squot;;//s=s+&squot;\r\n<SELECT>&squot;+PASOS[n,7]+&squot;</SELECT>&squot;;s=s+&squot;\r\n<ANIM>&squot;+PASOS[n,8]+&squot;</ANIM>&squot;;s=s+&squot;\r\n<FAMS>&squot;+PASOS[n,11]+&squot;</FAMS>&squot;;s=s+&squot;\r\n<EXPLORE>&squot;+PASOS[n,12]+&squot;</EXPLORE>&squot;;s=s+&squot;\r\n<NOMBRES>&squot;+PASOS[n,13]+&squot;</NOMBRES>&squot;;s=s+&squot;\r\n</PASO>\r\n&squot;;n=n+1;' mientras='n<_pasos_' tipo='función' 
id='_____IO_____' expresión='0' tipo='variable' 
id='getFileName()' algoritmo='sí' expresión='1' local='fn' inicio='fn=DJS.fileName' hacer='ix=_indexOf_(fn,&squot;.&squot;);the_ext=_substring_(fn,ix+1,_length_(fn));the_file_name=(ix>=0)?_substring_(fn,0,ix):fn;text_or_scene=(the_ext==&squot;pg3&squot;)' tipo='función' 
id='CONSTRUCTION' matriz='sí' evaluar='una-sola-vez' columnas='250' filas='5' expresión='_construction_string=0;_object_color=1;_object_size=2;_object_name=3;_object_subix=4;;' tipo='matriz' 
id='Guardar_ctrlConstr(p)' algoritmo='sí' expresión='str' local='str,prefix' hacer='constriction=(isNum(OBGRA[p,_cnstr]))?OBGRA[p,_cnstr]:&squot;\u0027&squot;+OBGRA[p,_cnstr]+&squot;\u0027&squot;;prefix=&squot;&squot;;prefix=(isNum(constriction)&(OBGRA[constriction,_type]==circle))?&squot;C_&squot;:prefix;prefix=(isNum(constriction)&(OBGRA[constriction,_type]==segment))?&squot;L_&squot;:prefix;str=&squot;P_&squot;+p+&squot;:=newCnstrGCtrl3D(\u0027&squot;+OBGRA[p,_name]+&squot;\u0027,\u0027&squot;+OBGRA[p,_subix]+&squot;\u0027,&squot;+rNd(12,X2(p))+&squot;,&squot;+rNd(12,Y2(p))+&squot;,&squot;+rNd(12,Z2(p))+&squot;,&squot;+prefix+constriction+&squot;,&squot;+COL[OBGRA[p,_col],_colname]+&squot;,&squot;+OBGRA[p,_wdth]+&squot;,\u0027&squot;+OBGRA[p,_show]+&squot;\u0027)&squot;;' tipo='función' 
id='Guardar_CONSTRUCTION()' algoritmo='sí' expresión='1' local='k,p' inicio='k=0' hacer='p=k+101;CONSTRUCTION[k,_construction_string]=(OBGRA[p,_type]==control)?Guardar_ctrlConstr(p):OBGRA[p,_constr];CONSTRUCTION[k,_construction_string]=_replace_(CONSTRUCTION[k,_construction_string],&squot;OBGRA[p,_r]&squot;,&squot;\u0027&squot;+OBGRA[p,_r]+&squot;\u0027&squot;);CONSTRUCTION[k,_object_color]=COL[OBGRA[p,_col],_colname];CONSTRUCTION[k,_object_size]=OBGRA[p,_wdth];CONSTRUCTION[k,_object_name]=OBGRA[p,_name];CONSTRUCTION[k,_object_subix]=OBGRA[p,_subix];k=k+1' mientras='k<(NOG-101)' tipo='función' 
id='Guardar_getAppStr(_name_)' algoritmo='sí' expresión='str' local='str,auxstr,rndr' inicio='saveStepInfo(paso);str=&squot;&squot;;rndr=10000' hacer='str=str+&squot;<APP>&squot;+the_title+&squot;</APP>\r\n&squot;;;str=str+&squot;\r\n<AUX>\r\n&squot;;str=str+&squot;_escala_=&squot;+rNd(12,_escala_)+&squot;\r\n&squot;;str=str+&squot;_Ox_=&squot;+r4d(E2.Ox)+&squot;\r\n&squot;;str=str+&squot;_Oy_=&squot;+r4d(E2.Oy)+&squot;\r\n&squot;;str=str+&squot;_nNOG_=&squot;+(NOG-101)+&squot;\r\n&squot;;str=str+&squot;_pasos_=&squot;+_pasos_+&squot;\r\n&squot;;;str=str+&squot;E3.rot.x=&squot;+r4d(E3.rot.x)+&squot;\r\n&squot;;str=str+&squot;E3.rot.y=&squot;+r4d(E3.rot.y)+&squot;\r\n&squot;;str=str+&squot;E3.rot.z=&squot;+r4d(E3.rot.z)+&squot;\r\n&squot;;str=str+&squot;Ex.Oy=&squot;+r4d(Ex.Oy)+&squot;\r\n&squot;;str=str+&squot;show_E2=&squot;+show_E2+&squot;\r\n&squot;;str=str+&squot;show_E3=&squot;+show_E3+&squot;\r\n&squot;;str=(!euclideana)?str+&squot;proyectiva=1\r\n&squot;:str;str=str+&squot;planoxy=&squot;+planoxy+&squot;\r\n&squot;;str=str+&squot;caja=&squot;+caja+&squot;\r\n&squot;;str=str+&squot;showFlechas=&squot;+showFlechas+&squot;\r\n&squot;;str=str+&squot;bg_img=&squot;+bg_img+&squot;\r\n&squot;;str=str+&squot;bg_img_x=&squot;+bg_img_x+&squot;\r\n&squot;;str=str+&squot;bg_img_y=&squot;+bg_img_y+&squot;\r\n&squot;;str=str+&squot;bg_img_a=&squot;+bg_img_a+&squot;\r\n&squot;;str=str+&squot;bg_img_amp=&squot;+bg_img_amp+&squot;\r\n&squot;;str=str+&squot;</AUX>\r\n\r\n&squot;;;ROTAR[0,0]=r4d(E3Rxx);ROTAR[0,1]=r4d(E3Rxy);ROTAR[0,2]=r4d(E3Rxz);ROTAR[1,0]=r4d(E3Ryx);ROTAR[1,1]=r4d(E3Ryy);ROTAR[1,2]=r4d(E3Ryz);ROTAR[2,0]=r4d(E3Rzx);ROTAR[2,1]=r4d(E3Rzy);ROTAR[2,2]=r4d(E3Rzz);;ROTAR.columnas_usadas=3;ROTAR.filas_usadas=3;str=str+_MatrixToStr_(&squot;ROTAR&squot;)+&squot;\r\n\r\n&squot;;;Guardar_CONSTRUCTION();CONSTRUCTION.columnas_usadas=(NOG-101);CONSTRUCTION.filas_usadas=5;str=str+_MatrixToStr_(&squot;CONSTRUCTION&squot;)+&squot;\r\n&squot;;;Guardar_HIDDENs();str=str+&squot;\r\n<PASOS>\r\n&squot;+Guardar_Textos()+&squot;\r\n</PASOS>\r\n&squot;;' tipo='función' 
id='Leer_mkCnst(_nNOG_)' algoritmo='sí' expresión='1' local='n' inicio='n=0' hacer='_Eval_(CONSTRUCTION[n,_construction_string]);OBGRA[NOG-1,_col]=_Eval_(CONSTRUCTION[n,_object_color]);OBGRA[NOG-1,_wdth]=ent(CONSTRUCTION[n,_object_size]);OBGRA[NOG-1,_name]=CONSTRUCTION[n,_object_name];OBGRA[NOG-1,_subix]=CONSTRUCTION[n,_object_subix];n=n+1' mientras='n<_nNOG_' tipo='función' 
id='Leer_setAppStr(str)' algoritmo='sí' expresión='1' local='_nNOG_,A,cz,sz,cy,sy,hayROTAR,proyectiva' inicio='_anim_on_=0;isPlaying=0;audio.stop();the_Content=str;_pasos_=-1;inicio();' hacer='the_title0=extract(str,&squot;APP&squot;);str=_replace_(str,&squot;newArmonicReflexion&squot;,&squot;newHarmonicReflection&squot;);str=_replace_(str,&squot;newPolarAxis2D&squot;,&squot;newRadicalAxis&squot;);showFlechas=0;proyectiva=0;_ExecBlock_(str,&squot;AUX&squot;);_escala_=max(0.000001,_escala_);fams=(show_E2)?3:0;euclideana=(!proyectiva);E2.Ox=_Ox_;E2.Oy=_Oy_;E3.rot.x=0;E3.rot.y=0;E3.rot.z=0;hayROTAR=(_indexOf_(str,&squot;<ROTAR>&squot;)>=0);(hayROTAR)?_StrToMatrix_(str,&squot;ROTAR&squot;):&squot;&squot;;initE3R(hayROTAR,E3.rot.y,E3.rot.z);_StrToMatrix_(str,&squot;CONSTRUCTION&squot;);(_nNOG_>0)?Leer_mkCnst(_nNOG_):&squot;&squot;;_pasos_=(str==&squot;&squot;)?1:_pasos_;b_EA=1;PASOS[0,12]=1;PASOS[0,13]=1;(_indexOf_(str,&squot;HCOLS&squot;)>=0)?getTheText(extract(str,&squot;PASOS&squot;)):_StrToMatrix_(str,&squot;PASOS&squot;);the_title= the_title0;ReplaceInPASOS(&squot;\ln&squot;,&squot;\n&squot;);prepareHIDDENOBJs();prepareHIDDENCOLs();maxNOG=NOG;paso=0;NOGP=getPasoNOG(paso);goToStep(paso);view_mode=(onlyViewer)?vm_view:view_mode;updateViewMode();view_mode_ant=-1;safe=1;;;' tipo='función' 
id='Leer_URL(url)' algoritmo='sí' expresión='1' local='ispg3' hacer='the_Content=_Load_(url);ispg3=(_indexOf_(the_Content,&squot;<APP>&squot;)>=0);url=(!ispg3)?url+&squot;.pg3&squot;:url;the_Content=(!ispg3)?_Load_(url):the_Content;ispg3=(_indexOf_(the_Content,&squot;<APP>&squot;)>=0);url=(!ispg3)?url+&squot;.txt&squot;:url;the_Content=(!ispg3)?_Load_(url):the_Content;ispg3=(_indexOf_(the_Content,&squot;<APP>&squot;)>=0);(ispg3)?Leer_setAppStr(the_Content):inicio();_file_name_=&squot;sin_nombre.pg3&squot;;;;;' tipo='función' 
id='callback_openFile()' algoritmo='sí' expresión='1' hacer='the_Content=DJS.fileContent;_file_name_=DJS.fileName;the_title=the_file_name=_substring_(_file_name_,_indexOf_(_file_name_,&squot;.&squot;));((the_Content!=&squot;&squot;)&(_indexOf_(the_Content,&squot;<APP>&squot;)>=0))?Leer_setAppStr(the_Content):inicio();_file_name_=(the_Content==&squot;&squot;)?&squot;sin_nombre.pg3&squot;:_file_name_;openingfile=0;;;;;' tipo='función' 
</script>

<script type="descartes/library" id="biblioteca/ProGeo3D_cnstr.txt">
id='cleanNOG()' algoritmo='sí' expresión='1' local='k' inicio='k=0' hacer='OBGRA[NOG,k]=0;k=k+1' mientras='k<OBGRA.filas' tipo='función' 
id='newP(name,subix,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=point;OBGRA[NOG,_name]=name;OBGRA[NOG,_subix]=subix;OBGRA[NOG,_x]=0;OBGRA[NOG,_y]=0;OBGRA[NOG,_z]=0;OBGRA[NOG,_w]=1;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_func]=&squot;&squot;;OBGRA[NOG,_constr]=&squot;P_&squot;+NOG+&squot;:=newP(\u0027&squot;+name+&squot;\u0027,\u0027&squot;+subix+&squot;\u0027,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=recta;NOG=NOG+1;' tipo='función' info='newP, crea puntos' 
id='newL()' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=segment;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_isLine]=1;OBGRA[NOG,_cnstool_]=recta;OBGRA[NOG,_is2P]=1;NOG=NOG+1' tipo='función' 
id='newLine2D(n0,n1,c,w,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=segment;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_1]=n0;OBGRA[NOG,_2]=n1;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_isLine]=1;OBGRA[NOG,_cnstool_]=recta;OBGRA[NOG,_is2P]=1;OBGRA[NOG,_func]=&squot;calcLine(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;L_&squot;+NOG+&squot;:=newLine2D(P_&squot;+n0+&squot;,P_&squot;+n1+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;NOG=NOG+1' tipo='función' 
id='newIntersection(mx,my,Obj1,Obj2,s)' algoritmo='sí' expresión='n' local='n,isL1,isL2,isC1,isC2,isEq1,isEq2,isT1,isT2,laEne' inicio='n=-1' hacer='isL1=(OBGRA[Obj1,_type]==segment);isL2=(OBGRA[Obj2,_type]==segment);;n=((n<0)&isL1&isL2&coplanarLL(Obj1,Obj2))?newMeetLL2D(&squot;&squot;,&squot;&squot;,Obj1,Obj2,s):n;;isC1=(OBGRA[Obj1,_type]==circle);isC2=(OBGRA[Obj2,_type]==circle);n=(show_E2&(n<0)&isC1&isC2&(Obj1<Obj2))?newMeetCC2D(mx,my,Obj1,Obj2,s):n;n=(show_E2&(n<0)&isC1&isC2&(Obj2<Obj1))?newMeetCC2D(mx,my,Obj2,Obj1,s):n;;isEq1=isC1|(OBGRA[Obj1,_type]==conic5pts)|((OBGRA[Obj1,_type]==curve)&(OBGRA[Obj1,_Eq_]!=&squot;&squot;))|(OBGRA[Obj1,_type]==cubic9pts);isEq2=isC2|(OBGRA[Obj2,_type]==conic5pts)|((OBGRA[Obj2,_type]==curve)&(OBGRA[Obj2,_Eq_]!=&squot;&squot;))|(OBGRA[Obj2,_type]==cubic9pts);;n=((n<0)&isL1&isEq2)?newMeetLEq(mx,my,Obj1,Obj2,&squot;&squot;,-1,s):n;n=((n<0)&isEq1&isL2)?newMeetLEq(mx,my,Obj2,Obj1,&squot;&squot;,-1,s):n;n=(show_E2&(n<0)&isEq1&isEq2)?newMeetEqEq(mx,my,Obj1,Obj2):n;;isT1=((OBGRA[Obj1,_type]==triangle)|(OBGRA[Obj1,_type]==plane));isT2=((OBGRA[Obj2,_type]==triangle)|(OBGRA[Obj2,_type]==plane));;n=((n<0)&isT2&isL1)?newMeetLT(&squot;&squot;,&squot;&squot;,Obj1,Obj2,s):n;n=((n<0)&isT1&isL2)?newMeetLT(&squot;&squot;,&squot;&squot;,Obj2,Obj1,s):n;n=((n<0)&isT1&isT2)?newMeetTT(&squot;&squot;,&squot;&squot;,Obj1,Obj2,s):n;n=((n<0)&isC1&isT2)?newMeetCT(Obj1,Obj2,s):n;n=((n<0)&isT1&isC2)?newMeetCT(Obj2,Obj1,s):n;n=(show_E3&isC1&isC2)?newMeetCC(Obj1,Obj2,s):n;OBGRA[n,_cnstool_]=intersection;' tipo='función' 
id='newMeetLL2D(name,subix,E,F,s)' algoritmo='sí' expresión='p' local='p' hacer='p=newP(name,subix,s);OBGRA[p,_p1]=E;OBGRA[p,_p2]=F;OBGRA[p,_func]=&squot;calcMeetLL(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;P_&squot;+p+&squot;:=newMeetLL2D(\u0027&squot;+name+&squot;\u0027,\u0027&squot;+subix+&squot;\u0027,L_&squot;+E+&squot;,L_&squot;+F+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=intersection' tipo='función' 
id='newPerpLL(L1,L2)' algoritmo='sí' expresión='NOG-1' local='p' hacer='cleanNOG();OBGRA[NOG,_type]=segment;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_isLine]=1;OBGRA[NOG,_p1]=L1;OBGRA[NOG,_p2]=L2;OBGRA[NOG,_func]=&squot;calcPerpLL(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;L_&squot;+NOG+&squot;:=newPerpLL(L_&squot;+L1+&squot;,L_&squot;+L2+&squot;)&squot;;OBGRA[NOG,_cnstool_]=perpendicular;NOG=NOG+1' tipo='función' 
id='newS(n0,n1,c,w,s)' algoritmo='sí' expresión='NOG-1' local='p1,p2' hacer='cleanNOG() ;OBGRA[NOG,_type]=segment;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_1]=n0;OBGRA[NOG,_2]=n1;OBGRA[NOG,_vsL]=-1;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_isLine]=0;OBGRA[NOG,_cnstool_]=segmento;OBGRA[NOG,_is2P]=1;OBGRA[NOG,_func]=&squot;calcLine(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;L_&squot;+NOG+&squot;:=newS(P_&squot;+n0+&squot;,P_&squot;+n1+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;NOG=NOG+1;' tipo='función' 
id='newSvsL(n0,n1,L,c,w,s)' algoritmo='sí' expresión='p' local='p,p1,p2' hacer='p=newS(n0,n1,c,w,s);OBGRA[p,_vsL]=L;prefix=(OBGRA[L,_type]==segment)?&squot;L&squot;:&squot;T&squot;;OBGRA[p,_constr]=&squot;L_&squot;+p+&squot;:=newSvsL(P_&squot;+n0+&squot;,P_&squot;+n1+&squot;,&squot;+prefix+&squot;_&squot;+L+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;' tipo='función' 
id='newCircle2D(c,rstr,col,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=circle;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_p2]=-1;OBGRA[NOG,_centro]=c;OBGRA[NOG,_radio]=rstr;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_func]=&squot;calcCircle2D(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_is2D]=1;OBGRA[NOG,_constr]=&squot;C_&squot;+NOG+&squot;:=newCircle2D(P_&squot;+c+&squot;,OBGRA[p,_r],&squot;+COL[color,_colname]+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=circuloRC;NOG=NOG+1;' tipo='función' 
id='newCircleCP2D(p1,p2,c,w,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=circle;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_centro]=p1;OBGRA[NOG,_p2]=p2;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_func]=&squot;calcCircleCP2D(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_is2D]=1;OBGRA[NOG,_constr]=&squot;C_&squot;+NOG+&squot;:=newCircleCP2D(P_&squot;+p1+&squot;,P_&squot;+p2+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=circuloRC;NOG=NOG+1;' tipo='función' 
id='newCircleSC2D(p1,p2,c,w,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=circle;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_centro]=p2;OBGRA[NOG,_p2]=p1;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_func]=&squot;calcCircleSC2D(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_is2D]=1;OBGRA[NOG,_constr]=&squot;C_&squot;+NOG+&squot;:=newCircleSC2D(L_&squot;+p1+&squot;,P_&squot;+p2+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=circuloRC;NOG=NOG+1' tipo='función' 
id='newMeetLEq(mx,my,L,Eq,side,P,s)' algoritmo='sí' expresión='p' local='p' hacer='p=newP(&squot;&squot;,&squot;&squot;,&squot;&squot;);set_Point(p,mx,my,0);OBGRA[p,_p1]=L;OBGRA[p,_p2]=Eq;OBGRA[p,_side]=side;OBGRA[p,_otherP]=P;calcMeetLEq(p);OBGRA[p,_func]=&squot;calcMeetLEq(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;P_&squot;+p+&squot;:=newMeetLEq(\u0027&squot;+OBGRA[p,_name]+&squot;\u0027,\u0027&squot;+OBGRA[p,_subix]+&squot;\u0027,L_&squot;+L+&squot;,C_&squot;+Eq+&squot;,&squot;+OBGRA[p,_side]+&squot;,&squot;+OBGRA[p,_otherP]+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=intersection' tipo='función' 
id='newMeetLC2D(mx,my,L,C,s)' algoritmo='no' expresión='newMeetLEq(mx,my,L,C,&squot;&squot;,-1,&squot;&squot;)' tipo='función' 
id='newMeetEqEq(mx,my,C1,C2)' algoritmo='sí' expresión='p' local='p' hacer='p=newP(&squot;&squot;,&squot;&squot;,&squot;&squot;);set_Point(p,mx,my,0);OBGRA[p,_p1]=C1;OBGRA[p,_p2]=C2;OBGRA[p,_func]=&squot;calcMeetEqEq(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;P_&squot;+p+&squot;:=newMeetEqEq(&squot;+X2(p)+&squot;,&squot;+Y2(p)+&squot;,C_&squot;+C1+&squot;,C_&squot;+C2+&squot;)&squot;;OBGRA[p,_cnstool_]=intersection' tipo='función' 
id='newHarmonicReflection(Ob1,Ob2,Ob3,s)' algoritmo='sí' expresión='NOG-1' local='prefix,change' hacer='cleanNOG();OBGRA[NOG,_type]=(OBGRA[Ob1,_type]==segment)?segment:point;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_p1]=Ob1;change=(OBGRA[Ob2,_type]!=point)&(OBGRA[Ob2,_type]!=control);OBGRA[NOG,_p2]=(change)?Ob3:Ob2;OBGRA[NOG,_p3]=(change)?Ob2:Ob3;OBGRA[NOG,_func]=(OBGRA[NOG,_type]==point)?&squot;calcPointReflexion(&squot;+NOG+&squot;)&squot;:OBGRA[NOG,_func];OBGRA[NOG,_func]=(OBGRA[NOG,_type]==segment)?&squot;calcLineReflexion(&squot;+NOG+&squot;)&squot;:OBGRA[NOG,_func];OBGRA[NOG,_constr]=&squot;_&squot;+NOG+&squot;:=newHarmonicReflection(&squot;+OBGRA[NOG,_p1]+&squot;,&squot;+OBGRA[NOG,_p2]+&squot;,&squot;+OBGRA[NOG,_p3]+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_constr]=(OBGRA[NOG,_type]==segment)?&squot;L&squot;+OBGRA[NOG,_constr]:&squot;P&squot;+OBGRA[NOG,_constr];OBGRA[NOG,_cnstool_]=inversion;NOG=NOG+1' tipo='función' 
id='newReflection(LoT,P)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=point;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_p1]=LoT;OBGRA[NOG,_p2]=P;OBGRA[NOG,_func]=&squot;calcReflection(&squot;+NOG+&squot;)&squot;;prefix=(OBGRA[LoT,_type]==segment)?&squot;L_&squot;:&squot;T_&squot;;OBGRA[NOG,_constr]=&squot;P_&squot;+NOG+&squot;:=newReflection(&squot;+prefix+LoT+&squot;,P_&squot;+P+&squot;)&squot;;OBGRA[NOG,_cnstool_]=inversion;NOG=NOG+1' tipo='función' 
id='newCnstrGCtrl3D(id,subix,x,y,z,constriction,c,w,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=control;OBGRA[NOG,_name]=id;OBGRA[NOG,_subix]=subix;set_Point(NOG,x,y,z);OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_prprtn]=&squot;&squot;;OBGRA[NOG,_dirx]=&squot;&squot;;OBGRA[NOG,_diry]=&squot;&squot;;OBGRA[NOG,_dirz]=&squot;&squot;;OBGRA[NOG,_cnstr]=constriction;OBGRA[NOG,_func]=(constriction!=&squot;&squot;)?&squot;calcCnstrGCtrl(&squot;+NOG+&squot;)&squot;:&squot;calcFreeCtrl(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_invalid]=0;OBGRA[NOG,_invisible]=0;OBGRA[NOG,_cnstool_]=recta;NOG=NOG+1;' tipo='función' 
id='newCnstrGCtrl(id,subix,x,y,constriction,c,w,s)' algoritmo='no' expresión='newCnstrGCtrl3D(id,subix,x,y,0,constriction,c,w,s)' tipo='función' 
id='newGCtrl(id,subix,x,y,c,w,s)' algoritmo='no' expresión='newCnstrGCtrl3D(id,subix,x,y,0,&squot;&squot;,c,w,s)' hacer=';;' tipo='función' 
id='newInversePoint(name,subix,P,CoS,s)' algoritmo='sí' expresión='NOG-1' local='prefix' hacer='cleanNOG();OBGRA[NOG,_type]=point;OBGRA[NOG,_name]=name;OBGRA[NOG,_subix]=subix;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_p1]=P;OBGRA[NOG,_p2]=CoS;OBGRA[NOG,_func]=&squot;calcInversePoint(&squot;+NOG+&squot;)&squot;;prefix=(OBGRA[CoS,_type]==circle)?&squot;C&squot;:&squot;L&squot;;OBGRA[NOG,_constr]=&squot;P_&squot;+NOG+&squot;:=newInversePoint(\u0027&squot;+name+&squot;\u0027,\u0027&squot;+subix+&squot;\u0027,P_&squot;+P+&squot;,&squot;+prefix+&squot;_&squot;+CoS+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=inversion;NOG=NOG+1' tipo='función' 
id='newAuxCtrl(mx,my,cnstrctn)' algoritmo='sí' expresión='n' local='n,Obj1,Obj2,Eq1,pxthr0,paralelas' inicio='Obj1=-1;Obj2=-1' hacer='pxthr0=pxthr;pxthr=pxthr0/2;selLorC(mx,my);pxthr=pxthr0;Obj1=(_distLC0_<=_distLC1_)?_selLoC0_:Obj1;Obj1=(_distLC0_>_distLC1_)?_selLoC1_:Obj1;Obj2=(_distLC0_<=_distLC1_)?_selLoC1_:Obj2;Obj2=(_distLC0_>_distLC1_)?_selLoC0_:Obj2;Obj1=((Obj1<0)&show_E2)?selEq(mx,my):Obj1;Obj2=((Obj2<0)&show_E2)?selEq(mx,my):Obj2;;paralelas=(OBGRA[Obj1,_type]==segment)&(OBGRA[Obj2,_type]==segment)&almostParalell(Obj1,Obj2);;n=((Obj1>=0)&(Obj2>=0)&(Obj1!=Obj2)&(!paralelas))?newIntersection(mx,my,Obj1,Obj2,desdeAquí):-1;Obj1=((n<0)&show_E3)?selE3OB(mx,my):Obj1;n=((n<0)&(status!=intersection)&(Obj1>=0)&((Obj2<0)|(Obj2==Obj1)|paralelas))?newCnstrGCtrl(&squot;&squot;,&squot;&squot;,mx,my,Obj1,color,ancho,desdeAquí):n;n=((n<0)&_allowFreePoints_)?newCnstrGCtrl(&squot;&squot;,&squot;&squot;,mx,my,&squot;&squot;,color,ancho,desdeAquí):n;(n>=0)?_Eval_(OBGRA[n,_func]):&squot;&squot;;' tipo='función' 
id='newFirstMeetCC2D(name,subix,C1,C2,s)' algoritmo='sí' expresión='p' hacer='p=newP(name,subix,s);OBGRA[p,_p1]=C1;OBGRA[p,_p2]=C2;OBGRA[p,_p9]=0 //para el signo de q;OBGRA[p,_func]=&squot;calcFirstMeetCC2D(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;P_&squot;+p+&squot;:=newFirstMeetCC2D(\u0027&squot;+name+&squot;\u0027,\u0027&squot;+subix+&squot;\u0027,C_&squot;+C1+&squot;,C_&squot;+C2+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=intersection;' tipo='función' 
id='newSecondMeetCC2D(name,subix,C1,C2,s)' algoritmo='sí' expresión='p' hacer='p=newP(name,subix,s);OBGRA[p,_p1]=C1;OBGRA[p,_p2]=C2;OBGRA[p,_p9]=0 //para el signo de q;OBGRA[p,_func]=&squot;calcSecondMeetCC2D(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;P_&squot;+p+&squot;:=newSecondMeetCC2D(\u0027&squot;+name+&squot;\u0027,\u0027&squot;+subix+&squot;\u0027,C_&squot;+C1+&squot;,C_&squot;+C2+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=intersection;' tipo='función' 
id='newOtherMeetCC2D(name,subix,C1,C2,pnt,s)' algoritmo='sí' expresión='p' hacer='p=newP(name,subix,s);OBGRA[p,_p1]=C1;OBGRA[p,_p2]=C2;OBGRA[p,_p3]=pnt;OBGRA[p,_func]=&squot;calcOtherMeetCC2D(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;P_&squot;+p+&squot;:=newOtherMeetCC2D(\u0027&squot;+name+&squot;\u0027,\u0027&squot;+subix+&squot;\u0027,C_&squot;+C1+&squot;,C_&squot;+C2+&squot;,P_&squot;+pnt+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=intersection;;' tipo='función' 
id='findOtherMeet(xm,ym,xp,yp)' algoritmo='sí' expresión='p' local='p,n' inicio='p=-1;n=0' hacer='p=(((OBGRA[n,_type]==point)|(OBGRA[n,_type]==control))&((sqrt((xm-X2(n))^2+(ym-Y2(n))^2)<=0.001)|(sqrt((xp-X2(n))^2+(yp-Y2(n))^2)<=0.001)))?n:p;n=n+1' mientras='(p<0)&(n<NOG)' tipo='función' 
id='newMeetCC2D(mx,my,C1,C2,s)' algoritmo='sí' expresión='p' local='r1,r2,O1,O2,d,q,ux,uy,u,v2,v,vx,vy,xm,ym,xp,yp,dm,dp,p' hacer='r1=OBGRA[C1,_r];O1=OBGRA[C1,_centro];r2=OBGRA[C2,_r];O2=OBGRA[C2,_centro];d=dist2D(O1,O2);q=(d^2+r1^2-r2^2)/(2*d^2);ux=q*(X2(O2)-X2(O1));uy=q*(Y2(O2)-Y2(O1));u=sqrt(ux^2+uy^2);v2=r1^2-ux^2-uy^2;v=sqrt(v2);vx=-v*uy/u;vy= v*ux/u;xm=X2(O1)+ux-vx;ym=Y2(O1)+uy-vy;xp=X2(O1)+ux+vx;yp=Y2(O1)+uy+vy;dm=sqrt((xm-mx)^2+(ym-my)^2);dp=sqrt((xp-mx)^2+(yp-my)^2);p=findOtherMeet(xm,ym,xp,yp);p=(p>=0)?newOtherMeetCC2D(&squot;&squot;,&squot;&squot;,C1,C2,p,show):p;p=((p<0)&(v2>=0)&(dm<=dp))?newFirstMeetCC2D(&squot;&squot;,&squot;&squot;,C1,C2,show):p;p=((p<0)&(v2>=0)&(dm>dp))?newSecondMeetCC2D(&squot;&squot;,&squot;&squot;,C1,C2,show):p;;' tipo='función' 
id='newMidPoint(name,subix,A,B,s)' algoritmo='sí' expresión='p' hacer='p=newP(name,subix,s);OBGRA[p,_p1]=A;OBGRA[p,_p2]=B;OBGRA[p,_func]=&squot;calcMidPoint(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;P_&squot;+p+&squot;:=newMidPoint(\u0027&squot;+name+&squot;\u0027,\u0027&squot;+subix+&squot;\u0027,P_&squot;+A+&squot;,P_&squot;+B+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=puntoMedio;' tipo='función' 
id='newT(A,B,C,c,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=triangle;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_p1]=A;OBGRA[NOG,_p2]=B;OBGRA[NOG,_p3]=C;OBGRA[NOG,_vsP]=-1;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_func]=&squot;calcT(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;T_&squot;+NOG+&squot;:=newT(P_&squot;+A+&squot;,P_&squot;+B+&squot;,P_&squot;+C+&squot;,&squot;+COL[color,_colname]+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=plano;NOG=NOG+1;' tipo='función' info='newT, crea triángulos' 
id='newTvsP(A,B,C,P,c,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=triangle;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_p1]=A;OBGRA[NOG,_p2]=B;OBGRA[NOG,_p3]=C;OBGRA[NOG,_vsP]=P;OBGRA[NOG,_p5]=num_polys;num_polys=num_polys+2;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_func]=&squot;calcTvsP(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;T_&squot;+NOG+&squot;:=newTvsP(P_&squot;+A+&squot;,P_&squot;+B+&squot;,P_&squot;+C+&squot;,T_&squot;+P+&squot;,&squot;+COL[color,_colname]+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=plano;NOG=NOG+1;' tipo='función' info='newT, crea triángulos' 
id='newTvsL(A,B,C,L,c,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=triangle;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_p1]=A;OBGRA[NOG,_p2]=B;OBGRA[NOG,_p3]=C;OBGRA[NOG,_p4]=L;OBGRA[NOG,_p5]=num_polys;num_polys=num_polys+2;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_func]=&squot;calcTvsL(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;T_&squot;+NOG+&squot;:=newTvsL(P_&squot;+A+&squot;,P_&squot;+B+&squot;,P_&squot;+C+&squot;,L_&squot;+L+&squot;,&squot;+COL[color,_colname]+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=plano;NOG=NOG+1;' tipo='función' info='newT, crea triángulos' 
id='newMeetTT(name,subix,T1,T2,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=segment;OBGRA[NOG,_name]=name;OBGRA[NOG,_subix]=subix;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_isLine]=1;OBGRA[NOG,_p1]=T1;OBGRA[NOG,_p2]=T2;OBGRA[NOG,_is2P]=0;OBGRA[NOG,_func]=&squot;calcMeetTT(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;L_&squot;+NOG+&squot;:=newMeetTT(\u0027&squot;+name+&squot;\u0027,\u0027&squot;+subix+&squot;\u0027,T_&squot;+T1+&squot;,T_&squot;+T2+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=intersection;NOG=NOG+1;' tipo='función' 
id='newCurve(p1,p2,s)' algoritmo='sí' expresión='NOG-1' local='prefix' inicio='NOGP=NOG;countCurvasYReglados()' hacer='cleanNOG();OBGRA[NOG,_type]=curve;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_p1]=p1;OBGRA[NOG,_p2]=p2;OBGRA[NOG,_es_reglado_]=(OBGRA[p1,_type]==segment);OBGRA[NOG,_p3]=(OBGRA[NOG,_es_reglado_])?num_reglados:num_curvas;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_func]=&squot;calcCurve(&squot;+NOG+&squot;)&squot;;prefix=(OBGRA[NOG,_es_reglado_])?&squot;L&squot;:&squot;P&squot;;OBGRA[NOG,_constr]=&squot;C_&squot;+NOG+&squot;:=newCurve(&squot;+prefix+&squot;_&squot;+p1+&squot;,P_&squot;+p2+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=curva;NOG=NOG+1;' tipo='función' 
id='newMeetCT(C,T)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=circ3D;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_p1]=C;OBGRA[NOG,_p2]=T;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_func]=&squot;calcMeetCT(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;C_&squot;+NOG+&squot;:=newMeetCT(C_&squot;+C+&squot;,T_&squot;+T+&squot;)&squot;;OBGRA[NOG,_cnstool_]=intersection;NOG=NOG+1;' tipo='función' 
id='newMeetCC(C1,C2)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=circ3D;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_p1]=C1;OBGRA[NOG,_p2]=C2;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_func]=&squot;calcMeetCC(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;C_&squot;+NOG+&squot;:=newMeetCC(C_&squot;+C1+&squot;,C_&squot;+C2+&squot;)&squot;;OBGRA[NOG,_cnstool_]=intersection;NOG=NOG+1;' tipo='función' 
id='newMeetLT(name,subix,L,T,s)' algoritmo='sí' expresión='p' local='p' hacer='p=newP(name,subix,s);OBGRA[p,_p1]=L;OBGRA[p,_p2]=T;OBGRA[p,_col]=color;OBGRA[p,_wdth]=ancho;OBGRA[p,_func]=&squot;calcMeetLT(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;P_&squot;+p+&squot;:=newMeetLT(\u0027&squot;+name+&squot;\u0027,\u0027&squot;+subix+&squot;\u0027,L_&squot;+L+&squot;,T_&squot;+T+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=intersection;' tipo='función' 
id='newFootLP(L,A)' algoritmo='sí' expresión='p' hacer='p=newP(&squot;&squot;,&squot;&squot;,&squot;&squot;);OBGRA[p,_p1]=L;OBGRA[p,_p2]=A;OBGRA[p,_func]=&squot;calcFoot(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;P_&squot;+p+&squot;:=newFootLP(L_&squot;+L+&squot;,P_&squot;+A+&squot;)&squot;;OBGRA[p,_cnstool_]=pie;' tipo='función' 
id='newFootTP(T,A)' algoritmo='sí' expresión='p' hacer='p=newP(&squot;&squot;,&squot;&squot;,&squot;&squot;);OBGRA[p,_p1]=T;OBGRA[p,_p2]=A;OBGRA[p,_func]=&squot;calcFoot(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;P_&squot;+p+&squot;:=newFootTP(T_&squot;+T+&squot;,P_&squot;+A+&squot;)&squot;;OBGRA[p,_cnstool_]=pie;' tipo='función' 
id='newParal2D(ele,pe,c,w,s)' algoritmo='sí' expresión='p' local='p' hacer='p=newLine2D(-1,-1,c,w,s);OBGRA[p,_p1]=ele;OBGRA[p,_p2]=pe;OBGRA[p,_is2P]=0;OBGRA[p,_func]=&squot;calcParal(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;L_&squot;+p+&squot;:=newParal2D(L_&squot;+ele+&squot;,P_&squot;+pe+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=paralela;' tipo='función' 
id='newPerp2D(ele,pe,c,w,s)' algoritmo='sí' expresión='p' local='p' hacer='p=newLine2D(-1,-1,c,w,s);OBGRA[p,_p1]=ele;OBGRA[p,_p2]=pe;OBGRA[p,_is2P]=0;OBGRA[p,_func]=&squot;calcPerp2D(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;L_&squot;+p+&squot;:=newPerp2D(L_&squot;+ele+&squot;,P_&squot;+pe+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=perpendicular;' tipo='función' 
id='newPerp3D(LoT,pe,c,w,s)' algoritmo='sí' expresión='p' local='p,prefix' hacer='p=newLine2D(-1,-1,c,w,s);OBGRA[p,_p1]=LoT;OBGRA[p,_p2]=pe;OBGRA[p,_is2P]=0;OBGRA[p,_func]=(OBGRA[LoT,_type]==segment)?&squot;calcPerp3D_toL(&squot;+p+&squot;)&squot;:&squot;calcPerp3D_toT(&squot;+p+&squot;)&squot;;prefix=(OBGRA[LoT,_type]==segment)?&squot;L_&squot;:&squot;T_&squot;;OBGRA[p,_constr]=&squot;L_&squot;+p+&squot;:=newPerp3D(&squot;+prefix+LoT+&squot;,P_&squot;+pe+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=perpendicular;' tipo='función' 
id='newMediatrix2D(p1,p2,c,w,s)' algoritmo='sí' expresión='ele' local='ele' hacer='ele=newLine2D(p1,p2,c,w,s);OBGRA[ele,_is2P]=0;OBGRA[ele,_func]=&squot;calcMediatrix2D(&squot;+ele+&squot;)&squot;;OBGRA[ele,_constr]=&squot;L_&squot;+ele+&squot;:=newMediatrix2D(P_&squot;+p1+&squot;,P_&squot;+p2+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;OBGRA[ele,_cnstool_]=mediatriz;' tipo='función' 
id='newAng(name,subix,p1,p2,p3,c,s)' algoritmo='sí' expresión='NOG-1' hacer='p=newP(name,subix,show);OBGRA[p,_p1]=p1;OBGRA[p,_p2]=p2;OBGRA[p,_p3]=p3;OBGRA[p,_type]=angle;OBGRA[p,_func]=&squot;calcAng3P(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;A_&squot;+p+&squot;:=newAng(\u0027&squot;+name+&squot;\u0027,\u0027&squot;+subix+&squot;\u0027,P_&squot;+p1+&squot;,P_&squot;+p2+&squot;,P_&squot;+p3+&squot;,&squot;+COL[color,_colname]+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=angulo' tipo='función' 
id='calcAngleWhich()' algoritmo='sí' expresión='which' local='which,x0,y0,z0,u1x,u1y,u1z,u2x,u2y,u2z,U1x,U1y,U2x,U2y,dot1,dot2' hacer='meetLL(l1,l2);x0=_PX_/_PW_;y0=_PY_/_PW_;z0=_PZ_/_PW_;u1x=OBGRA[l1,_L_ux];u1y=OBGRA[l1,_L_uy];u1z=OBGRA[l1,_L_uz];u2x=OBGRA[l2,_L_ux];u2y=OBGRA[l2,_L_uy];u2z=OBGRA[l2,_L_uz];;X0=(show_E3)?X32(x0,y0,z0):x0;Y0=(show_E3)?Y32(x0,y0,z0):y0;U1x=(show_E3)?X32(u1x,u1y,u1z):u1x;U1y=(show_E3)?Y32(u1x,u1y,u1z):u1y;U2x=(show_E3)?X32(u2x,u2y,u2z):u2x;U2y=(show_E3)?Y32(u2x,u2y,u2z):u2y;;dot1=(U1x*(X2(E2.MD)-X0)+U1y*(Y2(E2.MD)-Y0));dot2=(U2x*(mx-X0)+U2y*(my-Y0));;which=((dot1>=0)&(dot2>=0))?0:which;which=((dot1< 0)&(dot2>=0))?1:which;which=((dot1< 0)&(dot2< 0))?2:which;which=((dot1>=0)&(dot2< 0))?3:which;' tipo='función' 
id='newAngle(l1,l2,which)' algoritmo='sí' expresión='p' local='p,calcIt' hacer='p=newP(&squot;&squot;,&squot;&squot;,&squot;&squot;);OBGRA[p,_p1]=l1;OBGRA[p,_p2]=l2;OBGRA[p,_type]=angle;which=(which==&squot;&squot;)?calcAngleWhich():which;OBGRA[p,_which]=which;OBGRA[p,_func]=&squot;calcAngLL(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;A_&squot;+p+&squot;:=newAngle(L_&squot;+l1+&squot;,L_&squot;+l2+&squot;,&squot;+which+&squot;)&squot;;OBGRA[p,_cnstool_]=angulo;' tipo='función' 
id='newBisector2D(p1,p2,p3,c,w,s)' algoritmo='sí' expresión='p' local='p' hacer='p=newLine2D(-1,-1,c,w,s);OBGRA[p,_p1]=p1;OBGRA[p,_p2]=p2;OBGRA[p,_p3]=p3;OBGRA[p,_is2P]=0;OBGRA[p,_func]=&squot;calcBisector2D(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;L_&squot;+p+&squot;:=newBisector2D(P_&squot;+p1+&squot;,P_&squot;+p2+&squot;,P_&squot;+p3+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=bisectriz;' tipo='función' 
id='newBisector(l1,l2,which)' algoritmo='sí' expresión='p' local='p,calcIt,cross' hacer='p=newLine2D(-1,-1,color,ancho,&squot;&squot;);OBGRA[p,_p1]=l1;OBGRA[p,_p2]=l2;OBGRA[p,_is2P]=0;OBGRA[p,_func]=&squot;calcBisector(&squot;+p+&squot;)&squot;;which=(which==&squot;&squot;)?1-2*(calcAngleWhich()%2):which;OBGRA[p,_which]=which;OBGRA[p,_constr]=&squot;L_&squot;+p+&squot;:=newBisector(L_&squot;+l1+&squot;,L_&squot;+l2+&squot;,&squot;+which+&squot;)&squot;;OBGRA[p,_cnstool_]=bisectriz;' tipo='función' 
id='newInverseCircle(O,C,c,w,s)' algoritmo='sí' expresión='NOG-1' local='c' hacer='cleanNOG();OBGRA[NOG,_type]=circle;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_radio]=&squot;1&squot;;OBGRA[_buffer_,_type]=point;OBGRA[_buffer_,_show]=nunca;OBGRA[NOG,_centro]=_buffer_;_buffer_=_buffer_+1;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_is2D]=1;OBGRA[NOG,_p1]=O;OBGRA[NOG,_p2]=C;OBGRA[NOG,_func]=&squot;calcInverseCircle(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;C_&squot;+NOG+&squot;:=newInverseCircle(C_&squot;+O+&squot;,C_&squot;+C+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=inversion;NOG=NOG+1' tipo='función' 
id='newInverseLine(L,C,c,a,s)' algoritmo='sí' expresión='NOG' local='c' hacer='cleanNOG();OBGRA[NOG,_type]=circle;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_radio]=&squot;1&squot;;OBGRA[_buffer_,_type]=point;OBGRA[_buffer_,_show]=nunca;OBGRA[NOG,_centro]=_buffer_;_buffer_=_buffer_+1;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_is2D]=1;OBGRA[NOG,_p1]=C;OBGRA[NOG,_p2]=L;OBGRA[NOG,_func]=&squot;calcInverseLine(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;C_&squot;+NOG+&squot;:=newInverseLine(L_&squot;+L+&squot;,C_&squot;+C+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=inversion;NOG=NOG+1' tipo='función' 
id='newInversePlane(T,C,c,a,s)' algoritmo='sí' expresión='NOG' local='c' hacer='cleanNOG();OBGRA[NOG,_type]=circle;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_radio]=&squot;1&squot;;OBGRA[_buffer_,_type]=point;OBGRA[_buffer_,_show]=nunca;OBGRA[NOG,_centro]=_buffer_;_buffer_=_buffer_+1;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_is2D]=1;OBGRA[NOG,_p1]=C;OBGRA[NOG,_p2]=T;OBGRA[NOG,_func]=&squot;calcInversePlane(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;C_&squot;+NOG+&squot;:=newInversePlane(T_&squot;+T+&squot;,C_&squot;+C+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=inversion;NOG=NOG+1' tipo='función' 
id='newRadicalAxis(C1,C2,c,w,s)' algoritmo='sí' expresión='p' local='p' hacer='p=newLine2D(-1,-1,c,w,s);OBGRA[p,_p1]=C1;OBGRA[p,_p2]=C2;OBGRA[p,_is2P]=0;OBGRA[p,_func]=&squot;calcRadicalAxis(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;L_&squot;+p+&squot;:=newRadicalAxis(C_&squot;+C1+&squot;,C_&squot;+C2+&squot;,&squot;+COL[color,_colname]+&squot;,&squot;+ancho+&squot;,\u0027\u0027)&squot;;OBGRA[p,_cnstool_]=eje_radical;' tipo='función' 
id='newConic5Pts(p1,p2,p3,p4,p5,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG() ;OBGRA[NOG,_type]=conic5pts;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_p1]=p1;OBGRA[NOG,_p2]=p2;OBGRA[NOG,_p3]=p3;OBGRA[NOG,_p4]=p4;OBGRA[NOG,_p5]=p5;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_func]=&squot;calcConic5Pts(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;C_&squot;+NOG+&squot;:=newConic5Pts(P_&squot;+p1+&squot;,P_&squot;+p2+&squot;,P_&squot;+p3+&squot;,P_&squot;+p4+&squot;,P_&squot;+p5+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=conica5;NOG=NOG+1;' tipo='función' 
id='newCubic9Pts(p1,p2,p3,p4,p5,p6,p7,p8,p9,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=cubic9pts;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_p1]=p1;OBGRA[NOG,_p2]=p2;OBGRA[NOG,_p3]=p3;OBGRA[NOG,_p4]=p4;OBGRA[NOG,_p5]=p5;OBGRA[NOG,_p6]=p6;OBGRA[NOG,_p7]=p7;OBGRA[NOG,_p8]=p8;OBGRA[NOG,_p9]=p9;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_func]=&squot;calcCubic9Pts(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;C_&squot;+NOG+&squot;:=newCubic9Pts(P_&squot;+p1+&squot;,P_&squot;+p2+&squot;,P_&squot;+p3+&squot;,P_&squot;+p4+&squot;,P_&squot;+p5+&squot;,P_&squot;+p6+&squot;,P_&squot;+p7+&squot;,P_&squot;+p8+&squot;,P_&squot;+p9+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=cubica9;NOG=NOG+1;' tipo='función' 
id='newPolarLine(P,Eq,s)' algoritmo='sí' expresión='NOG-1' hacer=';cleanNOG();OBGRA[NOG,_type]=segment;OBGRA[NOG,_isLine]=1;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_p1]=P;OBGRA[NOG,_p2]=Eq;OBGRA[NOG,_is2P]=0;OBGRA[NOG,_show]=show;OBGRA[NOG,_func]=&squot;calcPolarLine(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;L_&squot;+NOG+&squot;:=newPolarLine(P_&squot;+P+&squot;,C_&squot;+Eq+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=inversion;NOG=NOG+1;;;;;' tipo='función' 
id='newPole(L,Eq,s)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=point;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_p1]=L;OBGRA[NOG,_p2]=Eq;OBGRA[NOG,_show]=show;OBGRA[NOG,_func]=&squot;calcPole(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;P_&squot;+NOG+&squot;:=newPole(L_&squot;+L+&squot;,C_&squot;+Eq+&squot;,\u0027\u0027)&squot;;OBGRA[NOG,_cnstool_]=inversion;NOG=NOG+1;;;;' tipo='función' 
id='newCommonPole(x0,y0,Eq1,Eq2)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=point;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;set_Point(NOG,x0,y0,0);OBGRA[NOG,_p1]=Eq1;OBGRA[NOG,_p2]=Eq2;OBGRA[NOG,_show]=show;OBGRA[NOG,_func]=&squot;calcCommonPole(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;P_&squot;+NOG+&squot;:=newCommonPole(&squot;+x0+&squot;,&squot;+y0+&squot;,C_&squot;+Eq1+&squot;,C_&squot;+Eq2+&squot;)&squot;;OBGRA[NOG,_cnstool_]=inversion;NOG=NOG+1;' tipo='función' 
id='newPlane(p1,p2)' algoritmo='sí' expresión='NOG-1' hacer='cleanNOG();OBGRA[NOG,_type]=plane;OBGRA[NOG,_name]=&squot;&squot;;OBGRA[NOG,_subix]=&squot;&squot;;OBGRA[NOG,_Pt1]=p1;OBGRA[NOG,_Pt2]=p2;OBGRA[NOG,_col]=color;OBGRA[NOG,_wdth]=ancho;OBGRA[NOG,_show]=&squot;&squot;;OBGRA[NOG,_pa]=0;OBGRA[NOG,_pb]=0;OBGRA[NOG,_pc]=1;OBGRA[NOG,_pd]=1;OBGRA[NOG,_func]=&squot;calcPlane(&squot;+NOG+&squot;)&squot;;OBGRA[NOG,_constr]=&squot;T_&squot;+NOG+&squot;:=newPlane(&squot;+p1+&squot;,&squot;+p2+&squot;)&squot;;OBGRA[NOG,_cnstool_]=plano;NOG=NOG+1;' tipo='función' 
id='newPerpPlane(L,P)' algoritmo='sí' expresión='p' local='p' hacer='p=newPlane(L,P);OBGRA[p,_func]=&squot;calcPerpPlane(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;T_&squot;+p+&squot;:=newPerpPlane(L_&squot;+L+&squot;,P_&squot;+P+&squot;)&squot;;OBGRA[p,_cnstool_]=perpendicular;;' tipo='función' 
id='newParalPlane(T,P)' algoritmo='sí' expresión='p' local='p' hacer='p=newPlane(T,P);OBGRA[p,_func]=&squot;calcParalPlane(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;T_&squot;+p+&squot;:=newParalPlane(T_&squot;+T+&squot;,P_&squot;+P+&squot;)&squot;;OBGRA[p,_cnstool_]=paralela;' tipo='función' 
id='newMediatorPlane(p1,p2)' algoritmo='sí' expresión='p' local='p' hacer='p=newPlane(p1,p2);OBGRA[p,_func]=&squot;calcMediatorPlane(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;T_&squot;+p+&squot;:=newMediatorPlane(P_&squot;+p1+&squot;,P_&squot;+p2+&squot;)&squot;;OBGRA[p,_cnstool_]=mediatriz;' tipo='función' 
id='newRadicalPlane(p1,p2)' algoritmo='sí' expresión='p' local='p' hacer='p=newPlane(p1,p2);OBGRA[p,_func]=&squot;calcRadicalPlane(&squot;+p+&squot;)&squot;;OBGRA[p,_constr]=&squot;T_&squot;+p+&squot;:=newRadicalPlane(C_&squot;+p1+&squot;,C_&squot;+p2+&squot;)&squot;;OBGRA[p,_cnstool_]=eje_radical;' tipo='función' 
</script>

<script type="descartes/library" id="biblioteca/ProGeo3D_calc.txt">
id='concurrent(L0,L1,L2)' algoritmo='sí' expresión='conc' local='_PX_,_PY_,_PZ_,_PW_,px,py,pz,pw,conc' hacer='meetLL(L0,L1);px=_PX_;py=_PY_;pz=_PZ_;pw=_PW_;meetLL(L1,L2);conc=(abs((px*_PW_+py*_PW_+pz*_PW_)-(_PX_*pw+_PY_*pw+_PZ_*pw))<epsilon);' tipo='función' 
id='coplanarLL(L1,L2)' algoritmo='sí' expresión='(abs(D1+D2+D3)<epsilon)' local='D1,D2,D3' hacer='D1=OBGRA[L1,_Le41]*OBGRA[L2,_Le23]+OBGRA[L2,_Le41]*OBGRA[L1,_Le23];D2=OBGRA[L1,_Le42]*OBGRA[L2,_Le31]+OBGRA[L2,_Le42]*OBGRA[L1,_Le31];D3=OBGRA[L1,_Le43]*OBGRA[L2,_Le12]+OBGRA[L2,_Le43]*OBGRA[L1,_Le12];;' tipo='función' 
id='coplanarPPL(A,B,L)' algoritmo='sí' expresión='coplanarLL(auxL1,L)' hacer='OBGRA[auxL1,_1]=A;OBGRA[auxL1,_2]=B;calcLine(auxL1);;' tipo='función' 
id='coplanarPPPP(A,B,C,D)' algoritmo='sí' expresión='coplanarLL(auxL1,auxL2)' hacer='OBGRA[auxL1,_1]=A;OBGRA[auxL1,_2]=B;calcLine(auxL1);OBGRA[auxL2,_1]=C;OBGRA[auxL2,_2]=D;calcLine(auxL2);;' tipo='función' 
id='isInT(x,y,n)' algoritmo='sí' expresión='(((cp0>0)&(cp1>0)&(cp2>0))|((cp0<0)&(cp1<0)&(cp2<0)))' local='x0,y0,x1,y1,x2,y2,cp0,cp1,cp2' hacer='x0=(show_E2)?X2(OBGRA[n,_p1]):x32(OBGRA[n,_p1]);y0=(show_E2)?Y2(OBGRA[n,_p1]):y32(OBGRA[n,_p1]);x1=(show_E2)?X2(OBGRA[n,_p2]):x32(OBGRA[n,_p2]);y1=(show_E2)?Y2(OBGRA[n,_p2]):y32(OBGRA[n,_p2]);x2=(show_E2)?X2(OBGRA[n,_p3]):x32(OBGRA[n,_p3]);y2=(show_E2)?Y2(OBGRA[n,_p3]):y32(OBGRA[n,_p3]);cp0=(x0-x)*(y1-y)-(y0-y)*(x1-x);cp1=(x1-x)*(y2-y)-(y1-y)*(x2-x);cp2=(x2-x)*(y0-y)-(y2-y)*(x0-x);' tipo='función' 
id='isInPlane32(x,y,n)' algoritmo='sí' expresión='(((cp0>0)&(cp1>0)&(cp2>0)&(cp3>0)&(cp4>0)&(cp5>0))|((cp0<0)&(cp1<0)&(cp2<0)&(cp3<0)&(cp4<0)&(cp5<0)))' local='N,j,x0,y0,x1,y1,x2,y2,x3,y3,x4,y4,x5,y5,cp0,cp1,cp2,cp3,cp4,cp5' inicio='N=OBGRA[n,_npo]' hacer='j=0;x0=X32(OBGRA[n,_npo+3*j+1],OBGRA[n,_npo+3*j+2],OBGRA[n,_npo+3*j+3]);y0=Y32(OBGRA[n,_npo+3*j+1],OBGRA[n,_npo+3*j+2],OBGRA[n,_npo+3*j+3]);j=(j+1)%N;x1=X32(OBGRA[n,_npo+3*j+1],OBGRA[n,_npo+3*j+2],OBGRA[n,_npo+3*j+3]);y1=Y32(OBGRA[n,_npo+3*j+1],OBGRA[n,_npo+3*j+2],OBGRA[n,_npo+3*j+3]);j=(j+1)%N;x2=X32(OBGRA[n,_npo+3*j+1],OBGRA[n,_npo+3*j+2],OBGRA[n,_npo+3*j+3]);y2=Y32(OBGRA[n,_npo+3*j+1],OBGRA[n,_npo+3*j+2],OBGRA[n,_npo+3*j+3]);j=(j+1)%N;x3=X32(OBGRA[n,_npo+3*j+1],OBGRA[n,_npo+3*j+2],OBGRA[n,_npo+3*j+3]);y3=Y32(OBGRA[n,_npo+3*j+1],OBGRA[n,_npo+3*j+2],OBGRA[n,_npo+3*j+3]);j=(j+1)%N;x4=X32(OBGRA[n,_npo+3*j+1],OBGRA[n,_npo+3*j+2],OBGRA[n,_npo+3*j+3]);y4=Y32(OBGRA[n,_npo+3*j+1],OBGRA[n,_npo+3*j+2],OBGRA[n,_npo+3*j+3]);j=(j+1)%N;x5=X32(OBGRA[n,_npo+3*j+1],OBGRA[n,_npo+3*j+2],OBGRA[n,_npo+3*j+3]);y5=Y32(OBGRA[n,_npo+3*j+1],OBGRA[n,_npo+3*j+2],OBGRA[n,_npo+3*j+3]);;cp0=(x0-x)*(y1-y)-(y0-y)*(x1-x);cp1=(x1-x)*(y2-y)-(y1-y)*(x2-x);cp2=(x2-x)*(y3-y)-(y2-y)*(x3-x);cp3=(x3-x)*(y4-y)-(y3-y)*(x4-x);cp4=(x4-x)*(y5-y)-(y4-y)*(x5-x);cp5=(x5-x)*(y0-y)-(y5-y)*(x0-x);cp5=(N<=5)?cp0:cp5;cp4=(N<=4)?cp0:cp4;cp3=(N<=3)?cp0:cp3;' tipo='función' 
id='defineLineParams(L)' algoritmo='sí' expresión='1' local='Tx,Ty,Tz,T2,T,Mx,My,Mz,T2,T' hacer='Tx=OBGRA[L,_Le41];Ty=OBGRA[L,_Le42];Tz=OBGRA[L,_Le43];Mx=OBGRA[L,_Le23];My=OBGRA[L,_Le31];Mz=OBGRA[L,_Le12];T2=Tx^2+Ty^2+Tz^2;T=sqrt(T2);OBGRA[L,_L_ux]=Tx/T;OBGRA[L,_L_uy]=Ty/T;OBGRA[L,_L_uz]=Tz/T;OBGRA[L, _L_x1]=(Ty*Mz-Tz*My)/T2;OBGRA[L, _L_y1]=(Tz*Mx-Tx*Mz)/T2;OBGRA[L, _L_z1]=(Tx*My-Ty*Mx)/T2;OBGRA[L,_L_x2]=OBGRA[L,_L_x1]+OBGRA[L,_L_ux];OBGRA[L,_L_y2]=OBGRA[L,_L_y1]+OBGRA[L,_L_uy];OBGRA[L,_L_z2]=OBGRA[L,_L_z1]+OBGRA[L,_L_uz];OBGRA[L,_is2D]=(OBGRA[L,_L_z1]==0)&(OBGRA[L,_L_uz]==0);' tipo='función' 
id='getLppParams(L,px,py,pz,pw,qx,qy,qz,qw)' algoritmo='sí' expresión='1' hacer='OBGRA[L,_Le41]=pw*qx-qw*px;OBGRA[L,_Le42]=pw*qy-qw*py;OBGRA[L,_Le43]=pw*qz-qw*pz;OBGRA[L,_Le23]=py*qz-pz*qy;OBGRA[L,_Le31]=pz*qx-px*qz;OBGRA[L,_Le12]=px*qy-py*qx;defineLineParams(L);' tipo='función' 
id='getLTTParams(L,Ex,Ey,Ez,Ew,Fx,Fy,Fz,Fw)' algoritmo='sí' expresión='1' hacer='OBGRA[L,_Le41]=Ez*Fy-Ey*Fz;OBGRA[L,_Le42]=Ex*Fz-Ez*Fx;OBGRA[L,_Le43]=Ey*Fx-Ex*Fy;OBGRA[L,_Le23]=Ex*Fw-Ew*Fx;OBGRA[L,_Le31]=Ey*Fw-Ew*Fy;OBGRA[L,_Le12]=Ez*Fw-Ew*Fz;defineLineParams(L);;' tipo='función' 
id='afuera(x0,y0,z0)' algoritmo='no' expresión='((x0<_mx_)|(_Mx_<x0)|(y0<_my_)|(_My_<y0)|(z0<_mz_)|(_Mz_<z0))' tipo='función' 
id='set_Point(p,a,b,c)' algoritmo='sí' expresión='1' hacer='OBGRA[p,_x]=a;OBGRA[p,_y]=b;OBGRA[p,_z]=c;OBGRA[p,_w]=1;OBGRA[p,_invisible]=afuera(a,b,c);;' tipo='función' 
id='set_Point_4D(p,a,b,c,w)' algoritmo='sí' expresión='p' local='d' inicio='d=(abs(w)>10)?abs(w):1' hacer='OBGRA[p,_x]=a/d;OBGRA[p,_y]=b/d;OBGRA[p,_z]=c/d;OBGRA[p,_w]=w/d;OBGRA[p,_invisible]=afuera(X2(p),Y2(p),Z2(p));;;;' tipo='función' 
id='meetWith(Ex,Ey,Ez,Ew)' algoritmo='sí' expresión='1' hacer='Sw=Ex*Tx+Ey*Ty+Ez*Tz;Sx=(Mz*Ey-My*Ez-Tx*Ew)/Sw;Sy=(Mx*Ez-Mz*Ex-Ty*Ew)/Sw;Sz=(My*Ex-Mx*Ey-Tz*Ew)/Sw;' tipo='función' 
id='adoptIt()' algoritmo='sí' expresión='1' hacer='x1=(n==0)?Sx:x1;y1=(n==0)?Sy:y1;z1=(n==0)?Sz:z1;x2=(n==1)?Sx:x2;y2=(n==1)?Sy:y2;z2=(n==1)?Sz:z2;n=n+1;' tipo='función' 
id='calcLInfty(L)' algoritmo='sí' expresión='1' local='Tx,Ty,Tz,fact,which' hacer='Tx= OBGRA[L,_Le41];Ty= OBGRA[L,_Le42];Tz= OBGRA[L,_Le43];fact=1000000/(E3Rxx*Tx+E3Rxy*Ty+E3Rxz*Tz);OBGRA[L,_xinfty_]=-Tx*fact;OBGRA[L,_yinfty_]=-Ty*fact;OBGRA[L,_zinfty_]=-Tz*fact;which=      (abs(OBGRA[L,_3DLx1_]-OBGRA[L,_xinfty_])<abs(OBGRA[L,_3DLx2_]-OBGRA[L,_xinfty_]));which=which|(abs(OBGRA[L,_3DLy1_]-OBGRA[L,_yinfty_])<abs(OBGRA[L,_3DLy2_]-OBGRA[L,_yinfty_]));which=which|(abs(OBGRA[L,_3DLz1_]-OBGRA[L,_zinfty_])<abs(OBGRA[L,_3DLz2_]-OBGRA[L,_zinfty_]));OBGRA[L,_xnear_]=(which)?OBGRA[L,_3DLx1_]:OBGRA[L,_3DLx2_];OBGRA[L,_ynear_]=(which)?OBGRA[L,_3DLy1_]:OBGRA[L,_3DLy2_];OBGRA[L,_znear_]=(which)?OBGRA[L,_3DLz1_]:OBGRA[L,_3DLz2_];' tipo='función' 
id='calcLine(L)' algoritmo='sí' expresión='1' local='p1,p2,Tx,Ty,Tz,Mx,My,Mz,n,Sx,Sy,Sz,x1,y1,z1,x2,y2,z2,change' inicio='x2=-1000;y2=-1000;z2=-1000;p1=OBGRA[L,_1];p2=OBGRA[L,_2]' hacer='(OBGRA[L,_is2P])?getLppParams(L,OBGRA[p1,_x],OBGRA[p1,_y],OBGRA[p1,_z],OBGRA[p1,_w],OBGRA[p2,_x],OBGRA[p2,_y],OBGRA[p2,_z],OBGRA[p2,_w]):&squot;&squot;;Tx= OBGRA[L,_Le41];Ty= OBGRA[L,_Le42];Tz= OBGRA[L,_Le43];Mx= OBGRA[L,_Le23];My= OBGRA[L,_Le31];Mz= OBGRA[L,_Le12];n=0;meetWith(0,1,0,-_my_);((_mx_<=Sx)&(Sx<=_Mx_)&(_mz_<=Sz)&(Sz<=_Mz_))?adoptIt():&squot;&squot;;meetWith(0,1,0,-_My_);((_mx_<=Sx)&(Sx<=_Mx_)&(_mz_<=Sz)&(Sz<=_Mz_))?adoptIt():&squot;&squot;;(n<2)? meetWith(1,0,0,-_mx_):&squot;&squot;;((n<2)&(_my_<=Sy)&(Sy<=_My_)&(_mz_<=Sz)&(Sz<=_Mz_))?adoptIt():&squot;&squot;;(n<2)? meetWith(1,0,0,-_Mx_):&squot;&squot;;((n<2)&(_my_<=Sy)&(Sy<=_My_)&(_mz_<=Sz)&(Sz<=_Mz_))?adoptIt():&squot;&squot;;(n<2)? meetWith(0,0,1,-_mz_):&squot;&squot;;((n<2)&(_mx_<=Sx)&(Sx<=_Mx_)&(_my_<=Sy)&(Sy<=_My_))?adoptIt():&squot;&squot;;(n<2)? meetWith(0,0,1,-_Mz_):&squot;&squot;;((n<2)&(_mx_<=Sx)&(Sx<=_Mx_)&(_my_<=Sy)&(Sy<=_My_))?adoptIt():&squot;&squot;;x1=(n<2)?-1000:x1;y1=(n<2)?-1000:y1;z1=(n<2)?-1000:z1;;change=(z1>z2);OBGRA[L,_3DLx1_]=(change)?x2:x1;OBGRA[L,_3DLy1_]=(change)?y2:y1;OBGRA[L,_3DLz1_]=(change)?z2:z1;OBGRA[L,_3DLx2_]=(change)?x1:x2;OBGRA[L,_3DLy2_]=(change)?y1:y2;OBGRA[L,_3DLz2_]=(change)?z1:z2;OBGRA[L,_invalid]=OBGRA[L,_is2P]&(OBGRA[OBGRA[L,_1],_invalid]|OBGRA[OBGRA[L,_2],_invalid]);((OBGRA[L,_vsL]>minNOG)&(OBGRA[OBGRA[L,_vsL],_type]==segment))?calcSegmentIntersection(L):&squot;&squot;;((OBGRA[L,_vsL]>minNOG)&((OBGRA[OBGRA[L,_vsL],_type]==triangle)|(OBGRA[OBGRA[L,_vsL],_type]==plane)))?calcPlaneIntersection(L):&squot;&squot;;' tipo='función' 
id='almostParalell(L1,L2)' algoritmo='no' expresión='(abs(OBGRA[L1,_L_ux]*OBGRA[L2,_L_uy]-OBGRA[L2,_L_ux]*OBGRA[L1,_L_uy])<0.000001)' tipo='función' 
id='calcPlaneIntersection(L)' algoritmo='sí' expresión='1' local='vsL,x1,y1,z1,x2,y2,z2,V1,V2,E1,E2' inicio='vsL=OBGRA[L,_vsL]' hacer='x1=X2(OBGRA[L,_1]);y1=Y2(OBGRA[L,_1]);z1=Z2(OBGRA[L,_1]);x2=X2(OBGRA[L,_2]);y2=Y2(OBGRA[L,_2]);z2=Z2(OBGRA[L,_2]);;V1=OBGRA[vsL,_pa]*x1+OBGRA[vsL,_pb]*y1+OBGRA[vsL,_pc]*z1-OBGRA[vsL,_pd];E1=OBGRA[vsL,_pa]*OBGRA[L,_3DLx1_]+OBGRA[vsL,_pb]*OBGRA[L,_3DLy1_]+OBGRA[vsL,_pc]*OBGRA[L,_3DLz1_]-OBGRA[vsL,_pd];V2=OBGRA[vsL,_pa]*x2+OBGRA[vsL,_pb]*y2+OBGRA[vsL,_pc]*z2-OBGRA[vsL,_pd];E2=OBGRA[vsL,_pa]*OBGRA[L,_3DLx2_]+OBGRA[vsL,_pb]*OBGRA[L,_3DLy2_]+OBGRA[vsL,_pc]*OBGRA[L,_3DLz2_]-OBGRA[vsL,_pd];OBGRA[L,_xin]=((V1*V2)<0);;OBGRA[L,_near1]=((V1*E1)>0)?OBGRA[L,_1]:OBGRA[L,_2];OBGRA[L,_near2]=((V2*E2)>0)?OBGRA[L,_2]:OBGRA[L,_1];OBGRA[L,_invalid]=OBGRA[L,_invalid]|OBGRA[vsL,_invalid];' tipo='función' 
id='calcSegmentIntersection(L)' algoritmo='sí' expresión='1' local='vsL,x1,y1,x2,y2,z1,z2,a,b,c,d,V1,V2,dot' inicio='vsL=OBGRA[L,_vsL]' hacer='x1=X2(OBGRA[L,_1]);y1=Y2(OBGRA[L,_1]);z1=Z2(OBGRA[L,_1]);x2=X2(OBGRA[L,_2]);y2=Y2(OBGRA[L,_2]);z2=Z2(OBGRA[L,_2]);a=-OBGRA[vsL,_L_x1];b=-OBGRA[vsL,_L_y1];c=-OBGRA[vsL,_L_z1];d=(a^2+b^2+c^2);V1=a*x1+b*y1+c*z1+d;V2=a*x2+b*y2+c*z2+d;OBGRA[L,_xin]=((V1*V2)<0)&coplanarLL(L,vsL);dot=(OBGRA[L,_3DLx2_]-OBGRA[L,_3DLx1_])*(x2-x1)+(OBGRA[L,_3DLy2_]-OBGRA[L,_3DLy1_])*(y2-y1)+(OBGRA[L,_3DLz2_]-OBGRA[L,_3DLz1_])*(z2-z1);OBGRA[L,_near1]=(dot>0)?OBGRA[L,_1]:OBGRA[L,_2];OBGRA[L,_near2]=(OBGRA[L,_near1]==OBGRA[L,_1])?OBGRA[L,_2]:OBGRA[L,_1];OBGRA[L,_invalid]=OBGRA[L,_invalid]|OBGRA[vsL,_invalid]|(dot==0);;' tipo='función' 
id='meetLL(L1,L2)' algoritmo='sí' expresión='1' local='u1x,u1y,u1z,u2x,u2y,u2z,x1,y1,z1,x2,y2,z2,Nx,Ny,Nz,Dx,Dy,Dz,isx,isy,isz,num,den,par' hacer='u1x=OBGRA[L1,_L_ux];u1y=OBGRA[L1,_L_uy];u1z=OBGRA[L1,_L_uz];u2x=OBGRA[L2,_L_ux];u2y=OBGRA[L2,_L_uy];u2z=OBGRA[L2,_L_uz];x1=OBGRA[L1,_L_x1];y1=OBGRA[L1,_L_y1];z1=OBGRA[L1,_L_z1];x2=OBGRA[L2,_L_x1];y2=OBGRA[L2,_L_y1];z2=OBGRA[L2,_L_z1];Nx=u1y*u2z-u1z*u2y;Ny=u1z*u2x-u1x*u2z;Nz=u1x*u2y-u1y*u2x;Dx=abs(Nx);Dy=abs(Ny);Dz=abs(Nz);par=(Dz<epsilon)&(Dx<epsilon)&(Dy<epsilon);isx=(!par)&(Dx>=max(Dy,Dz));isy=(!par)&(Dy>=max(Dz,Dx));isz=(!par)&(Dz>=max(Dx,Dy));num=(isx)?((y2-y1)*u2z-(z2-z1)*u2y):num;den=(isx)?Nx:den;num=(isy)?((z2-z1)*u2x-(x2-x1)*u2z):num;den=(isy)?Ny:den;num=(isz)?((x2-x1)*u2y-(y2-y1)*u2x):num;den=(isz)?Nz:den;_PX_=(par)?ux1:den*x1+num*u1x;_PY_=(par)?uy1:den*y1+num*u1y;_PZ_=(par)?uz1:den*z1+num*u1z;_PW_=(par)?0:den;' tipo='función' 
id='calcMeetLL(p)' algoritmo='sí' expresión='1' local='L1,L2,_PX_,_PY_,_PZ_,_PW_' hacer='L1=OBGRA[p,_p1];L2=OBGRA[p,_p2];OBGRA[p,_invalid]=OBGRA[L1,_invalid]|OBGRA[L2,_invalid]|(!coplanarLL(L1,L2));(!OBGRA[p,_invalid])?meetLL(L1,L2):&squot;&squot;;(abs(_PW_)>1)?set_Point_4D(p,_PX_/abs(_PW_),_PY_/abs(_PW_),_PZ_/abs(_PW_),_PW_/abs(_PW_)):set_Point_4D(p,_PX_,_PY_,_PZ_,_PW_);;' tipo='función' 
id='calcPerpLL(p)' algoritmo='sí' expresión='1' local='L1,L2,u1x,u1y,u1z,x1,y1,z1,u2x,u2y,u2z,x2,y2,z2,ux,uy,uz,u,dot1,dot2,x3,y3,z3,_PX_,_PY_,_PZ_,_PW_,w1' inicio='L1=OBGRA[p,_p1];L2=OBGRA[p,_p2];u1x=OBGRA[L1,_L_ux];u1y=OBGRA[L1,_L_uy];u1z=OBGRA[L1,_L_uz];x1=OBGRA[L1,_L_x1];y1=OBGRA[L1,_L_y1];z1=OBGRA[L1,_L_z1];u2x=OBGRA[L2,_L_ux];u2y=OBGRA[L2,_L_uy];u2z=OBGRA[L2,_L_uz];x2=OBGRA[L2,_L_x1];y2=OBGRA[L2,_L_y1];z2=OBGRA[L2,_L_z1]' hacer='ux=u1y*u2z-u1z*u2y;uy=u1z*u2x-u1x*u2z;uz=u1x*u2y-u1y*u2x;u=sqrt(ux^2+uy^2+uz^2);ux=ux/u;uy=uy/u;uz=uz/u;dot1=x1*ux+y1*uy+z1*uz;dot2=x2*ux+y2*uy+z2*uz;x3=x2-(dot2-dot1)*ux;y3=y2-(dot2-dot1)*uy;z3=z2-(dot2-dot1)*uz;getLppParams(99,x3,y3,z3,1,x3+u2x,y3+u2y,z3+u2z,1);calcLine(99);meetLL(L1,99);x1=_PX_/abs(_PW_);y1=_PY_/abs(_PW_);z1=_PZ_/abs(_PW_);w1=_PW_/abs(_PW_);getLppParams(p,x1,y1,z1,w1,x1+ux,y1+uy,z1+uz,w1);OBGRA[p,_is2P]=0;calcLine(p);' tipo='función' 
id='meetLEq_DefineSide(L)' algoritmo='sí' expresión='1' local='x2,y2,xx,yy,zz,di1,di2' inicio='x2=X2(p);y2=Y2(p);xx=X23(x2,y2);yy=Y23(x2,y2);zz=Z23(x2,y2)' hacer='di1=(show_E3)?sqrt((xi1-xx)^2+(yi1-yy)^2+(zi1-zz)^2):distance(xi1,yi1,p);di2=(show_E3)?sqrt((xi2-xx)^2+(yi2-yy)^2+(zi2-zz)^2):distance(xi2,yi2,p);OBGRA[p,_side]=(di2<di1)?1:0;OBGRA[p,_otherP]=-1;;' tipo='función' 
id='calcMeetLEqTs()' algoritmo='sí' expresión='1' local='x0,y0,z0,r,A,B,C,discr,aux,xchg' hacer='a=OBGRA[Eq,_Axx_];b=OBGRA[Eq,_Bxy_];c=OBGRA[Eq,_Cyy_];d=OBGRA[Eq,_Dx_];e=OBGRA[Eq,_Ey_];f=OBGRA[Eq,_F_];x0=(isC)?X2(OBGRA[Eq,_centro]):0;y0=(isC)?Y2(OBGRA[Eq,_centro]):0;z0=(isC)?Z2(OBGRA[Eq,_centro]):0;r=(isC)?OBGRA[Eq,_r]:0;A=(isC)?1:(a*ux+b*uy)*ux+c*uy^2;B=(isC)?2*(ux*(x1-x0)+uy*(y1-y0)+uz*(z1-z0)):(2*a*x1+b*y1+d)*ux+(b*x1+2*c*y1+e)*uy;C=(isC)?(x1-x0)^2+(y1-y0)^2+(z1-z0)^2-r^2:(a*x1+b*y1+d)*x1+(c*y1+e)*y1+f;discr=B^2-4*A*C;ok=(discr>=0);T1=(ok)?(-B+sqrt(discr))/(2*A):0;T2=(ok)?(-B-sqrt(discr))/(2*A):1;;//aux=T2;//xchg=(T1>T2);//T2=(xchg)?T1:T2;//T1=(xchg)?aux:T1;;;' tipo='función' 
id='calcMeetLEq(p)' algoritmo='sí' expresión='1' local='L,Eq,x1,y1,z1,ux,uy,uz,isC,ok,T1,T2,xi1,yi1,zi1,xi2,yi2,zi2,cnstool,tO,P,d1,d2,xi,yi,zi,inEq,a,b,c,d,e,f,F,ok' inicio='L=OBGRA[p,_p1];Eq=OBGRA[p,_p2];isC=(OBGRA[Eq,_type]==circle)' hacer='x1=OBGRA[L,_L_x1];y1=OBGRA[L,_L_y1];z1=OBGRA[L,_L_z1];ux=OBGRA[L,_L_ux];uy=OBGRA[L,_L_uy];uz=OBGRA[L,_L_uz];calcMeetLEqTs();xi1=x1+ux*T1;yi1=y1+uy*T1;zi1=z1+uz*T1;xi2=x1+ux*T2;yi2=y1+uy*T2;zi2=z1+uz*T2;((ok&(OBGRA[p,_side]==&squot;&squot;))|(OBGRA[p,_side]==2))?meetLEq_DefineSide(L):&squot;&squot;;xi=(OBGRA[p,_side]>0)?xi2:xi1;yi=(OBGRA[p,_side]>0)?yi2:yi1;zi=(OBGRA[p,_side]>0)?zi2:zi1;tO=-1;P=OBGRA[L,_1];inEq=((!isC)&isInEq(Eq,P))|(isC&isInC(Eq,P));tO=(inEq)?P:tO;P=OBGRA[L,_2];inEq=((!isC)&isInEq(Eq,P))|(isC&isInC(Eq,P));tO=(inEq)?P:tO;d1=(tO>0)?(xi1-X2(tO))^2+(yi1-Y2(tO))^2+(zi1-Z2(tO))^2:0;d2=(tO>0)?(xi2-X2(tO))^2+(yi2-Y2(tO))^2+(zi2-Z2(tO))^2:0;xi=((tO>0)&(d1<=d2))?xi2:xi;yi=((tO>0)&(d1<=d2))?yi2:yi;zi=((tO>0)&(d1<=d2))?zi2:zi;xi=((tO>0)&(d2< d1))?xi1:xi;yi=((tO>0)&(d2< d1))?yi1:yi;zi=((tO>0)&(d2< d1))?zi1:zi;F=OBGRA[Eq,_Eq_];(ok&!isC)?NewtonRaphson():&squot;&squot;;(ok)?set_Point(p,xi,yi,zi):&squot;&squot;;OBGRA[p,_invalid]=(!ok)//|((OBGRA[L,_L_z1]!=0)|(OBGRA[L,_L_uz]!=0));' tipo='función' 
id='calcIforL(L)' algoritmo='sí' expresión='1' hacer='solve2x2(xp-xa,yp-ya,OBGRA[L,_L_x1]-OBGRA[L,_L_x2],OBGRA[L,_L_y1]-OBGRA[L,_L_y2],OBGRA[L,_L_x1]-xa,OBGRA[L,_L_y1]-ya);;xb=xa+tt*(xp-xa);yb=ya+tt*(yp-ya);zb=za+tt*(zp-za)' tipo='función' 
id='calcIforT(T)' algoritmo='sí' expresión='1' local='a,b,c,d,t' hacer='a=OBGRA[T,_pa];b=OBGRA[T,_pb];c=OBGRA[T,_pc];d=OBGRA[T,_pd];t=(d-a*xa-b*ya-c*za)/(a*(xp-xa)+b*(yp-ya)+c*(zp-za));xb=xa+t*(xp-xa);yb=ya+t*(yp-ya);zb=za+t*(zp-za)' tipo='función' 
id='calcPointReflexion(p)' algoritmo='sí' expresión='1' local='P,A,B,isP,isL,isT,xp,yp,zp,xa,ya,za,xc,yc,zc,xb,yb,zb,r2,d2,f,xq,yq,zq,wq' hacer='P=OBGRA[p,_p1];A=OBGRA[p,_p2];B=OBGRA[p,_p3];isLL=OBGRA[p,_type]==segment;isP=(OBGRA[B,_type]==point)|(OBGRA[B,_type]==control);isL=(OBGRA[B,_type]==segment);isT=(OBGRA[B,_type]==triangle)|(OBGRA[B,_type]==plane);;xp=X2(P);yp=Y2(P);zp=Z2(P);;xa=X2(A);ya=Y2(A);za=Z2(A);;xb=(isP)?X2(B):xb;yb=(isP)?Y2(B):yb;zb=(isP)?Z2(B):zb;;(isL)?calcIforL(B):&squot;&squot;;(isT)?calcIforT(B):&squot;&squot;;OBGRA[p,_invalid]=isL&!coplanarPPL(A,P,B);;xc=(xa+xb)/2;yc=(ya+yb)/2;zc=(za+zb)/2;r2=(xa-xc)^2+(ya-yc)^2+(za-zc)^2;d2=(xp-xc)^2+(yp-yc)^2+(zp-zc)^2;f=r2/d2;xq=xc+(xp-xc)*f;yq=yc+(yp-yc)*f;zq=zc+(zp-zc)*f;;wq=1;wq=((xp-xc)*(xb-xa)+(yp-yc)*(yb-ya)+(zp-zc)*(zb-za)<0)?-wq:wq;wq=(OBGRA[P,_w]>=0)?wq:-wq;;set_Point_4D(p,xq*wq,yq*wq,zq*wq,wq);' tipo='función' 
id='calcParalellHarmonic()' algoritmo='sí' expresión='1' local='Xa,Ya,Za,Nx,Ny,Nz,AB,Xp,Yp,Zp,AP,AQ' hacer='Xa=OBGRA[L2,_L_x1];Ya=OBGRA[L2,_L_y1];Za=OBGRA[L2,_L_z1];Nx=OBGRA[L3,_L_x1]-Xa;Ny=OBGRA[L3,_L_y1]-Ya;Nz=OBGRA[L3,_L_z1]-Za;AB=Nx^2+Ny^2+Nz^2;Xp=OBGRA[L1,_L_x1]-Xa;Yp=OBGRA[L1,_L_y1]-Ya;Zp=OBGRA[L1,_L_z1]-Za;AP=Nx*Xp+Ny*Yp+Nz*Zp;AQ=AP/(2*AP-AB);Xq=Xa+AQ*Nx;Yq=Ya+AQ*Ny;Zq=Za+AQ*Nz;OBGRA[L,_invalid]=(abs(Nx*Yp-Ny*Xp)>epsilon)|(abs(Ny*Zp-Nz*Yp)>epsilon)|(abs(Nz*Xp-Nx*Zp)>epsilon);;' tipo='función' 
id='calcLineReflexion(L)' algoritmo='sí' expresión='1' local='L1,L2,L3,defL2,_PX_,_PY_,_PZ_,_PW_,xp,yp,zp,xa,ya,za,xb,yb,zb,tt,ss,xq,yq,zq,paralelas,Xq,Yq,Zq' inicio='L1=OBGRA[L,_p1];L2=OBGRA[L,_p2];L3=OBGRA[L,_p3];meetLL(L1,L3);defL2=(OBGRA[L2,_type]==point)|(OBGRA[L2,_type]==control);auxL2=(defL2)?auxL2:L2;OBGRA[auxL2,_1]=(defL2)?L2:OBGRA[auxL2,_1];OBGRA[auxL2,_2]=(defL2)?P2:OBGRA[auxL2,_2];OBGRA[auxL2,_is2P]=(defL2)?1:OBGRA[auxL2,_is2P];(defL2)?set_Point_4D(P2,_PX_,_PY_,_PZ_,_PW_):&squot;&squot;;(defL2)?calcLine(auxL2):&squot;&squot;;;' hacer='meetLL(auxL2,L3);xp=OBGRA[L1,_L_ux];yp=OBGRA[L1,_L_uy];zp=OBGRA[L1,_L_uz];xa=OBGRA[auxL2,_L_ux];ya=OBGRA[auxL2,_L_uy];za=OBGRA[auxL2,_L_uz];xb=OBGRA[L3,_L_ux];yb=OBGRA[L3,_L_uy];zb=OBGRA[L3,_L_uz];Dxy=Det2x2(xa,ya,xb,yb);Dyz=Det2x2(ya,za,yb,zb);Dzx=Det2x2(za,xa,zb,xb);(Dxy!=0)?solve2x2(xa,ya,xb,yb,xp,yp):&squot;&squot;;((Dxy==0)&(Dyz!=0))?solve2x2(ya,za,yb,zb,yp,zp):&squot;&squot;;((Dxy==0)&(Dyz==0)&(Dzx!=0))?solve2x2(za,xa,zb,xb,zp,xp):&squot;&squot;;paralelas=(Dxy==0)&(Dyz==0)&(Dzx==0);(paralelas)?calcParalellHarmonic():&squot;&squot;;xq=(paralelas)?xp:xa*tt-xb*ss;yq=(paralelas)?yp:ya*tt-yb*ss;zq=(paralelas)?zp:za*tt-zb*ss;OBGRA[L,_Le41]=(paralelas)?xp:xq*_PW_;OBGRA[L,_Le42]=(paralelas)?yp:yq*_PW_;OBGRA[L,_Le43]=(paralelas)?zp:zq*_PW_;OBGRA[L,_Le23]=(paralelas)?Yq*zp-Zq*yp:_PY_*zq-_PZ_*yq;OBGRA[L,_Le31]=(paralelas)?Zq*xp-Xq*zp:_PZ_*xq-_PX_*zq;OBGRA[L,_Le12]=(paralelas)?Xq*yp-Yq*xp:_PX_*yq-_PY_*xq;OBGRA[L,_is2P]=0;OBGRA[L,_isLine]=1;defineLineParams(L);calcLine(L);OBGRA[L,_invalid]=(paralelas)?OBGRA[L,_invalid]:(abs(Det3x3(xp,yp,zp,xa,ya,za,xb,yb,zb))>epsilon);OBGRA[L,_invalid]=OBGRA[L,_invalid]|OBGRA[L1,_invalid]|OBGRA[L2,_invalid]|OBGRA[L3,_invalid]' tipo='función' 
id='calcReflection(p)' algoritmo='sí' expresión='1' local='A,L,isS,isT,x1,y1,z1,ux,uy,uz,t,xq,yq,zq,wq,xx,yy,zz,ww' hacer='L=OBGRA[p,_p1];isS=(OBGRA[L,_type]==segment);isT=(OBGRA[L,_type]==triangle);A=OBGRA[p,_p2];x1=(isS)?OBGRA[L,_L_x1]:X2(A);y1=(isS)?OBGRA[L,_L_y1]:Y2(A);z1=(isS)?OBGRA[L,_L_z1]:Z2(A);ux=(isS)?OBGRA[L,_L_ux]:OBGRA[L,_pa];uy=(isS)?OBGRA[L,_L_uy]:OBGRA[L,_pb];uz=(isS)?OBGRA[L,_L_uz]:OBGRA[L,_pc];t=(isS)?(X2(A)-x1)*ux+(Y2(A)-y1)*uy+(Z2(A)-z1)*uz:t;t=(isT)?-(ux*x1+uy*y1+uz*z1-OBGRA[L,_pd])/(ux^2+uy^2+uz^2):t;xq=x1+ux*t;yq=y1+uy*t;zq=z1+uz*t;xx=2*xq-X2(A);yy=2*yq-Y2(A);zz=2*zq-Z2(A);ww=(OBGRA[A,_w]<0)?-1:1;set_Point_4D(p,ww*xx,ww*yy,ww*zz,ww);' tipo='función' 
id='calcInversePoint(p)' algoritmo='sí' expresión='1' local='P,CoS,isC,isS,Oc,factor,xp,yp,zp,xq,yq,zq,xc,yc,zc,xb,yb,zb,r,wq' hacer='P=OBGRA[p,_p1];xp=X2(P);yp=Y2(P);zp=Z2(P);CoS=OBGRA[p,_p2];isC=(OBGRA[CoS,_type]==circle);isS=(OBGRA[CoS,_type]==segment);Oc=(isC)?OBGRA[CoS,_centro]:-1;xc=(isC)?X2(Oc):xc;yc=(isC)?Y2(Oc):yc;zc=(isC)?Z2(Oc):zc;xc=(isS)?(X2(OBGRA[CoS,_1])+X2(OBGRA[CoS,_2]))/2:xc;yc=(isS)?(Y2(OBGRA[CoS,_1])+Y2(OBGRA[CoS,_2]))/2:yc;zc=(isS)?(Z2(OBGRA[CoS,_1])+Z2(OBGRA[CoS,_2]))/2:zc;r=(isC)?OBGRA[CoS,_r]:r;r=(isS)?(dist(OBGRA[CoS,_1],OBGRA[CoS,_2]))/2:r;factor=r^2/((xp-xc)^2+(yp-yc)^2+(zp-zc)^2);xq=xc+(xp-xc)*factor;yq=yc+(yp-yc)*factor;zq=zc+(zp-zc)*factor;wq=1;wq=((xp-xc)*OBGRA[CoS,_L_ux]+(yp-yc)*OBGRA[CoS,_L_uy]+(zp-zc)*OBGRA[CoS,_L_uz]<0)?-wq:wq;wq=(OBGRA[P,_w]>=0)?wq:-wq;(isC|isS)?set_Point_4D(p,wq*xq,wq*yq,wq*zq,wq):&squot;&squot;;OBGRA[p,_invalid]=OBGRA[P,_invalid]|OBGRA[CoS,_invalid];' tipo='función' 
id='calcInverseCircle(p)' algoritmo='sí' expresión='1' local='O,Oo,ro,C,Oc,rc2,dOC,xc,yc,zc,xo,yo,zo,f1,x1,y1,z1,f2,x2,y2,z2,d1,d2,xi1,yi1,zi1,xi2,yi2,zi2' hacer='O=OBGRA[p,_p1];Oo=OBGRA[O,_centro];ro=OBGRA[O,_r];C=OBGRA[p,_p2];Oc=OBGRA[C,_centro];rc2=OBGRA[C,_r]^2;dOC=dist(Oo,Oc);xc=X2(Oc);yc=Y2(Oc);zc=Z2(Oc);xo=X2(Oo);yo=Y2(Oo);zo=Z2(Oo);f1=(dOC-ro)/dOC;x1=xc+(xo-xc)*f1;y1=yc+(yo-yc)*f1;z1=zc+(zo-zc)*f1;f2=(dOC+ro)/dOC;x2=xc+(xo-xc)*f2;y2=yc+(yo-yc)*f2;z2=zc+(zo-zc)*f2;d1=(x1-xc)^2+(y1-yc)^2+(z1-zc)^2;d2=(x2-xc)^2+(y2-yc)^2+(z2-zc)^2;xi1=xc+(x1-xc)*rc2/d1;yi1=yc+(y1-yc)*rc2/d1;zi1=zc+(z1-zc)*rc2/d1;xi2=xc+(x2-xc)*rc2/d2;yi2=yc+(y2-yc)*rc2/d2;zi2=zc+(z2-zc)*rc2/d2;OBGRA[p,_r]=sqrt((xi2-xi1)^2+(yi2-yi1)^2++(zi2-zi1)^2)/2;OBGRA[p,_radio]=&squot;&squot;+OBGRA[p,_r];set_Point(OBGRA[p,_centro],(xi1+xi2)/2,(yi1+yi2)/2,(zi1+zi2)/2);OBGRA[p,_invalid]=OBGRA[O,_invalid]|OBGRA[C,_invalid];' tipo='función' 
id='calcInverseLine(p)' algoritmo='sí' expresión='1' local='C,L,x1,y1,x2,y2,xc,yc,t,xf,yf,factor,xi,yi' hacer='C=OBGRA[p,_p1];L=OBGRA[p,_p2];x1=OBGRA[L,_3DLx1_];y1=OBGRA[L,_3DLy1_];x2=OBGRA[L,_3DLx2_];y2=OBGRA[L,_3DLy2_];xc=X2(OBGRA[C,_centro]);yc=Y2(OBGRA[C,_centro]);t=-((x1-xc)*(x2-x1)+(y1-yc)*(y2-y1))/((x2-x1)^2+(y2-y1)^2);xf=x1+(x2-x1)*t;yf=y1+(y2-y1)*t;factor=OBGRA[C,_r]^2/((xc-xf)^2+(yc-yf)^2);xi=xc+(xf-xc)*factor;yi=yc+(yf-yc)*factor;OBGRA[p,_r]=sqrt((xi-xc)^2+(yi-yc)^2)/2;OBGRA[p,_radio]=&squot;&squot;+OBGRA[p,_r];set_Point(OBGRA[p,_centro],xc+(xi-xc)/2,yc+(yi-yc)/2,0);OBGRA[p,_invalid]=OBGRA[C,_invalid]|OBGRA[L,_invalid];' tipo='función' 
id='calcInversePlane(p)' algoritmo='sí' expresión='1' local='C,T,a,b,c,d,xc,yc,zc,D,t,xp,yp,zp,factor,xi,yi,zi' hacer='C=OBGRA[p,_p1];T=OBGRA[p,_p2];a=OBGRA[T,_pa];b=OBGRA[T,_pb];c=OBGRA[T,_pc];d=OBGRA[T,_pd];xc=X2(OBGRA[C,_centro]);yc=Y2(OBGRA[C,_centro]);zc=Z2(OBGRA[C,_centro]);D=a^2+b^2+c^2;t=(d-(a*xc+b*yc+c*zc))/D;xp=xc+a*t;yp=yc+b*t;zp=zc+c*t;factor=OBGRA[C,_r]^2/(D*t^2);xi=xc+(xp-xc)*factor;yi=yc+(yp-yc)*factor;zi=zc+(zp-zc)*factor;OBGRA[p,_r]=(OBGRA[C,_r]^2/(sqrt(D)*abs(t)))/2;OBGRA[p,_radio]=&squot;&squot;+OBGRA[p,_r];set_Point(OBGRA[p,_centro],xc+(xi-xc)/2,yc+(yi-yc)/2,zc+(zi-zc)/2);OBGRA[p,_invalid]=OBGRA[C,_invalid]|OBGRA[T,_invalid];' tipo='función' 
id='calcPolarLine(L)' algoritmo='sí' expresión='1' local='Eq,A,B,C,D,E,F,P,ux,uy,u2,u,x1,y1' hacer='Eq=OBGRA[L,_p2];A=OBGRA[Eq,_Axx_];B=OBGRA[Eq,_Bxy_]/2;C=OBGRA[Eq,_Cyy_];D=OBGRA[Eq,_Dx_]/2;E=OBGRA[Eq,_Ey_]/2;F=OBGRA[Eq,_F_];P=OBGRA[L,_p1];ux=A*OBGRA[P,_x]+B*OBGRA[P,_y]+D*OBGRA[P,_w];uy=B*OBGRA[P,_x]+C*OBGRA[P,_y]+E*OBGRA[P,_w];uw=D*OBGRA[P,_x]+E*OBGRA[P,_y]+F*OBGRA[P,_w];u2=ux^2+uy^2;x1=ux*uw/u2;y1=uy*uw/u2;u=sqrt(u2);ux=ux/u;uy=uy/u;OBGRA[L,_Le23]=0;OBGRA[L,_Le31]=0;OBGRA[L,_Le12]=x1*ux+y1*uy;OBGRA[L,_Le41]=uy;OBGRA[L,_Le42]=-ux;OBGRA[L,_Le43]=0;defineLineParams(L);OBGRA[L,_is2P]=0;OBGRA[L,_invalid]=OBGRA[P,_invalid]|OBGRA[Eq,_invalid];(OBGRA[L,_invalid])?&squot;&squot;:calcLine(L);' tipo='función' 
id='calcPole(p)' algoritmo='sí' expresión='1' local='Eq,A,B,C,D,E,F,a,b,v,d,e,f,L,px,py,pw,xi,yi,wi,ux,uy,cross' hacer='Eq=OBGRA[p,_p2];A=OBGRA[Eq,_Axx_];B=OBGRA[Eq,_Bxy_]/2;C=OBGRA[Eq,_Cyy_];D=OBGRA[Eq,_Dx_]/2;E=OBGRA[Eq,_Ey_]/2;F=OBGRA[Eq,_F_];a=(C*F-E*E);b=(E*D-B*F);d=(B*E-D*C);c=(A*F-D*D);e=(B*D-A*E);f=(A*C-B*B);L=OBGRA[p,_p1];px=-OBGRA[L,_L_x1];py=-OBGRA[L,_L_y1];pw=OBGRA[L,_L_x1]^2+OBGRA[L,_L_y1]^2;xi=a*px+b*py+d*pw;yi=b*px+c*py+e*pw;wi=d*px+e*py+f*pw;;ux=A*xi+B*yi+D*wi;uy=B*xi+C*yi+E*wi;cross=ux*OBGRA[L,_L_uy]-uy*OBGRA[L,_L_ux];xi=(cross<0)?-xi:xi;yi=(cross<0)?-yi:yi;wi=(cross<0)?-wi:wi;;set_Point_4D(p,xi,yi,0,wi);OBGRA[p,_invalid]=OBGRA[L,_invalid]|OBGRA[Eq,_invalid];;;' tipo='función' 
id='calcCommonPole(p)' algoritmo='sí' expresión='1' local='P,L,Eq1,Eq2,x0,y0,d,done,n' inicio='Eq1=OBGRA[p,_p1];Eq2= OBGRA[p,_p2];x0=X2(p);y0=Y2(p);L=L_EqEq;P=P_EqEq;OBGRA[L,_p1]=P;OBGRA[P,_p1]=L;OBGRA[L,_p2]=Eq1;OBGRA[P,_p2]=Eq2;set_Point(P,x0,y0,0);done=0;n=0' hacer='calcPolarLine(L);calcPole(P);d=dist(p,P);done=(d<epsilon);set_Point(p,X2(P),Y2(P),0);OBGRA[p,_invalid]=(!done);n=n+1;//((n==1000)&!done)?_Print_(&squot;calcCommonPole fail &squot;+Eq1+&squot; &squot;+Eq2):&squot;&squot;;' mientras='(n<1000)&(!done)' tipo='función' 
id='calcCircParams(c)' algoritmo='sí' expresión='1' local='C,nx,ny,dd,x0,y0,z0,x3,y3,z3,L,h,ny,nz,r,alfa,beta,f,x1,y1,x2,y2' hacer='OBGRA[c,_Axx_]=1;OBGRA[c,_Bxy_]=0;OBGRA[c,_Cyy_]=1;OBGRA[c,_Dx_]=-2*X2(OBGRA[c,_centro]);OBGRA[c,_Ey_]=-2*Y2(OBGRA[c,_centro]);OBGRA[c,_F_]=X2(OBGRA[c,_centro])^2+Y2(OBGRA[c,_centro])^2-OBGRA[c,_r]^2;OBGRA[c,_Eq_]=&squot;&squot;+OBGRA[c,_Axx_]+&squot;*x^2+&squot;+OBGRA[c,_Bxy_]+&squot;*x*y+&squot;+OBGRA[c,_Cyy_]+&squot;*y^2+&squot;+OBGRA[c,_Dx_]+&squot;*x+&squot;+OBGRA[c,_Ey_]+&squot;*y+&squot;+OBGRA[c,_F_];OBGRA[c,_Eq_]=(show_E3)?&squot;&squot;:OBGRA[c,_Eq_];C=OBGRA[c,_centro];OBGRA[c,_rxy]=(abs(Z2(C))<OBGRA[c,_r])?sqrt(OBGRA[c,_r]^2-Z2(C)^2):0 ;;x0=X2(C)+E2.pixOx;y0=Y2(C)+E2.pixOy;z0=Z2(C)+E2.pixOz;x3=E3Rxx*x0+E3Rxy*y0+E3Rxz*z0;y3=E3Ryx*x0+E3Ryy*y0+E3Ryz*z0;z3=E3Rzx*x0+E3Rzy*y0+E3Rzz*z0;d=x3-Ojo.x;L=(Ojo.x/d);h=sqrt(y3^2+z3^2);ny=y3/h;nz=z3/h;r=OBGRA[c,_r];alfa=atan(h/abs(d));beta=asen(r/sqrt(d^2+h^2));f=r/cos(alfa+beta);x1=L*(Ojo.y-y3-ny*f);y1=L*(Ojo.z-z3-nz*f);f=r/cos(alfa-beta);x2=L*(Ojo.y-y3+ny*f);y2=L*(Ojo.z-z3+nz*f);OBGRA[c,_x32]=(x1+x2)/2;OBGRA[c,_y32]=(y1+y2)/2;OBGRA[c,_r32]=sqrt((x2-x1)^2+(y2-y1)^2)/2;' tipo='función' 
id='calcCircle2D(c)' algoritmo='sí' expresión='1' hacer='OBGRA[c,_r]=_Eval_(OBGRA[c,_radio]);OBGRA[c,_invisible]=(&squot;&squot;+OBGRA[c,_r]==&squot;NaN&squot;)|OBGRA[OBGRA[c,_centro],_invisible];calcCircParams(c);' tipo='función' 
id='calcCircleCP2D(c)' algoritmo='sí' expresión='1' hacer='OBGRA[c,_r]=dist(OBGRA[c,_centro],OBGRA[c,_p2]);calcCircParams(c);' tipo='función' 
id='calcCircleSC2D(c)' algoritmo='sí' expresión='1' hacer='OBGRA[c,_r]=dist(OBGRA[OBGRA[c,_p2],_1],OBGRA[OBGRA[c,_p2],_2]);OBGRA[c,_invisible]=(&squot;&squot;+OBGRA[c,_r]==&squot;NaN&squot;)|OBGRA[OBGRA[c,_centro],_invisible];calcCircParams(c);' tipo='función' 
id='pointInLine(P,L)' algoritmo='sí' expresión='(sqrt((X2(P)-xq)^2+ (Y2(P)-yq)^2+ (Z2(P)-zq)^2)<epsilon)' local='x1,y1,z1,ux,uy,uz,xq,yq,zq,t,d,PinL' hacer='x1=OBGRA[L,_L_x1];y1=OBGRA[L,_L_y1];z1=OBGRA[L,_L_z1];ux=OBGRA[L,_L_ux];uy=OBGRA[L,_L_uy];uz=OBGRA[L,_L_uz];t=(X2(P)-x1)*ux+(Y2(P)-y1)*uy+(Z2(P)-z1)*uz;xq=x1+ux*t;yq=y1+uy*t;zq=z1+uz*t' tipo='función' 
id='getPointInLine(n,L)' algoritmo='sí' expresión='1' local='free,x1,y1,z1,x2,y2,z2,t' inicio='free=free_controls|_in_Curve_or_Family_|(n==selOBGRA)|(OBGRA[n,_prprtn]==&squot;&squot;)' hacer='x1=(OBGRA[L,_is2P])?X2(OBGRA[L,_1]):OBGRA[L,_L_x1];y1=(OBGRA[L,_is2P])?Y2(OBGRA[L,_1]):OBGRA[L,_L_y1];z1=(OBGRA[L,_is2P])?Z2(OBGRA[L,_1]):OBGRA[L,_L_z1];x2=(OBGRA[L,_is2P])?X2(OBGRA[L,_2]):OBGRA[L,_L_x2];y2=(OBGRA[L,_is2P])?Y2(OBGRA[L,_2]):OBGRA[L,_L_y2];z2=(OBGRA[L,_is2P])?Z2(OBGRA[L,_2]):OBGRA[L,_L_z2];t=(free)?((X2(n)-x1)*(x2-x1)+(Y2(n)-y1)*(y2-y1)+(Z2(n)-z1)*(z2-z1))/((x2-x1)^2+(y2-y1)^2+(z2-z1)^2):OBGRA[n,_prprtn];OBGRA[n,_prprtn]=t;set_Point(n,x1+t*(x2-x1),y1+t*(y2-y1),z1+t*(z2-z1));' tipo='función' 
id='getPointInPlane(n,T)' algoritmo='sí' expresión='1' local='xi,yi,zi,a,b,c,d,t' hacer='xi=X2(n);yi=Y2(n);zi=Z2(n);a= OBGRA[T,_pa];b= OBGRA[T,_pb];c= OBGRA[T,_pc];d=-OBGRA[T,_pd];t=-(a*xi+b*yi+c*zi+d)/(a^2+b^2+c^2);set_Point(n,xi+t*a,yi+t*b,zi+t*c)' tipo='función' 
id='getPointInCirc(n,c)' algoritmo='sí' expresión='1' local='xi,yi,zi,cr,cx,cy,czd,r,f' hacer='xi=X2(n);yi=Y2(n);zi=Z2(n);cx=X2(OBGRA[c,_centro]);cy=Y2(OBGRA[c,_centro]);cz=Z2(OBGRA[c,_centro]);r=OBGRA[c,_r];(OBGRA[n,_dirx]==&squot;&squot;);d=sqrt((xi-cx)^2+(yi-cy)^2+(zi-cz)^2);f=r/d;set_Point(n,cx+(xi-cx)*f,cy+(yi-cy)*f,cz+(zi-cz)*f);' tipo='función' 
id='getPointInCirc3D(n,c)' algoritmo='sí' expresión='1' local='x0,y0,z0,nx,ny,nz,tx,ty,tz,xn,yn,zn,dotn,dott,d' hacer='x0=OBGRA[c,_xc];y0=OBGRA[c,_yc];z0=OBGRA[c,_zc];nx=OBGRA[c,_nx];ny=OBGRA[c,_ny];nz=OBGRA[c,_nz];tx=OBGRA[c,_tx];ty=OBGRA[c,_ty];tz=OBGRA[c,_tz];xn=X2(n)-x0;yn=Y2(n)-y0;zn=Z2(n)-z0;dotn=xn*nx+yn*ny+zn*nz;dott=xn*tx+yn*ty+zn*tz;d=sqrt(dotn^2+dott^2);dotn=OBGRA[c,_r]*dotn/d;dott=OBGRA[c,_r]*dott/d;set_Point(n,x0+dotn*nx+dott*tx,y0+dotn*ny+dott*ty,z0+dotn*nz+dott*tz);' tipo='función' 
id='getPointInEq(n,eq)' algoritmo='sí' expresión='1' local='F,xi,yi' hacer='F=OBGRA[eq,_Eq_];xi=X2(n);yi=Y2(n);NewtonRaphson();set_Point(n,xi,yi,0);' tipo='función' 
id='calcMeetEqEq(p)' algoritmo='sí' expresión='1' local='C1,C2,xi,yi,F,ok' hacer='C1=OBGRA[p,_p1];C2=OBGRA[p,_p2];xi=X2(p);yi=Y2(p);F=&squot;(&squot;+OBGRA[C1,_Eq_]+&squot;)^2+(&squot;+OBGRA[C2,_Eq_]+&squot;)^2&squot;;ok=NewtonRaphson();(ok)?set_Point(p,xi,yi,0):&squot;&squot;;OBGRA[p,_invalid]=!ok;OBGRA[p,_constr]=(ok)?&squot;P_&squot;+p+&squot;:=newMeetEqEq(&squot;+xi+&squot;,&squot;+yi+&squot;,C_&squot;+C1+&squot;,C_&squot;+C2+&squot;)&squot;:OBGRA[p,_constr];;;;' tipo='función' 
id='calcFreeCtrl(p)' algoritmo='sí' expresión='1' hacer='OBGRA[p,_invisible]=afuera(X2(p),Y2(p),Z2(p));' tipo='función' 
id='calcCnstrGCtrl(n)' algoritmo='sí' expresión='1' local='constr,isVal' hacer='OBGRA[n,_invisible]=0;OBGRA[n,_invalid]=0;constr=OBGRA[n,_cnstr];isVal=!OBGRA[constr,_invalid];(isVal&(OBGRA[constr,_type]==circle))?getPointInCirc(n,constr):&squot;&squot;;(isVal&(OBGRA[constr,_type]==segment))?getPointInLine(n,constr):&squot;&squot;;(isVal&((OBGRA[constr,_type]==plane)|(OBGRA[constr,_type]==triangle)))?getPointInPlane(n,constr):&squot;&squot;;(isVal&((OBGRA[constr,_type]==conic5pts)|(OBGRA[constr,_type]==cubic9pts)))?getPointInEq(n,constr):&squot;&squot;;(isVal&(OBGRA[constr,_type]==circ3D))?getPointInCirc3D(n,constr):&squot;&squot;;(isVal&(OBGRA[constr,_type]==curve)&(OBGRA[constr,_Eq_]!=&squot;&squot;))?getPointInEq(n,constr):&squot;&squot;;OBGRA[n,_invalid]=OBGRA[constr,_invalid];' tipo='función' 
id='tryZs()' algoritmo='sí' expresión='x' local='cond,zmm,zmM,zMm,zMM' hacer='cond=(k<6);zMM=(cond)?(d-a*_Mxe_-b*_Mye_)/c:0;cond=cond&(_mz_<=zMM)&(zMM<=_Mz_);(cond)?set_Point(P1+k,_Mxe_,_Mye_,zMM):&squot;&squot;;k=(cond)?k+1:k;;cond=(k<6);zmM=(cond)?(d-a*_mxe_-b*_Mye_)/c:0;cond=cond&(_mz_<=zmM)&(zmM<=_Mz_);(cond)?set_Point(P1+k,_mxe_,_Mye_,zmM):&squot;&squot;;k=(cond)?k+1:k;;cond=(k<6);zmm=(cond)?(d-a*_mxe_-b*_mye_)/c:0;cond=(cond)&(_mz_<=zmm)&(zmm<=_Mz_);(cond)?set_Point(P1+k,_mxe_,_mye_,zmm):&squot;&squot;;k=(cond)?k+1:k;;cond=(k<6);zMm=(cond)?(d-a*_Mxe_-b*_mye_)/c:0;cond=(cond)&(_mz_<=zMm)&(zMm<=_Mz_);(cond)?set_Point(P1+k,_Mxe_,_mye_,zMm):&squot;&squot;;k=(cond)?k+1:k;' tipo='función' 
id='tryXs()' algoritmo='sí' expresión='x' local='cond,xmm,xmM,xMm,xMM' hacer='cond=(k<6);xMM=(cond)?(d-b*_Mye_-c*_Mze_)/a:0;cond=cond&(_mx_<=xMM)&(xMM<=_Mx_);(cond)?set_Point(P1+k,xMM,_Mye_,_Mze_):&squot;&squot;;k=(cond)?k+1:k;;cond=(k<6);xmM=(cond)?(d-b*_mye_-c*_Mze_)/a:0;cond=cond&(_mx_<=xmM)&(xmM<=_Mx_);(cond)?set_Point(P1+k,xmM,_mye_,_Mze_):&squot;&squot;;k=(cond)?k+1:k;;cond=(k<6);xmm=(cond)?(d-b*_mye_-c*_mze_)/a:0;cond=cond&(_mx_<=xmm)&(xmm<=_Mx_);(cond)?set_Point(P1+k,xmm,_mye_,_mze_):&squot;&squot;;k=(cond)?k+1:k;;cond=(k<6);xMm=(cond)?(d-b*_Mye_-c*_mze_)/a:0;cond=cond&(_mx_<=xMm)&(xMm<=_Mx_);(cond)?set_Point(P1+k,xMm,_Mye_,_mze_):&squot;&squot;;k=(cond)?k+1:k;' tipo='función' 
id='tryYs()' algoritmo='sí' expresión='x' local='cond,ymm,ymM,yMm,yMM' hacer='cond=(k<6);yMM=(cond)?(d-a*_Mxe_-c*_Mze_)/b:0;cond=cond&(_my_<=yMM)&(yMM<=_My_);(cond)?set_Point(P1+k,_Mxe_,yMM,_Mze_):&squot;&squot;;k=(cond)?k+1:k;;cond=(k<6);ymM=(cond)?(d-a*_mxe_-c*_Mze_)/b:0;cond=cond&(_my_<=ymM)&(ymM<=_My_);(cond)?set_Point(P1+k,_mxe_,ymM,_Mze_):&squot;&squot;;k=(cond)?k+1:k;;cond=(k<6);ymm=(cond)?(d-a*_mxe_-c*_mze_)/b:0;cond=cond&(_my_<=ymm)&(ymm<=_My_);(cond)?set_Point(P1+k,_mxe_,ymm,_mze_):&squot;&squot;;k=(cond)?k+1:k;;cond=(k<6);yMm=(cond)?(d-a*_Mxe_-c*_mze_)/b:0;cond=cond&(_my_<=yMm)&(yMm<=_My_);(cond)?set_Point(P1+k,_Mxe_,yMm,_mze_):&squot;&squot;;k=(cond)?k+1:k;;' tipo='función' 
id='initQUE(N)' algoritmo='sí' expresión='1' local='n' inicio='n=0' hacer='QUE[n]=angtan(X2(P1+n),Y2(P1+n));n=n+1' mientras='n<N' tipo='función' 
id='calcBorders(p)' algoritmo='sí' expresión='1' local='a,b,c,d,k,j' hacer='a=OBGRA[p,_pa];b=OBGRA[p,_pb];c=OBGRA[p,_pc];c=(c==0)?epsilon:c;d=OBGRA[p,_pd];k=0;((k<6)&(abs(c)>=epsilon))?tryZs():&squot;&squot;;((k<6)&(abs(b)>=epsilon))?tryYs():&squot;&squot;;((k<6)&(abs(a)>=epsilon))?tryXs():&squot;&squot;;;OBGRA[p,_npo]=k;(k>0)?ordenaQUE(k):&squot;&squot;;;j=0;OBGRA[p,_npo+3*j+1]=(j<k)?X2(P1+ORDEN[j]):0;OBGRA[p,_npo+3*j+2]=(j<k)?Y2(P1+ORDEN[j]):0;OBGRA[p,_npo+3*j+3]=(j<k)?Z2(P1+ORDEN[j]):0;j=j+1;OBGRA[p,_npo+3*j+1]=(j<k)?X2(P1+ORDEN[j]):0;OBGRA[p,_npo+3*j+2]=(j<k)?Y2(P1+ORDEN[j]):0;OBGRA[p,_npo+3*j+3]=(j<k)?Z2(P1+ORDEN[j]):0;j=j+1;OBGRA[p,_npo+3*j+1]=(j<k)?X2(P1+ORDEN[j]):0;OBGRA[p,_npo+3*j+2]=(j<k)?Y2(P1+ORDEN[j]):0;OBGRA[p,_npo+3*j+3]=(j<k)?Z2(P1+ORDEN[j]):0;j=j+1;OBGRA[p,_npo+3*j+1]=(j<k)?X2(P1+ORDEN[j]):0;OBGRA[p,_npo+3*j+2]=(j<k)?Y2(P1+ORDEN[j]):0;OBGRA[p,_npo+3*j+3]=(j<k)?Z2(P1+ORDEN[j]):0;j=j+1;OBGRA[p,_npo+3*j+1]=(j<k)?X2(P1+ORDEN[j]):0;OBGRA[p,_npo+3*j+2]=(j<k)?Y2(P1+ORDEN[j]):0;OBGRA[p,_npo+3*j+3]=(j<k)?Z2(P1+ORDEN[j]):0;j=j+1;OBGRA[p,_npo+3*j+1]=(j<k)?X2(P1+ORDEN[j]):0;OBGRA[p,_npo+3*j+2]=(j<k)?Y2(P1+ORDEN[j]):0;OBGRA[p,_npo+3*j+3]=(j<k)?Z2(P1+ORDEN[j]):0;' tipo='función' 
id='calcT(p)' algoritmo='sí' expresión='1' local='A,B,C,x0,y0,z0,x1,y1,z1,x2,y2,z2' inicio='A=OBGRA[p,_p1];B=OBGRA[p,_p2];C=OBGRA[p,_p3]' hacer='x0=X2(A);y0=Y2(A);z0=Z2(A);x1=X2(B);y1=Y2(B);z1=Z2(B);x2=X2(C);y2=Y2(C);z2=Z2(C);OBGRA[p,_pa]=(y2-y0)*(z1-z0)-(y1-y0)*(z2-z0);OBGRA[p,_pb]=(z2-z0)*(x1-x0)-(z1-z0)*(x2-x0);OBGRA[p,_pc]=(x2-x0)*(y1-y0)-(x1-x0)*(y2-y0);OBGRA[p,_pd]=(OBGRA[p,_pa]*x0+OBGRA[p,_pb]*y0+OBGRA[p,_pc]*z0);OBGRA[p,_cut]=0;OBGRA[p,_invalid]=OBGRA[A,_invalid]|OBGRA[B,_invalid]|OBGRA[C,_invalid];(isVisible(p))?calcBorders(p):&squot;&squot;;;' tipo='función' 
id='calcTvsP(p)' algoritmo='sí' expresión='1' local='L,P' inicio='calcT(p)' hacer='L=auxL1;P=OBGRA[p,_vsP];getLTTParams(L,OBGRA[p,_pa],OBGRA[p,_pb],OBGRA[p,_pc],-OBGRA[p,_pd],OBGRA[P,_pa],OBGRA[P,_pb],OBGRA[P,_pc],-OBGRA[P,_pd]);OBGRA[L,_is2P]=0;calcLine(L);doCalcTvsL();' tipo='función' 
id='calcTvsL(p)' algoritmo='sí' expresión='1' local='L' inicio='calcT(p)' hacer='L=OBGRA[p,_p4];doCalcTvsL();' tipo='función' 
id='doCalcTvsL()' algoritmo='sí' expresión='1' local='P1,P2,P3,a,b,c,d,xp1,yp1,zp1,xp2,yp2,zp2,xp3,yp3,zp3,v1,v2,v3,s1,s2,s3,sum,j' inicio='P1=OBGRA[p,_p1];P2=OBGRA[p,_p2];P3=OBGRA[p,_p3]' hacer='a=-OBGRA[L,_L_uy];b= OBGRA[L,_L_ux];c= 0;d=a*OBGRA[L,_L_x1]+b*OBGRA[L,_L_y1];xp1=X2(P1);yp1=Y2(P1);zp1=Z2(P1);xp2=X2(P2);yp2=Y2(P2);zp2=Z2(P2);xp3=X2(P3);yp3=Y2(P3);zp3=Z2(P3);v1=(a*xp1+b*yp1-d);v2=(a*xp2+b*yp2-d);v3=(a*xp3+b*yp3-d);s1=(v1>=0);s2=(v2>=0);s3=(v3>=0);sum=(s1>0)+(s2>0)+(s3>0);OBGRA[p,_cut]=(0<sum)&(sum<3);OBGRA[auxL1,_is2P]=1;OBGRA[auxL2,_is2P]=1;OBGRA[auxL3,_is2P]=1;OBGRA[auxL1,_1]=P2;OBGRA[auxL1,_2]=P3;OBGRA[auxL2,_1]=P3;OBGRA[auxL2,_2]=P1;OBGRA[auxL3,_1]=P1;OBGRA[auxL3,_2]=P2;calcLine(auxL1);calcLine(auxL2);calcLine(auxL3);(OBGRA[p,_cut]&(((sum==1)&(s1>0))|((sum==2)&(s1<=0))))?vsBorder(auxL2,auxL3,xp1,yp1,zp1,xp2,yp2,zp2,xp3,yp3,zp3):&squot;&squot;;(OBGRA[p,_cut]&(((sum==1)&(s2>0))|((sum==2)&(s2<=0))))?vsBorder(auxL3,auxL1,xp2,yp2,zp2,xp3,yp3,zp3,xp1,yp1,zp1):&squot;&squot;;(OBGRA[p,_cut]&(((sum==1)&(s3>0))|((sum==2)&(s3<=0))))?vsBorder(auxL1,auxL2,xp3,yp3,zp3,xp1,yp1,zp1,xp2,yp2,zp2):&squot;&squot;;' tipo='función' 
id='vsBorder(auxL2,auxL3,xp1,yp1,zp1,xp2,yp2,zp2,xp3,yp3,zp3)' algoritmo='sí' expresión='1' local='chng,a1,b1,d1,a2,b2,d2,a3,b3,d3,ix,iy,iz,fx,fy,fz,i_is1,i_is2,f_is1,f_is2,v,ok,oki,okf' inicio='a1=(yp3-yp2);b1=(xp2-xp3);d1=a1*xp2+b1*yp2;test=a1*xp1+b1*yp1-d1;chng=(test<0);a1=(chng)?-a1:a1;b1=(chng)?-b1:b1;d1=(chng)?-d1:d1;a2=(yp1-yp3);b2=(xp3-xp1);d2=a2*xp1+b2*yp1;test=a2*xp2+b2*yp2-d2;chng=(test<0);a2=(chng)?-a2:a2;b2=(chng)?-b2:b2;d2=(chng)?-d2:d2;a3=(yp2-yp1);b3=(xp1-xp2);d3=a3*xp1+b3*yp1;test=a3*xp3+b3*yp3-d3;chng=(test<0);a3=(chng)?-a3:a3;b3=(chng)?-b3:b3;d3=(chng)?-d3:d3' hacer='v=a*xp1+b*yp1-d;i_is1=((OBGRA[auxL3,_3DLx1_]-OBGRA[auxL3,_3DLx2_])*(xp1-xp2)+(OBGRA[auxL3,_3DLy1_]-OBGRA[auxL3,_3DLy2_])*(yp1-yp2)>0);f_is1=((OBGRA[auxL2,_3DLx1_]-OBGRA[auxL2,_3DLx2_])*(xp1-xp3)+(OBGRA[auxL2,_3DLy1_]-OBGRA[auxL2,_3DLy2_])*(yp1-yp3)>0);;j=0;addPolyPoint(p,_np1+3*j,xp1,yp1,zp1);ix=(i_is1)?OBGRA[auxL3,_3DLx1_]:OBGRA[auxL3,_3DLx2_];iy=(i_is1)?OBGRA[auxL3,_3DLy1_]:OBGRA[auxL3,_3DLy2_];iz=(i_is1)?OBGRA[auxL3,_3DLz1_]:OBGRA[auxL3,_3DLz2_];addPolyPoint(p,_np1+3*j,ix,iy,iz);fx=(f_is1)?OBGRA[auxL2,_3DLx1_]:OBGRA[auxL2,_3DLx2_];fy=(f_is1)?OBGRA[auxL2,_3DLy1_]:OBGRA[auxL2,_3DLy2_];fz=(f_is1)?OBGRA[auxL2,_3DLz1_]:OBGRA[auxL2,_3DLz2_];addCorners(1,p,_np1,xp1,yp1,zp1,ix,iy,iz,fx,fy,fz);addPolyPoint(p,_np1+3*j,fx,fy,fz);OBGRA[p,_np1]=(afuera(xp1,yp1,zp1)|(j<=2))?0:j;;j=0;ix=(i_is1)?OBGRA[auxL3,_3DLx2_]:OBGRA[auxL3,_3DLx1_];iy=(i_is1)?OBGRA[auxL3,_3DLy2_]:OBGRA[auxL3,_3DLy1_];iz=(i_is1)?OBGRA[auxL3,_3DLz2_]:OBGRA[auxL3,_3DLz1_];addPolyPoint(p,_np2+3*j,xp2,yp2,zp2);oki=((ix-xp1)*(ix-xp2)+(iy-yp1)*(iy-yp2)>0);((v*(a*ix+b*iy+c*ix-d)<0)&oki)?addPolyPoint(p,_np2+3*j,ix,iy,iz):&squot;&squot;;fx=(f_is1)?OBGRA[auxL2,_3DLx2_]:OBGRA[auxL2,_3DLx1_];fy=(f_is1)?OBGRA[auxL2,_3DLy2_]:OBGRA[auxL2,_3DLy1_];fz=(f_is1)?OBGRA[auxL2,_3DLz2_]:OBGRA[auxL2,_3DLz1_];addCorners(2,p,_np2,xp1,yp1,zp1,ix,iy,iz,fx,fy,fz);okf=((fx-xp1)*(fx-xp3)+(fy-yp1)*(fy-yp3)>0);((v*(a*fx+b*fy-d)<0)&okf)?addPolyPoint(p,_np2+3*j,fx,fy,fz):&squot;&squot;;addPolyPoint(p,_np2+3*j,xp3,yp3,zp3);OBGRA[p,_np2]=(j<=2)?0:j;' tipo='función' 
id='addCorners(count,p,np,x0,y0,z0,x1,y1,z1,x2,y2,z2)' algoritmo='sí' expresión='j' local='j0,k,kf,xk,yk,zk,inZone,mustOrd' inicio='j0=j;kf=OBGRA[p,_npo];k=0' hacer='xk=OBGRA[p,_npo+3*k+1];yk=OBGRA[p,_npo+3*k+2];zk=OBGRA[p,_npo+3*k+3];inZone=(count==1)?(a1*xk+b1*yk-d1>0)&(a2*xk+b2*yk-d2<0)&(a3*xk+b3*yk-d3<0):inZone;inZone=(count==2)?(a1*xk+b1*yk-d1<0)&(a2*xk+b2*yk-d2>0)&(a3*xk+b3*yk-d3>0):inZone;(inZone)?addPolyPoint(p,np+3*j,xk,yk,zk):&squot;&squot;;k=k+1;mustOrd=(k==kf)&(j>(j0+1));(mustOrd)?orderBorderPoints():&squot;&squot;;;' mientras='(k!=kf)' tipo='función' 
id='addPolyPoint(p,n,x,y,z)' algoritmo='sí' expresión='j' hacer='OBGRA[p,n+1]=x;OBGRA[p,n+2]=y;OBGRA[p,n+3]=z;vang[j]=(z!=-1000)?Angle3D(x1-x0,y1-y0,z1-z0,x-x0,y-y0,z-z0):0;j=(z==-1000)?j:j+1;' tipo='función' 
id='vang' vector='sí' evaluar='una-sola-vez' tamaño='10' tipo='vector' 
id='minang(n,j)' algoritmo='sí' expresión='ii' local='ii,m,amin' inicio='ii=n;amin=vang[n];m=1' hacer='ii=(vang[n+m]<amin)?n+m:ii;amin=(vang[n+m]<amin)?vang[n+m]:amin;m=m+1' mientras='n+m<=j' tipo='función' 
id='orderBorderPoints()' algoritmo='sí' expresión='1' local='n,i' inicio='n=j0' hacer='i=minang(n,j-1);(i>n)?exchangeBorderPoints(i,n):&squot;&squot;;n=n+1' mientras='n<j-1' tipo='función' 
id='exchangeBorderPoints(m,n)' algoritmo='sí' expresión='1' local='aux,auy,auz,aug' hacer='aux=OBGRA[p,np+3*m+1];auy=OBGRA[p,np+3*m+2];auz=OBGRA[p,np+3*m+3];aug=vang[m];;OBGRA[p,np+3*m+1]=OBGRA[p,np+3*n+1];OBGRA[p,np+3*m+2]=OBGRA[p,np+3*n+2];OBGRA[p,np+3*m+3]=OBGRA[p,np+3*n+3];vang[m]=vang[n];;OBGRA[p,np+3*n+1]=aux;OBGRA[p,np+3*n+2]=auy;OBGRA[p,np+3*n+3]=auz;vang[n]=aug;' tipo='función' 
id='calcMeetTT(L)' algoritmo='sí' expresión='1' local='T1,T2' inicio='T1=OBGRA[L,_p1];T2=OBGRA[L,_p2]' hacer='OBGRA[L,_is2P]=0;OBGRA[L,_is2D]=0;getLTTParams(L,OBGRA[T1,_pa],OBGRA[T1,_pb],OBGRA[T1,_pc],-OBGRA[T1,_pd],OBGRA[T2,_pa],OBGRA[T2,_pb],OBGRA[T2,_pc],-OBGRA[T2,_pd]);calcLine(L);;' tipo='función' 
id='calcMidPoint(p)' algoritmo='sí' expresión='1' local='A,B' hacer='A=OBGRA[p,_p1];B=OBGRA[p,_p2];set_Point(p,(X2(A)+X2(B))/2,(Y2(A)+Y2(B))/2,(Z2(A)+Z2(B))/2);' tipo='función' 
id='calcFoot(p)' algoritmo='sí' expresión='1' local='L,isS,isT,A,x1,y1,z1,ux,uy,uz,t,xq,yq,zq,wq' hacer='L=OBGRA[p,_p1];isS=(OBGRA[L,_type]==segment);isT=(OBGRA[L,_type]==triangle);A=OBGRA[p,_p2];x1=(isS)?OBGRA[L,_L_x1]:X2(A);y1=(isS)?OBGRA[L,_L_y1]:Y2(A);z1=(isS)?OBGRA[L,_L_z1]:Z2(A);ux=(isS)?OBGRA[L,_L_ux]:OBGRA[L,_pa];uy=(isS)?OBGRA[L,_L_uy]:OBGRA[L,_pb];uz=(isS)?OBGRA[L,_L_uz]:OBGRA[L,_pc];t=(isS)?(X2(A)-x1)*ux+(Y2(A)-y1)*uy+(Z2(A)-z1)*uz:t;t=(isT)?-(ux*x1+uy*y1+uz*z1-OBGRA[L,_pd])/(ux^2+uy^2+uz^2):t;xq=x1+ux*t;yq=y1+uy*t;zq=z1+uz*t;wq=1;wq=(OBGRA[A,_w]<0)?-wq:wq;set_Point_4D(p,xq*wq,yq*wq,zq*wq,wq);' tipo='función' 
id='calcParal(ele)' algoritmo='sí' expresión='1' local='L,P,xP,yP,zP,wP,ux,uy,uz' inicio='L=OBGRA[ele,_p1];P=OBGRA[ele,_p2]' hacer='wP=OBGRA[P,_w];xP=OBGRA[P,_x];yP=OBGRA[P,_y];zP=OBGRA[P,_z];xP=(wP<0)?-xP:xP;yP=(wP<0)?-yP:yP;zP=(wP<0)?-zP:zP;wP=(wP<0)?-wP:wP;defineLineParams(L);ux=OBGRA[L,_L_ux];uy=OBGRA[L,_L_uy];uz=OBGRA[L,_L_uz];OBGRA[ele,_Le41]=ux*wP;OBGRA[ele,_Le42]=uy*wP;OBGRA[ele,_Le43]=uz*wP;OBGRA[ele,_Le23]=uz*yP-uy*zP;OBGRA[ele,_Le31]=ux*zP-uz*xP;OBGRA[ele,_Le12]=uy*xP-ux*yP;defineLineParams(ele);OBGRA[ele,_is2P]=0;OBGRA[ele,_invalid]=OBGRA[L,_invalid]|OBGRA[P,_invalid];(OBGRA[ele,_invalid])?&squot;&squot;:calcLine(ele);;' tipo='función' 
id='calcPerp2D(ele)' algoritmo='sí' expresión='1' local='L,P' inicio='L=OBGRA[ele,_p1];P=OBGRA[ele,_p2]' hacer='mx=X2(P);my=Y2(P);ux=OBGRA[L,_Le41];uy=OBGRA[L,_Le42];OBGRA[ele,_Le41]=-uy;OBGRA[ele,_Le42]= ux;OBGRA[ele,_Le43]=0;OBGRA[ele,_Le23]=0;OBGRA[ele,_Le31]=0;OBGRA[ele,_Le12]=uy*my+ux*mx;defineLineParams(ele);OBGRA[ele,_is2P]=0;OBGRA[ele,_invalid]=(OBGRA[L,_L_z1]!=0)|(OBGRA[L,_L_z2]!=0)|(Z2(P)!=0);(OBGRA[ele,_invalid])?&squot;&squot;:calcLine(ele);' tipo='función' 
id='perp3D()' algoritmo='sí' expresión='1' hacer='x1=OBGRA[L,_L_x1];y1=OBGRA[L,_L_y1];z1=OBGRA[L,_L_z1];ux=OBGRA[L,_L_ux];uy=OBGRA[L,_L_uy];uz=OBGRA[L,_L_uz];t=(X2(A)-x1)*ux+(Y2(A)-y1)*uy+(Z2(A)-z1)*uz;xq=x1+ux*t;yq=y1+uy*t;zq=z1+uz*t;wq=1;wq=(OBGRA[A,_w]<0)?-wq:wq;getLppParams(p, OBGRA[A,_x],OBGRA[A,_y],OBGRA[A,_z],OBGRA[A,_w],wq*xq,wq*yq,wq*zq,wq);calcLine(p);;' tipo='función' 
id='calcPerp3D_toL(p)' algoritmo='sí' expresión='1' local='L,A,x1,y1,z1,ux,uy,uz,t,xq,yq,zq' hacer='L=OBGRA[p,_p1];A=OBGRA[p,_p2];OBGRA[p,_is2P]=0;OBGRA[p,_is2D]=(OBGRA[A,_z]==0)&(OBGRA[L,_L_uz]==0);(OBGRA[p,_is2D])?calcPerp2D(p):perp3D(p);' tipo='función' 
id='calcPerp3D_toT(p)' algoritmo='sí' expresión='1' local='T,A' hacer='T=OBGRA[p,_p1];A=OBGRA[p,_p2];getLppParams(p,OBGRA[A,_x],OBGRA[A,_y],OBGRA[A,_z],OBGRA[A,_w],OBGRA[A,_x]-OBGRA[T,_pa],OBGRA[A,_y]-OBGRA[T,_pb],OBGRA[A,_z]-OBGRA[T,_pc],OBGRA[A,_w]);calcLine(p);' tipo='función' 
id='calcPlane(p)' algoritmo='sí' expresión='1' local='L1,L2,P,x1,y1,z1,u1x,u1y,u1z,u2x,u2y,u2z,ux,uy,uz,U' hacer='L1=OBGRA[p,_Pt1];L2=(OBGRA[OBGRA[p,_Pt2],_type]==segment)?OBGRA[p,_Pt2]:-1;P=(OBGRA[OBGRA[p,_Pt2],_type]==segment)?-1:OBGRA[p,_Pt2];x1=OBGRA[L1,_L_x1];y1=OBGRA[L1,_L_y1];z1=OBGRA[L1,_L_z1];u1x=OBGRA[L1,_L_ux];u1y=OBGRA[L1,_L_uy];u1z=OBGRA[L1,_L_uz];u2x=(L2>100)?OBGRA[L2,_L_ux]:X2(P)-x1;u2y=(L2>100)?OBGRA[L2,_L_uy]:Y2(P)-y1;u2z=(L2>100)?OBGRA[L2,_L_uz]:Z2(P)-z1;ux=u1y*u2z-u1z*u2y;uy=u1z*u2x-u1x*u2z;uz=u1x*u2y-u1y*u2x;U=sqrt(ux^2+uy^2+uz^2);ux=ux/U;uy=uy/U;uz=uz/U;OBGRA[p,_pa]=ux;OBGRA[p,_pb]=uy;OBGRA[p,_pc]=uz;OBGRA[p,_pd]=(ux*x1+uy*y1+uz*z1);;(show_E3)?calcBorders(p):&squot;&squot;;OBGRA[p,_invalid]=(L2>0)&!coplanarLL(L1,L2);' tipo='función' 
id='calcPerpPlane(p)' algoritmo='sí' expresión='1' local='L,P,ux,uy,uz' hacer='L=OBGRA[p,_Pt1];P=OBGRA[p,_Pt2];ux=OBGRA[L,_L_ux];uy=OBGRA[L,_L_uy];uz=OBGRA[L,_L_uz];OBGRA[p,_pa]=ux;OBGRA[p,_pb]=uy;OBGRA[p,_pc]=uz;OBGRA[p,_pd]=(ux*X2(P)+uy*Y2(P)+uz*Z2(P));;(show_E3)?calcBorders(p):&squot;&squot;;' tipo='función' 
id='calcParalPlane(p)' algoritmo='sí' expresión='1' local='T,P' hacer='T=OBGRA[p,_Pt1];P=OBGRA[p,_Pt2];OBGRA[p,_pa]=OBGRA[T,_pa];OBGRA[p,_pb]=OBGRA[T,_pb];OBGRA[p,_pc]=OBGRA[T,_pc];OBGRA[p,_pd]=(OBGRA[T,_pa]*X2(P)+OBGRA[T,_pb]*Y2(P)+OBGRA[T,_pc]*Z2(P));;(show_E3)?calcBorders(p):&squot;&squot;;' tipo='función' 
id='calcBisector2D(ele)' algoritmo='sí' expresión='1' local='p1,p2,p3,x1,y1,z1,x2,y2,z2,x3,y3,z3,f3,f2,X,Y,Z,ux,uy,uz' hacer='p1=OBGRA[ele,_p1];p2=OBGRA[ele,_p2];p3=OBGRA[ele,_p3];x1=X2(p1);y1=Y2(p1);z1=Z2(p1);x2=X2(p2);y2=Y2(p2);z2=Z2(p2);x3=X2(p3);y3=Y2(p3);z3=Z2(p3);f3=sqrt((x2-x1)^2+(y2-y1)^2+(z2-z1)^2);f2=sqrt((x3-x1)^2+(y3-y1)^2+(z3-z1)^2);X=x1+(x2-x1)*f2+(x3-x1)*f3;Y=y1+(y2-y1)*f2+(y3-y1)*f3;Z=z1+(z2-z1)*f2+(z3-z1)*f3;ux= X-x1;uy= Y-y1;uz= Z-z1;OBGRA[ele,_Le41]=ux;OBGRA[ele,_Le42]=uy;OBGRA[ele,_Le43]=uz;OBGRA[ele,_Le23]=y1*uz-z1*uy;OBGRA[ele,_Le31]=z1*ux-x1*uz;OBGRA[ele,_Le12]=x1*uy-y1*ux;defineLineParams(ele);OBGRA[ele,_is2P]=0;calcLine(ele);' tipo='función' 
id='calcBisector(ele)' algoritmo='sí' expresión='1' local='L1,L2,which,x1,y1,z1,ux,uy,uz' hacer='L1=OBGRA[ele,_p1];L2=OBGRA[ele,_p2];meetLL(L1,L2);x1=_PX_/_PW_;y1=_PY_/_PW_;z1=_PZ_/_PW_;ux=OBGRA[L1,_L_ux]+OBGRA[ele,_which]*OBGRA[L2,_L_ux];uy=OBGRA[L1,_L_uy]+OBGRA[ele,_which]*OBGRA[L2,_L_uy];uz=OBGRA[L1,_L_uz]+OBGRA[ele,_which]*OBGRA[L2,_L_uz];OBGRA[ele,_Le41]=ux;OBGRA[ele,_Le42]=uy;OBGRA[ele,_Le43]=uz;OBGRA[ele,_Le23]=y1*uz-z1*uy;OBGRA[ele,_Le31]=z1*ux-x1*uz;OBGRA[ele,_Le12]=x1*uy-y1*ux;defineLineParams(ele);OBGRA[ele,_is2P]=0;OBGRA[ele,_invalid]=!coplanarLL(L1,L2);calcLine(ele);;' tipo='función' 
id='cfgAngle(s)' algoritmo='sí' expresión='1' local='u,_U_,dx,dy,dz,d,n' inicio='set_Point(P8,OBGRA[s,_p4],OBGRA[s,_p5],OBGRA[s,_p6]);n=0' hacer='u=n/37;_U_=ent(37*u+0.1)%37;dx=(OBGRA[s,_v1x]*(36-_U_)+OBGRA[s,_v2x]*(_U_-1))/35;dy=(OBGRA[s,_v1y]*(36-_U_)+OBGRA[s,_v2y]*(_U_-1))/35;dz=(OBGRA[s,_v1z]*(36-_U_)+OBGRA[s,_v2z]*(_U_-1))/35;d=sqrt(dx^2+dy^2+dz^2);dx=OBGRA[s,_rad]*dx/d;dy=OBGRA[s,_rad]*dy/d;dz=OBGRA[s,_rad]*dz/d;ANG[0,n]=((_U_==0)|(U_==37))?X2(P8):X2(P8)+dx;ANG[1,n]=((_U_==0)|(U_==37))?Y2(P8):Y2(P8)+dy;ANG[2,n]=((_U_==0)|(U_==37))?Z2(P8):Z2(P8)+dz;n=n+1;' mientras='n<=37' tipo='función' 
id='calcAng(p)' algoritmo='sí' expresión='1' local='d1,d2,amp,dx,dy,dz,d' hacer='d1=sqrt(OBGRA[p,_v1x]^2+OBGRA[p,_v1y]^2+OBGRA[p,_v1z]^2);d2=sqrt(OBGRA[p,_v2x]^2+OBGRA[p,_v2y]^2+OBGRA[p,_v2z]^2);OBGRA[p,_v1x]=OBGRA[p,_v1x]*d2;OBGRA[p,_v1y]=OBGRA[p,_v1y]*d2;OBGRA[p,_v1z]=OBGRA[p,_v1z]*d2;OBGRA[p,_v2x]=OBGRA[p,_v2x]*d1;OBGRA[p,_v2y]=OBGRA[p,_v2y]*d1;OBGRA[p,_v2z]=OBGRA[p,_v2z]*d1;dx=OBGRA[p,_v1x]+OBGRA[p,_v2x];dy=OBGRA[p,_v1y]+OBGRA[p,_v2y];dz=OBGRA[p,_v1z]+OBGRA[p,_v2z];d=sqrt(dx^2+dy^2+dz^2);amp=(28+2.0*OBGRA[p,_wdth]);amp=(show_E3)?amp/E3_2.escala:amp/E2.escala;set_Point(p,X2(P8)+amp*dx/d,Y2(P8)+amp*dy/d,Z2(P8)+amp*dz/d);OBGRA[p,_p4]=X2(P8);OBGRA[p,_p5]=Y2(P8);OBGRA[p,_p6]=Z2(P8);OBGRA[p,_rad]=amp*1.5;;' tipo='función' 
id='calcAng3P(p)' algoritmo='sí' expresión='1' local='d1,d2,amp,dx,dy,dz,d' hacer='OBGRA[p,_v1x]=(X2(OBGRA[p,_p3])-X2(OBGRA[p,_p2]));OBGRA[p,_v1y]=(Y2(OBGRA[p,_p3])-Y2(OBGRA[p,_p2]));OBGRA[p,_v1z]=(Z2(OBGRA[p,_p3])-Z2(OBGRA[p,_p2]));OBGRA[p,_v2x]=(X2(OBGRA[p,_p1])-X2(OBGRA[p,_p2]));OBGRA[p,_v2y]=(Y2(OBGRA[p,_p1])-Y2(OBGRA[p,_p2]));OBGRA[p,_v2z]=(Z2(OBGRA[p,_p1])-Z2(OBGRA[p,_p2]));set_Point(P8,X2(OBGRA[p,_p2]),Y2(OBGRA[p,_p2]),Z2(OBGRA[p,_p2]));calcAng(p);;' tipo='función' 
id='calcAngLL(p)' algoritmo='sí' expresión='1' local='L1,L2,x0,y0,z0' hacer='L1=OBGRA[p,_p1];L2=OBGRA[p,_p2];meetLL(L1,L2);x0=_PX_/_PW_;y0=_PY_/_PW_;z0=_PZ_/_PW_;which=OBGRA[p,_which];s1=((which==0)|(which==3))?1:-1;s2=((which==0)|(which==1))?1:-1;set_Point(P8,x0,y0,z0);OBGRA[p,_p4]=x0;OBGRA[p,_p5]=y0;OBGRA[p,_p6]=z0;set_Point(P7,x0+s1*OBGRA[L1,_L_ux],y0+s1*OBGRA[L1,_L_uy],z0+s1*OBGRA[L1,_L_uz]);set_Point(P9,x0+s2*OBGRA[L2,_L_ux],y0+s2*OBGRA[L2,_L_uy],z0+s2*OBGRA[L2,_L_uz]);OBGRA[p,_v1x]=(X2(P9)-X2(P8));OBGRA[p,_v1y]=(Y2(P9)-Y2(P8));OBGRA[p,_v1z]=(Z2(P9)-Z2(P8));OBGRA[p,_v2x]=(X2(P7)-X2(P8));OBGRA[p,_v2y]=(Y2(P7)-Y2(P8));OBGRA[p,_v2z]=(Z2(P7)-Z2(P8));calcAng(p);OBGRA[p,_invalid]=OBGRA[L1,_invalid]|OBGRA[L1,_invalid]|!coplanarLL(L1,L2);' tipo='función' 
id='calcMediatorPlane(p)' algoritmo='sí' expresión='1' local='p1,p2' hacer='p1=OBGRA[p,_Pt1];p2=OBGRA[p,_Pt2];x1=OBGRA[p1,_x];y1=OBGRA[p1,_y];z1=OBGRA[p1,_z];w1=OBGRA[p1,_w];x2=OBGRA[p2,_x];y2=OBGRA[p2,_y];z2=OBGRA[p2,_z];w2=OBGRA[p2,_w];;OBGRA[p,_pa]=x2*w1-x1*w2;OBGRA[p,_pb]=y2*w1-y1*w2;OBGRA[p,_pc]=z2*w1-z1*w2;OBGRA[p,_pd]=(OBGRA[p,_pa]*(x1*w2+x2*w1)+OBGRA[p,_pb]*(y1*w2+y2*w1)+OBGRA[p,_pc]*(z1*w2+z2*w1))/2;;((show_E3|petit_on)&isVisible(p))?calcBorders(p):&squot;&squot;;' tipo='función' 
id='calcMediatrix2D(L)' algoritmo='sí' expresión='1' local='p1,p2,mx,my,ux,uy' hacer='p1=OBGRA[L,_1];p2=OBGRA[L,_2];mx=(X2(p1)+X2(p2))/2;my=(Y2(p1)+Y2(p2))/2;ux=X2(p2)-X2(p1);uy=Y2(p2)-Y2(p1);OBGRA[L,_Le41]=-uy;OBGRA[L,_Le42]= ux;OBGRA[L,_Le43]=0;OBGRA[L,_Le23]=0;OBGRA[L,_Le31]=0;OBGRA[L,_Le12]=uy*my+ux*mx;defineLineParams(L);OBGRA[L,_is2P]=0;calcLine(L);OBGRA[L,_invalid]=(Z2(p1)!=0)|(Z2(p2)!=0);;' tipo='función' 
id='calcRadicalAxis(p)' algoritmo='sí' expresión='1' local='C1,C2,r1,r2,O1,O2,d,q,ux,uy,x1,y1,z1,x2,y2,z2' inicio='C1=OBGRA[p,_p1];C2=OBGRA[p,_p2]' hacer='r1=OBGRA[C1,_r];O1=OBGRA[C1,_centro];r2=OBGRA[C2,_r];O2=OBGRA[C2,_centro];d=dist2D(O1,O2);q=(d^2+r1^2-r2^2)/(2*d^2);ux=q*(X2(O2)-X2(O1));uy=q*(Y2(O2)-Y2(O1));uz=0;x1=X2(O1)+ux;y1=Y2(O1)+uy;z1=0;aux=uy;uy=ux;ux=-aux;OBGRA[p,_Le41]=ux;OBGRA[p,_Le42]=uy;OBGRA[p,_Le43]=uz;OBGRA[p,_Le23]=y1*uz-z1*uy;OBGRA[p,_Le31]=z1*ux-x1*uz;OBGRA[p,_Le12]=x1*uy-y1*ux;defineLineParams(p);OBGRA[p,_is2P]=0;OBGRA[p,_invalid]=OBGRA[C1,_invalid]|OBGRA[C2,_invalid]|(Z2(OBGRA[C1,_centro])!=0)|(Z2(OBGRA[C2,_centro])!=0);(OBGRA[p,_invalid])?&squot;&squot;:calcLine(p);;;' tipo='función' 
id='calcRadicalPlane(p)' algoritmo='sí' expresión='1' local='C1,C2,r1,O1,r2,O2,d,q,ux,uy,uz,x1,y1,z1' inicio='C1=OBGRA[p,_Pt1];C2=OBGRA[p,_Pt2]' hacer='r1=OBGRA[C1,_r];O1=OBGRA[C1,_centro];r2=OBGRA[C2,_r];O2=OBGRA[C2,_centro];d=sqrt((X2(O1)-X2(O2))^2+(Y2(O1)-Y2(O2))^2+(Z2(O1)-Z2(O2))^2);q=(d^2+r1^2-r2^2)/(2*d^2);ux=q*(X2(O2)-X2(O1));uy=q*(Y2(O2)-Y2(O1));uz=q*(Z2(O2)-Z2(O1));x1=X2(O1)+ux;y1=Y2(O1)+uy;z1=Z2(O1)+uz;OBGRA[p,_pa]=ux;OBGRA[p,_pb]=uy;OBGRA[p,_pc]=uz;OBGRA[p,_pd]=(ux*x1+uy*y1+uz*z1);((show_E3|petit_on)&isVisible(p))?calcBorders(p):&squot;&squot;;' tipo='función' 
id='calcMeetCC2D(p,case)' algoritmo='sí' expresión='x' local='C1,C2,r1,r2,O1,O2,d,q,ux,uy,u,v2,v,vx,vy,xm,ym,xp,yp,dm,dp' inicio='C1=OBGRA[p,_p1];C2=OBGRA[p,_p2]' hacer='r1=OBGRA[C1,_r];O1=OBGRA[C1,_centro];r2=OBGRA[C2,_r];O2=OBGRA[C2,_centro];d=dist2D(O1,O2);q=(d^2+r1^2-r2^2)/(2*d^2);ux=q*(X2(O2)-X2(O1));uy=q*(Y2(O2)-Y2(O1));u=sqrt(ux^2+uy^2);v2=r1^2-ux^2-uy^2;OBGRA[p,_invisible]=(v2<0);v=sqrt(v2);vx=-v*uy/u;vy= v*ux/u;xm=X2(O1)+ux-vx;ym=Y2(O1)+uy-vy;xp=X2(O1)+ux+vx;yp=Y2(O1)+uy+vy;OBGRA[p,_p9]=(OBGRA[p,_p9]==0)?sgn(q):OBGRA[p,_p9];((case==0)&(OBGRA[p,_p9]==sgn(q)))?set_Point(p,xm,ym,0):&squot;&squot;;((case==0)&(OBGRA[p,_p9]!=sgn(q)))?set_Point(p,xp,yp,0):&squot;&squot;;((case==1)&(OBGRA[p,_p9]!=sgn(q)))?set_Point(p,xm,ym,0):&squot;&squot;;((case==1)&(OBGRA[p,_p9]==sgn(q)))?set_Point(p,xp,yp,0):&squot;&squot;;OBGRA[p,_invalid]=(abs(Z2(O1))>epsilon)|(abs(Z2(O2))>epsilon);;;' tipo='función' 
id='calcFirstMeetCC2D(p)' algoritmo='no' expresión='calcMeetCC2D(p,0)' tipo='función' 
id='calcSecondMeetCC2D(p)' algoritmo='no' expresión='calcMeetCC2D(p,1)' tipo='función' 
id='calcOtherMeetCC2D(p)' algoritmo='sí' expresión='1' local='C1,C2,r1,r2,O1,O2,d,q,ux,uy,u,v2,v,vx,vy,xm,ym,xp,yp,dm,dp,ccp,pnt' inicio='C1=OBGRA[p,_p1];C2=OBGRA[p,_p2];pnt=OBGRA[p,_p3]' hacer='r1=OBGRA[C1,_r];O1=OBGRA[C1,_centro];r2=OBGRA[C2,_r];O2=OBGRA[C2,_centro];d=dist2D(O1,O2);q=(d^2+r1^2-r2^2)/(2*d^2);ux=q*(X2(O2)-X2(O1));uy=q*(Y2(O2)-Y2(O1));u=sqrt(ux^2+uy^2);v2=r1^2-ux^2-uy^2;OBGRA[p,_invisible]=(v2<0);v=sqrt(v2);vx=-v*uy/u;vy= v*ux/u;xm=X2(O1)+ux-vx;ym=Y2(O1)+uy-vy;xp=X2(O1)+ux+vx;yp=Y2(O1)+uy+vy;;((sqrt((xm-X2(pnt))^2+(ym-Y2(pnt))^2)<=0.001))?set_Point(p,xp,yp,0):set_Point(p,xm,ym,0);;OBGRA[p,_invalid]=(abs(Z2(O1))>epsilon)|(abs(Z2(O2))>epsilon);' tipo='función' 
id='calcMeetLT(p)' algoritmo='sí' expresión='1' local='L,T,Tx,Ty,Tz,Mx,My,Mz,Sx,Sy,Sz,Sw' hacer='L=OBGRA[p,_p1] ;T=OBGRA[p,_p2];Tx= OBGRA[L,_Le41];Ty= OBGRA[L,_Le42];Tz= OBGRA[L,_Le43];Mx= OBGRA[L,_Le23];My= OBGRA[L,_Le31];Mz= OBGRA[L,_Le12];meetWith(OBGRA[T,_pa],OBGRA[T,_pb],OBGRA[T,_pc],-OBGRA[T,_pd]);set_Point(p,Sx,Sy,Sz);;;' tipo='función' 
id='calcMeetCT(p)' algoritmo='sí' expresión='1' local='C,T,P,n,nx,ny,nz,d,dist,mx,my,mz,m' hacer='C=OBGRA[p,_p1] ;T=OBGRA[p,_p2];P=OBGRA[C,_centro];n=sqrt(OBGRA[T,_pa]^2+OBGRA[T,_pb]^2 +OBGRA[T,_pc]^2);d=OBGRA[T,_pd]/n;nx=OBGRA[T,_pa]/n;ny=OBGRA[T,_pb]/n;nz=OBGRA[T,_pc]/n;OBGRA[p,_Nx]=nx;OBGRA[p,_Ny]=ny;OBGRA[p,_Nz]=nz;dist=nx*X2(P)+ny*Y2(P)+nz*Z2(P)-d;OBGRA[p,_xc]= X2(P)-dist*nx;OBGRA[p,_yc]= Y2(P)-dist*ny;OBGRA[p,_zc]= Z2(P)-dist*nz;OBGRA[p,_r]=sqrt(OBGRA[C,_r]^2-dist^2);OBGRA[p,_invalid]=(abs(dist)>=OBGRA[C,_r]);mx=d*nx-OBGRA[p,_xc];my=d*ny-OBGRA[p,_yc];mz=d*nz-OBGRA[p,_zc];m=sqrt(mx^2+my^2+mz^2);mx=mx/m;my=my/m;mz=mz/m;OBGRA[p,_nx]=mx;OBGRA[p,_ny]=my;OBGRA[p,_nz]=mz;OBGRA[p,_tx] =my*nz-mz*ny;OBGRA[p,_ty] =mz*nx-mx*nz;OBGRA[p,_tz] =mx*ny-my*nx;' tipo='función' 
id='calcMeetCC(p)' algoritmo='sí' expresión='1' local='C1,C2,P1,P2,r1,r2,d,dot,nx,ny,nz,d,h,mx,my,mz,m' hacer='C1=OBGRA[p,_p1] ;C2=OBGRA[p,_p2];P1=OBGRA[C1,_centro];P2=OBGRA[C2,_centro];r1=OBGRA[C1,_r] ;r2=OBGRA[C2,_r] ;nx=X2(P2)-X2(P1);ny=Y2(P2)-Y2(P1);nz=Z2(P2)-Z2(P1);d=sqrt(nx^2+ny^2+nz^2);nx=nx/d;ny=ny/d;nz=nz/d;OBGRA[p,_Nx]=nx;OBGRA[p,_Ny]=ny;OBGRA[p,_Nz]=nz;h=(d^2+r1^2-r2^2)/(2*d);OBGRA[p,_xc]= X2(P1)+h*nx;OBGRA[p,_yc]= Y2(P1)+h*ny;OBGRA[p,_zc]= Z2(P1)+h*nz;OBGRA[p,_r]=sqrt(r1^2-h^2);OBGRA[p,_invalid]=(d>=r1+r2)|(d<abs(r2-r1));dot=nx*OBGRA[p,_xc]+ny*OBGRA[p,_yc]+nz*OBGRA[p,_zc];mx=dot*nx-OBGRA[p,_xc];my=dot*ny-OBGRA[p,_yc];mz=dot*nz-OBGRA[p,_zc];m=sqrt(mx^2+my^2+mz^2);mx=mx/m;my=my/m;mz=mz/m;OBGRA[p,_nx]=mx;OBGRA[p,_ny]=my;OBGRA[p,_nz]=mz;OBGRA[p,_tx] =my*nz-mz*ny;OBGRA[p,_ty] =mz*nx-mx*nz;OBGRA[p,_tz] =mx*ny-my*nx;;' tipo='función' 
id='getEq2G(p,x1,y1,x2,y2,x3,y3,x4,y4,x5,y5)' algoritmo='sí' expresión='1' hacer='AssignMmem5(x1^2,x1*y1,y1^2,x1,y1,x2^2,x2*y2,y2^2,x2,y2,x3^2,x3*y3,y3^2,x3,y3,x4^2,x4*y4,y4^2,x4,y4,x5^2,x5*y5,y5^2,x5,y5);AssignVmem5(-1,-1,-1,-1,-1);SolveMSeqV(5);OBGRA[p,_Axx_]=(abs(Smem[0])<epsilon)?0:Smem[0];OBGRA[p,_Bxy_]=(abs(Smem[1])<epsilon)?0:Smem[1];OBGRA[p,_Cyy_]=(abs(Smem[2])<epsilon)?0:Smem[2];OBGRA[p,_Dx_]=(abs(Smem[3])<epsilon)?0:Smem[3];OBGRA[p,_Ey_]=(abs(Smem[4])<epsilon)?0:Smem[4];OBGRA[p,_F_]=1;OBGRA[p,_Eq_]=&squot;(&squot;+OBGRA[p,_Axx_]+&squot;*x+&squot;+OBGRA[p,_Bxy_]+&squot;*y+&squot;+OBGRA[p,_Dx_]+&squot;)*x+(&squot;+OBGRA[p,_Cyy_]+&squot;*y+&squot;+OBGRA[p,_Ey_]+&squot;)*y+&squot;+OBGRA[p,_F_];' tipo='función' 
id='calcConic5Pts(p)' algoritmo='sí' expresión='1' local='p1,p2,p3,p4,p5' inicio='p1=OBGRA[p,_p1];p2=OBGRA[p,_p2];p3=OBGRA[p,_p3];p4=OBGRA[p,_p4];p5=OBGRA[p,_p5]' hacer='(show_E2)?getEq2G(p,X2(p1),Y2(p1),X2(p2),Y2(p2),X2(p3),Y2(p3),X2(p4),Y2(p4),X2(p5),Y2(p5)):&squot;&squot;;(show_E3)?getEq2G(p,x32(p1),y32(p1),x32(p2),y32(p2),x32(p3),y32(p3),x32(p4),y32(p4),x32(p5),y32(p5)):&squot;&squot;;OBGRA[p,_invalid]=OBGRA[p1,_invalid]|OBGRA[p2,_invalid]|OBGRA[p3,_invalid]|OBGRA[p4,_invalid]|OBGRA[p5,_invalid];OBGRA[p,_invalid]=OBGRA[p,_invalid]|!(coplanarPPPP(p1,p2,p3,p4)&coplanarPPPP(p2,p3,p4,p5));' tipo='función' 
id='calcCubic9Pts(p)' algoritmo='sí' expresión='1' local='p1,p2,p3,p4,p5,p5,p7,p8,p9,x1,x2,x3,x4,x5,x6,x7,x8,x9,y1,y2,y3,y4,y5,y6,y7,y8,y9' inicio='p1=OBGRA[p,_p1];p2=OBGRA[p,_p2];p3=OBGRA[p,_p3];p4=OBGRA[p,_p4];p5=OBGRA[p,_p5];p6=OBGRA[p,_p6];p7=OBGRA[p,_p7];p8=OBGRA[p,_p8];p9=OBGRA[p,_p9]' hacer='x1=(show_E3)?x32(p1):X2(p1);y1=(show_E3)?y32(p1):Y2(p1);x2=(show_E3)?x32(p2):X2(p2);y2=(show_E3)?y32(p2):Y2(p2);x3=(show_E3)?x32(p3):X2(p3);y3=(show_E3)?y32(p3):Y2(p3);x4=(show_E3)?x32(p4):X2(p4);y4=(show_E3)?y32(p4):Y2(p4);x5=(show_E3)?x32(p5):X2(p5);y5=(show_E3)?y32(p5):Y2(p5);x6=(show_E3)?x32(p6):X2(p6);y6=(show_E3)?y32(p6):Y2(p6);x7=(show_E3)?x32(p7):X2(p7);y7=(show_E3)?y32(p7):Y2(p7);x8=(show_E3)?x32(p8):X2(p8);y8=(show_E3)?y32(p8):Y2(p8);x9=(show_E3)?x32(p9):X2(p9);y9=(show_E3)?y32(p9):Y2(p9);;AssignMmem9(x1^3,x1^2*y1,x1*y1^2,y1^3,x1^2,x1*y1,y1^2,x1,y1,x2^3,x2^2*y2,x2*y2^2,y2^3,x2^2,x2*y2,y2^2,x2,y2,x3^3,x3^2*y3,x3*y3^2,y3^3,x3^2,x3*y3,y3^2,x3,y3,x4^3,x4^2*y4,x4*y4^2,y4^3,x4^2,x4*y4,y4^2,x4,y4,x5^3,x5^2*y5,x5*y5^2,y5^3,x5^2,x5*y5,y5^2,x5,y5,x6^3,x6^2*y6,x6*y6^2,y6^3,x6^2,x6*y6,y6^2,x6,y6,x7^3,x7^2*y7,x7*y7^2,y7^3,x7^2,x7*y7,y7^2,x7,y7,x8^3,x8^2*y8,x8*y8^2,y8^3,x8^2,x8*y8,y8^2,x8,y8,x9^3,x9^2*y9,x9*y9^2,y9^3,x9^2,x9*y9,y9^2,x9,y9);AssignVmem9(-1,-1,-1,-1,-1,-1,-1,-1,-1);SolveMSeqV(9);OBGRA[p,_3xxx_]=Smem[0];OBGRA[p,_3xxy_]=Smem[1];OBGRA[p,_3xyy_]=Smem[2];OBGRA[p,_3yyy_]=Smem[3];OBGRA[p,_2xx_]=Smem[4];OBGRA[p,_2xy_]=Smem[5];OBGRA[p,_2yy_]=Smem[6];OBGRA[p,_1x_]=Smem[7];OBGRA[p,_1y_]=Smem[8];OBGRA[p,_0_]=1;OBGRA[p,_Eq_]=&squot;&squot;+OBGRA[p,_3xxx_]+&squot;*x^3+&squot;+OBGRA[p,_3xxy_]+&squot;*x^2*y+&squot;+OBGRA[p,_3xyy_]+&squot;*x*y^2+&squot;+OBGRA[p,_3yyy_]+&squot;*y^3+&squot;+OBGRA[p,_2xx_]+&squot;*x^2+&squot;+OBGRA[p,_2xy_]+&squot;*x*y+&squot;+OBGRA[p,_2yy_]+&squot;*y^2+&squot;+OBGRA[p,_1x_]+&squot;*x+&squot;+OBGRA[p,_1y_]+&squot;*y+&squot;+OBGRA[p,_0_];OBGRA[p,_invalid]=OBGRA[p1,_invalid]|OBGRA[p2,_invalid]|OBGRA[p3,_invalid]|OBGRA[p4,_invalid]|OBGRA[p5,_invalid]|OBGRA[p6,_invalid]|OBGRA[p7,_invalid]|OBGRA[p8,_invalid]|OBGRA[p9,_invalid];OBGRA[p,_invalid]=OBGRA[p,_invalid]|(!coplanarPPPP(p1,p2,p3,p4))|(!coplanarPPPP(p2,p3,p4,p5))|(!coplanarPPPP(p3,p4,p5,p6))|(!coplanarPPPP(p4,p5,p6,p7))|(!coplanarPPPP(p5,p6,p7,p8))|(!coplanarPPPP(p6,p7,p8,p9))' tipo='función' 
id='defEq(p)' algoritmo='sí' expresión='1' local='x0,x1,x2,x3,x4,x5,y0,y1,y2,y3,y4,y5,x,y,value,discr' inicio='OBGRA[p,_Eq_]=&squot;&squot;' hacer='x0=CURVA[ncurva,2];y0=CURVA[ncurva,3];x1=CURVA[ncurva,5];y1=CURVA[ncurva,6];x2=CURVA[ncurva,8];y2=CURVA[ncurva,9];x3=CURVA[ncurva,11];y3=CURVA[ncurva,12];x4=CURVA[ncurva,14];y4=CURVA[ncurva,15];x5=CURVA[ncurva,17];y5=CURVA[ncurva,18];getEq2G(p,x1,y1,x2,y2,x3,y3,x4,y4,x5,y5);x=x0;y=y0;discr= OBGRA[p,_Bxy_]^2-4*OBGRA[p,_Axx_]*OBGRA[p,_Cyy_];value=abs(_Eval_(OBGRA[p,_Eq_]));OBGRA[p,_Eq_]=((value<=0.000001)&(show_E2|(discr<0)))?OBGRA[p,_Eq_]:&squot;&squot;;' tipo='función' 
id='doTestEq3D()' algoritmo='sí' expresión='testOk' local='x3,y3,nx,ny,nz,nn,testOk' hacer='nx=(y1-y0)*(z2-z0)-(z1-z0)*(y2-y0);ny=(z1-z0)*(x2-x0)-(x1-x0)*(z2-z0);nz=(x1-x0)*(y2-y0)-(y1-y0)*(x2-x0);nn=sqrt(nx^2+ny^2+nz^2);nx=nx/nn;ny=ny/nn;nz=nz/nn;y3=E3Ryx*nx+E3Ryy*ny+E3Ryz*nz;z3=E3Rzx*nx+E3Rzy*ny+E3Rzz*nz;testOk=(doTest3D)?((y3^2+z3^2)<0.95):1;' tipo='función' 
id='getCurvePointInfo()' algoritmo='sí' expresión='1' local='testOk' hacer='CURVA[ncurva,2+n3]=(testEq3D)?x32(p1):X2(p1);CURVA[ncurva,3+n3]=(testEq3D)?y32(p1):Y2(p1);CURVA[ncurva,4+n3]=(testEq3D)?0:Z2(p1);x0=(testEq3D&(n=0))?X2(p1):x0;y0=(testEq3D&(n=0))?Y2(p1):y0;z0=(testEq3D&(n=0))?Z2(p1):z0;x1=(testEq3D&(n=2))?X2(p1):x1;y1=(testEq3D&(n=2))?Y2(p1):y1;z1=(testEq3D&(n=2))?Z2(p1):z1;x2=(testEq3D&(n=4))?X2(p1):x2;y2=(testEq3D&(n=4))?Y2(p1):y2;z2=(testEq3D&(n=4))?Z2(p1):z2;u=u+du;n=n+1;n3=n3+3;testOk=(testEq3D&(n==NC))?doTestEq3D():1;((NC==6)&(n==NC)&testOk)?defEq(p):&squot;&squot;;' tipo='función' 
id='calcCurveForLine(p,p1,p2,L,ncurva)' algoritmo='sí' expresión='1' local='Xi,Yi,Zi,Wi,cx,cy,cz,Nx,Ny,Nz,N,t_x1,t_y1,t_z1,t_x2,t_y2,t_z2,testEq3D,NC,u,du,n,n3,cu,su,xL,yL,wL,zL,X1,Y1,Z1,W1,x0,y0,z0,x1,y1,z1,x2,y2,z2,doTest3D' inicio='NC=NCurve;Xi=OBGRA[p2,_x];Yi=OBGRA[p2,_y];Zi=OBGRA[p2,_z];Wi=OBGRA[p2,_w];CURVA[ncurva,0]=p;X1=OBGRA[L,_L_x1];Y1=OBGRA[L,_L_y1];Z1=OBGRA[L,_L_z1];Nx=OBGRA[L,_L_ux];Ny=OBGRA[L,_L_uy];Nz=OBGRA[L,_L_uz];N=sqrt(Nx^2+Ny^2+Nz^2)/sqrt(X1^2+Y1^2+Z1^2+1);Nx=Nx/N;Ny=Ny/N;Nz=Nz/N;NC=NCurva;NC3=3*NC;du=(NC==6)?pi/NC:2*pi/NC;testEq3D=show_E3&(NC==6);u=du/2;n=0;n3=0;' hacer='cu=cos(u);su=sen(u);xL=X1*cu+Nx*su;yL=Y1*cu+Ny*su;zL=Z1*cu+Nz*su;wL=cu;set_Point_4D(p2,xL,yL,zL,wL);updateLocal(0,p2+1,p1);;getCurvePointInfo();;CURVA[ncurva,2+NC3]=CURVA[ncurva,2];CURVA[ncurva,3+NC3]=CURVA[ncurva,3];CURVA[ncurva,4+NC3]=CURVA[ncurva,4];(n==NC)?set_Point_4D(p2,Xi,Yi,Zi,Wi):&squot;&squot;;(n==NC)?updateLocal(0,p2,p1):&squot;&squot;;' mientras='n<NC' tipo='función' 
id='calcCurveForCircle(p,p1,p2,c,ncurva)' algoritmo='sí' expresión='1' local='_x0_,_y0_,_z0_,cx,cy,cr,n,n3,u,du,testEq3D,x0,y0,z0,x1,y1,z1,x2,y2,z2' inicio='CURVA[ncurva,0]=p;_x0_=OBGRA[p2,_x];_y0_=OBGRA[p2,_y];_z0_=OBGRA[p2,_z];u=0;NC=NCurva;du=2*pi/NC;cx=OBGRA[OBGRA[c,_centro],_x];cy=OBGRA[OBGRA[c,_centro],_y];cr=OBGRA[c,_r];testEq3D=show_E3&(NC==6);n=0;n3=0' hacer='OBGRA[p2,_x]=cx+cr*cos(u);OBGRA[p2,_y]=cy+cr*sen(u);updateLocal(0,p1,p2);;getCurvePointInfo();OBGRA[p2,_x]=(n>NC)?_x0_:OBGRA[p2,_x];OBGRA[p2,_y]=(n>NC)?_y0_:OBGRA[p2,_y];OBGRA[p2,_z]=(n>NC)?_z0_:OBGRA[p2,_z];;(n>NC)?updateLocal(0,p1,p2):&squot;&squot;;' mientras='n<=NC' tipo='función' 
id='calcCurveForCirc3D(p,p1,p2,c,ncurva)' algoritmo='sí' expresión='1' local='_x0_,_y0_,_z0_,cx,cy,cz,cr,nx,ny,nz,tx,ty,tz,cu,su,n,n3,u,du,testEq3D,x0,y0,z0,x1,y1,z1,x2,y2,z2' inicio='CURVA[ncurva,0]=p;_x0_=OBGRA[p2,_x];_y0_=OBGRA[p2,_y];_z0_=OBGRA[p2,_z];u=0;NC=NCurva;du=2*pi/NC;cx=OBGRA[c,_xc];cy=OBGRA[c,_yc];cz=OBGRA[c,_zc];nx=OBGRA[c,_nx];ny=OBGRA[c,_ny];nz=OBGRA[c,_nz];tx=OBGRA[c,_tx];ty=OBGRA[c,_ty];tz=OBGRA[c,_tz];cr=OBGRA[c,_r];n=0;n3=0' hacer='cu=cos(u);su=sen(u);OBGRA[p2,_x]=cx+cr*(nx*cu+tx*su);OBGRA[p2,_y]=cy+cr*(ny*cu+ty*su);OBGRA[p2,_z]=cz+cr*(nz*cu+tz*su);updateLocal(0,p1,p2);;getCurvePointInfo();;OBGRA[p2,_x]=(n>NC)?_x0_:OBGRA[p2,_x];OBGRA[p2,_y]=(n>NC)?_y0_:OBGRA[p2,_y];OBGRA[p2,_z]=(n>NC)?_z0_:OBGRA[p2,_z];(n>NC)?updateLocal(0,p1,p2):&squot;&squot;;;;' mientras='n<=NC' tipo='función' 
id='calcCurveForSegment(p,p1,p2,c,ncurva)' algoritmo='sí' expresión='1' local='n,n3,u,du,_xi_,_yi_,_zi_,_X0_,_Y0_,_Z0_,_u_,_v_,_w_,S' inicio='CURVA[ncurva,0]=p;_xi_=OBGRA[p2,_x];_yi_=OBGRA[p2,_y];_zi_=OBGRA[p2,_z];u=epsilon;du=(1-2*epsilon)/NCurva;S=OBGRA[p2,_cnstr];_X0_=X2(OBGRA[S,_1]);_Y0_=Y2(OBGRA[S,_1]);_Z0_=Z2(OBGRA[S,_1]);_u_=X2(OBGRA[S,_2])-_X0_;_v_=Y2(OBGRA[S,_2])-_Y0_;_z_=Z2(OBGRA[S,_2])-_Z0_;n=0;n3=0' hacer='OBGRA[p2,_x]=_X0_+u*_u_;OBGRA[p2,_y]=_Y0_+u*_v_;OBGRA[p2,_z]=_Z0_+u*_w_;updateLocal(0,p1,p2);CURVA[ncurva,2+n3]=X2(p1);CURVA[ncurva,3+n3]=Y2(p1);CURVA[ncurva,4+n3]=Z2(p1);u=u+du;n=n+1;n3=n3+3;OBGRA[p2,_x]=(n>NCurva)?_xi_:OBGRA[p2,_x];OBGRA[p2,_y]=(n>NCurva)?_yi_:OBGRA[p2,_y];OBGRA[p2,_z]=(n>NCurva)?_zi_:OBGRA[p2,_z];(n>NCurva)?updateLocal(0,p1,p2):&squot;&squot;;' mientras='n<=NCurva' tipo='función' 
id='calcSurfaceForLine(p,p1,p2,L,nr)' algoritmo='sí' expresión='1' local='Xi,Yi,Zi,Wi,X1,Y1,Z1,W1,Nx,Ny,Nz,N,t_x1,t_y1,t_z1,t_x2,t_y2,t_z2,test,u,du,n,n6,cu,su,xL,yL,zL,wL,isL,maxz,x0,y0,z0,Ux,Uy,Uz,Vx,Vy,Vz,desvio' inicio='Xi=OBGRA[p2,_x];Yi=OBGRA[p2,_y];Zi=OBGRA[p2,_z];Wi=OBGRA[p2,_w];REGLADO[OBGRA[p,_p3],0]=p;isL=OBGRA[p1,_isLine];X1=OBGRA[L,_L_x1];Y1=OBGRA[L,_L_y1];Z1=OBGRA[L,_L_z1];Nx=OBGRA[L,_L_ux];Ny=OBGRA[L,_L_uy];Nz=OBGRA[L,_L_uz];Nw=0;N=sqrt(Nx^2+Ny^2+Nz^2+Nw^2)/sqrt(X1^2+Y1^2+Z1^2+1);Nx=Nx/N;Ny=Ny/N;Nz=Nz/N;N_Reglas=72;du=2*pi/N_Reglas;u=du/2;n=0;n6=0;maxz=0;desvio=0;;' hacer='cu=cos(u);su=sen(u);xL=X1*cu+Nx*su;yL=Y1*cu+Ny*su;zL=Z1*cu+Nz*su;wL=cu;set_Point_4D(p2,xL,yL,zL,wL);updateLocal(0,p2+1,p1);REGLADO[nr,2+n6]=(isL)?OBGRA[p1,_3DLx1_]:X2(OBGRA[p1,_1]);REGLADO[nr,3+n6]=(isL)?OBGRA[p1,_3DLy1_]:Y2(OBGRA[p1,_1]);REGLADO[nr,4+n6]=(isL)?OBGRA[p1,_3DLz1_]:Z2(OBGRA[p1,_1]);REGLADO[nr,5+n6]=(isL)?OBGRA[p1,_3DLx2_]:X2(OBGRA[p1,_2]);REGLADO[nr,6+n6]=(isL)?OBGRA[p1,_3DLy2_]:Y2(OBGRA[p1,_2]);REGLADO[nr,7+n6]=(isL)?OBGRA[p1,_3DLz2_]:Z2(OBGRA[p1,_2]);x0=(n==0)?OBGRA[p1,_3DLx2_]-OBGRA[p1,_3DLx1_]:x0;y0=(n==0)?OBGRA[p1,_3DLy2_]-OBGRA[p1,_3DLy1_]:y0;z0=(n==0)?OBGRA[p1,_3DLz2_]-OBGRA[p1,_3DLz1_]:z0;Ux=(n==1)?(OBGRA[p1,_3DLy2_]-OBGRA[p1,_3DLy1_])*z0-(OBGRA[p1,_3DLz2_]-OBGRA[p1,_3DLz1_])*y0:Ux;Uy=(n==1)?(OBGRA[p1,_3DLz2_]-OBGRA[p1,_3DLz1_])*x0-(OBGRA[p1,_3DLx2_]-OBGRA[p1,_3DLx1_])*z0:Uy;Uz=(n==1)?(OBGRA[p1,_3DLx2_]-OBGRA[p1,_3DLx1_])*y0-(OBGRA[p1,_3DLy2_]-OBGRA[p1,_3DLy1_])*x0:Uz;Vx=((n>1)&(n<4)&(desvio<epsilon))?(OBGRA[p1,_3DLy2_]-OBGRA[p1,_3DLy1_])*z0-(OBGRA[p1,_3DLz2_]-OBGRA[p1,_3DLz1_])*y0:Vx;Vy=((n>1)&(n<4)&(desvio<epsilon))?(OBGRA[p1,_3DLz2_]-OBGRA[p1,_3DLz1_])*x0-(OBGRA[p1,_3DLx2_]-OBGRA[p1,_3DLx1_])*z0:Vy;Vz=((n>1)&(n<4)&(desvio<epsilon))?(OBGRA[p1,_3DLx2_]-OBGRA[p1,_3DLx1_])*y0-(OBGRA[p1,_3DLy2_]-OBGRA[p1,_3DLy1_])*x0:Vz;desvio=((n>1)&(n<4)&(desvio<epsilon))?max(desvio,(Uy*Vz-Uz*Vy)^2+(Uz*Vx-Ux*Vz)^2+ (Ux*Vy-Uy*Vx)^2):desvio;maxz=max(maxz,max(abs(REGLADO[nr,4+n6]),abs(REGLADO[nr,7+n6])));OBGRA[p,_flat_]=(maxz<epsilon)|(desvio<epsilon);u=u+du;n=n+1;n6=n6+6;(n>N_Reglas)?set_Point_4D(p2,Xi,Yi,Zi,Wi):&squot;&squot;;(n>N_Reglas)?updateLocal(0,p2,p1):&squot;&squot;;;;' mientras='n<=N_Reglas' tipo='función' 
id='calcSurfaceForCircle(p,p1,p2,c,nr)' algoritmo='sí' expresión='1' local='n,n6,u,du,_x0_,_y0_,cx,cy,cr,maxz' inicio='REGLADO[OBGRA[p,_p3],0]=p;_x0_=OBGRA[p2,_x];_y0_=OBGRA[p2,_y];u=0;du=2*pi/N_Reglas;cx=OBGRA[OBGRA[c,_centro],_x];cy=OBGRA[OBGRA[c,_centro],_y];cr=OBGRA[c,_r];n=0;n6=0;maxz=0' hacer='OBGRA[p2,_x]=cx+cr*cos(u);OBGRA[p2,_y]=cy+cr*sen(u);updateLocal(0,p2,p1);;REGLADO[nr,2+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLx1_]:X2(OBGRA[p1,_1]);REGLADO[nr,3+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLy1_]:Y2(OBGRA[p1,_1]);REGLADO[nr,4+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLz1_]:Z2(OBGRA[p1,_1]);REGLADO[nr,5+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLx2_]:X2(OBGRA[p1,_2]);REGLADO[nr,6+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLy2_]:Y2(OBGRA[p1,_2]);REGLADO[nr,7+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLz2_]:Z2(OBGRA[p1,_2]);maxz=max(maxz,max(abs(REGLADO[nr,4+n6]),abs(REGLADO[nr,7+n6])));OBGRA[p,_flat_]=(maxz<epsilon);u=u+du;n=n+1;n6=n6+6;OBGRA[p2,_x]=(n>N_Reglas)?_x0_:OBGRA[p2,_x];OBGRA[p2,_y]=(n>N_Reglas)?_y0_:OBGRA[p2,_y];(n>N_Reglas)?updateLocal(0,p2,p1):&squot;&squot;;' mientras='n<=N_Reglas' tipo='función' 
id='calcSurfaceForCirc3D(p,p1,p2,c,nr)' algoritmo='sí' expresión='1' local='n,n6,cx,cy,cz,cr,nx,ny,nz,tx,ty,tz,cu,su,u,du,maxz' inicio='REGLADO[OBGRA[p,_p3],0]=p;_x0_=OBGRA[p2,_x];_y0_=OBGRA[p2,_y];u=0;du=2*pi/N_Reglas;cx=OBGRA[c,_xc];cy=OBGRA[c,_yc];cz=OBGRA[c,_zc];nx=OBGRA[c,_nx];ny=OBGRA[c,_ny];nz=OBGRA[c,_nz];tx=OBGRA[c,_tx];ty=OBGRA[c,_ty];tz=OBGRA[c,_tz];cr=OBGRA[c,_r];n=0;n6=0;maxz=0' hacer='cu=cos(u);su=sen(u);OBGRA[p2,_x]=cx+cr*(nx*cu+tx*su);OBGRA[p2,_y]=cy+cr*(ny*cu+ty*su);OBGRA[p2,_z]=cz+cr*(nz*cu+tz*su);updateLocal(0,p2,p1);;REGLADO[nr,2+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLx1_]:X2(OBGRA[p1,_1]);REGLADO[nr,3+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLy1_]:Y2(OBGRA[p1,_1]);REGLADO[nr,4+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLz1_]:Z2(OBGRA[p1,_1]);REGLADO[nr,5+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLx2_]:X2(OBGRA[p1,_2]);REGLADO[nr,6+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLy2_]:Y2(OBGRA[p1,_2]);REGLADO[nr,7+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLz2_]:Z2(OBGRA[p1,_2]);maxz=max(maxz,max(abs(REGLADO[nr,4+n6]),abs(REGLADO[nr,7+n6])));OBGRA[p,_flat_]=(maxz<epsilon);u=u+du;n=n+1;n6=n6+6;OBGRA[p2,_x]=(n>N_Reglas)?_x0_:OBGRA[p2,_x];OBGRA[p2,_y]=(n>N_Reglas)?_y0_:OBGRA[p2,_y];OBGRA[p2,_z]=(n>N_Reglas)?_z0_:OBGRA[p2,_z];(n>N_Reglas)?updateLocal(0,p2,p1):&squot;&squot;;' mientras='n<=N_Reglas' tipo='función' 
id='calcSurfaceForSegment(p,p1,p2,c,nr)' algoritmo='sí' expresión='1' local='n,u,du,_xi_,_yi_,cx,cy,c,_X0_,_Y0_,_u_,_v_,S,n6' inicio='REGLADO[OBGRA[p,_p3],0]=p;_xi_=OBGRA[p2,_x];_yi_=OBGRA[p2,_y];u=epsilon;du=(1-2*epsilon)/(N_Reglas-1);S=OBGRA[p2,_cnstr];_X0_=X2(OBGRA[S,_1]);_Y0_=Y2(OBGRA[S,_1]);_u_=X2(OBGRA[S,_2])-_X0_;_v_=Y2(OBGRA[S,_2])-_Y0_;n=0;n6=0;;' hacer='OBGRA[p2,_x]=_X0_+u*_u_;OBGRA[p2,_y]=_Y0_+u*_v_;updateLocal(0,p1,p2);;REGLADO[nr,2+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLx1_]:X2(OBGRA[p1,_1]);REGLADO[nr,3+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLy1_]:Y2(OBGRA[p1,_1]);REGLADO[nr,4+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLz1_]:Z2(OBGRA[p1,_1]);REGLADO[nr,5+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLx2_]:X2(OBGRA[p1,_2]);REGLADO[nr,6+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLy2_]:Y2(OBGRA[p1,_2]);REGLADO[nr,7+n6]=(OBGRA[p1,_isLine])?OBGRA[p1,_3DLz2_]:Z2(OBGRA[p1,_2]);;u=u+du;n=n+1;n6=n6+6;OBGRA[p2,_x]=(n>N_Reglas)?_xi_:OBGRA[p2,_x];OBGRA[p2,_y]=(n>N_Reglas)?_yi_:OBGRA[p2,_y];(n>N_Reglas)?updateLocal(0,p1,p2):&squot;&squot;;' mientras='n<=N_Reglas' tipo='función' 
id='calcCurve(p)' algoritmo='sí' expresión='1' local='CNSTR,TYPE,is_surface,p1,p2,ncor,isC,isL,isS,doIt,NC0,tryEq,discr' inicio='OBGRA[p,_Eq_]=&squot;&squot;;p1=OBGRA[p,_p1];p2=OBGRA[p,_p2];ncor=OBGRA[p,_p3]' hacer='calculatingCurve=1;_in_Curve_or_Family_=1 ;doIt=(OBGRA[p,_p2]!=selOBGRA)|!E2.mouse_pressed;CNSTR=OBGRA[p2,_cnstr];TYPE= OBGRA[CNSTR,_type];isC3=doIt&(TYPE ==circ3D);isC=doIt&(TYPE ==circle);isL=doIt&(TYPE ==segment)&(OBGRA[CNSTR,_isLine]);isS=doIt&(TYPE ==segment)&(!OBGRA[CNSTR,_isLine]);;is_surface=(OBGRA[p1,_type]==segment);;NC0=NCurva;NCurva=6;(isL&(!is_surface))?calcCurveForLine(p,p1,p2,CNSTR,ncor):&squot;&squot;;(isC&(!is_surface))?calcCurveForCircle(p,p1,p2,CNSTR,ncor):&squot;&squot;;NCurva=NC0;(isL&!is_surface)?calcCurveForLine(p,p1,p2,CNSTR,ncor):&squot;&squot;;(isS&!is_surface)?calcCurveForSegment(p,p1,p2,CNSTR,ncor):&squot;&squot;;(isC&!is_surface)?calcCurveForCircle(p,p1,p2,CNSTR,ncor):&squot;&squot;;(isC3&!is_surface)?calcCurveForCirc3D(p,p1,p2,CNSTR,ncor):&squot;&squot;;;(isL&is_surface)?calcSurfaceForLine(p,p1,p2,CNSTR,ncor):&squot;&squot;;(isC&is_surface)?calcSurfaceForCircle(p,p1,p2,CNSTR,ncor):&squot;&squot;;(isC3&is_surface)?calcSurfaceForCirc3D(p,p1,p2,CNSTR,ncor):&squot;&squot;;(isS&is_surface)?calcSurfaceForSegment(p,p1,p2,CNSTR,ncor):&squot;&squot;;;OBGRA[p,_invalid]=OBGRA[OBGRA[p,_p1],_invalid]|OBGRA[OBGRA[p,_p2],_invalid];_in_Curve_or_Family_=0;calculatingCurve=0;' tipo='función' 
id='countCurvasYReglados()' algoritmo='sí' expresión='1' local='_nn_' inicio='num_curvas=0;num_reglados=0;num_polys=0;_nn_=minNOG' hacer='num_reglados=((OBGRA[_nn_,_type]==curve)&(OBGRA[_nn_,_es_reglado_]==1))?num_reglados+1:num_reglados;num_curvas=((OBGRA[_nn_,_type]==curve)&(OBGRA[_nn_,_es_reglado_]!=1))?num_curvas+1:num_curvas;num_polys=((OBGRA[_nn_,_type]==triangle)&(OBGRA[_nn_,_p4]>=minNOG))?num_polys+2:num_polys;_nn_=_nn_+1;' mientras='_nn_<NOGP' tipo='función' 
id='updateLines()' algoritmo='sí' expresión='1' local='n,doit' inicio='n=101' hacer='doit= OBGRA[n,_isLine]&(OBGRA[n,_type]==segment);doit=doit|((OBGRA[n,_type]==curve)&(OBGRA[OBGRA[n,_p1],_type]==segment)&(OBGRA[OBGRA[n,_p1],_isLine]));(doit)?_Eval_(OBGRA[n,_func]):&squot;&squot;;n=n+1;' mientras='n<NOG' tipo='función' 
id='calcE3R()' algoritmo='sí' expresión='1' local='SX,SY,SZ,Kx,Ky,Kz,K,A,ca,sa,umca,E3R,dotP' hacer='SX=(E3.mouse_pressed)?(E3.mouse_x*E3.escala*BACK._w/Ew-E3.Ox)/48:0;SY=(E3.mouse_pressed)?(E3.mouse_y*E3.escala*BACK._h/Eh-E3.Oy)/48:0;SZ=max(0,100-SX^2-SY^2);//(SX,SY,SZ)x(ROT_x,ROT_y,0);Kx= SX*ROT_y-SY*ROT_x;Ky= SY*0    -SZ*ROT_y;Kz= SZ*ROT_x-SX*0;K=sqrt(Kx^2+Ky^2+Kz^2);Kx=(K!=0)?4*Kx/K:1;Ky=(K!=0)?1*Ky/K:0;Kz=(K!=0)?1*Kz/K:0;A=K/900;ca=cos(A);sa=sen(A);umca=1-ca;//Formula de Rodrigues;//x=ca*x+sa*(Ky*z-Kz*y)+umca*Kx*(Kx*x+Ky*y+Kz*z);//y=ca*y+sa*(Kz*x-Kx*z)+umca*Ky*(Kx*x+Ky*y+Kz*z);//z=ca*z+sa*(Kx*y-Ky*x)+umca*Kz*(Kx*x+Ky*y+Kz*z);dE3Rxx= ca    +umca*Kx*Kx;dE3Rxy=-sa*Kz +umca*Kx*Ky;dE3Rxz= sa*Ky +umca*Kx*Kz;dE3Ryx= sa*Kz +umca*Ky*Kx;dE3Ryy= ca    +umca*Ky*Ky;dE3Ryz=-sa*Kx +umca*Ky*Kz;dE3Rzx=-sa*Ky +umca*Kz*Kx;dE3Rzy= sa*Kx +umca*Kz*Ky;dE3Rzz= ca    +umca*Kz*Kz;;E3R0xx=E3Rxx;E3R0xy=E3Rxy;E3R0xz=E3Rxz;E3R0yx=E3Ryx;E3R0yy=E3Ryy;E3R0yz=E3Ryz;E3R0zx=E3Rzx;E3R0zy=E3Rzy;E3R0zz=E3Rzz;E3Rxx=dE3Rxx*E3R0xx+dE3Rxy*E3R0yx+dE3Rxz*E3R0zx;E3Rxy=dE3Rxx*E3R0xy+dE3Rxy*E3R0yy+dE3Rxz*E3R0zy;E3Rxz=dE3Rxx*E3R0xz+dE3Rxy*E3R0yz+dE3Rxz*E3R0zz;E3R=sqrt(E3Rxx^2+E3Rxy^2+E3Rxz^2);E3Rxx=E3Rxx/E3R;E3Rxy=E3Rxy/E3R;E3Rxz=E3Rxz/E3R;E3Ryx=dE3Ryx*E3R0xx+dE3Ryy*E3R0yx+dE3Ryz*E3R0zx;E3Ryy=dE3Ryx*E3R0xy+dE3Ryy*E3R0yy+dE3Ryz*E3R0zy;E3Ryz=dE3Ryx*E3R0xz+dE3Ryy*E3R0yz+dE3Ryz*E3R0zz;dotP=E3Rxx*E3Ryx+E3Rxy*E3Ryy+E3Rxz*E3Ryz;E3Ryx=E3Ryx-dotP*E3Rxx;E3Ryy=E3Ryy-dotP*E3Rxy;E3Ryz=E3Ryz-dotP*E3Rxx;E3R=sqrt(E3Ryx^2+E3Ryy^2+E3Ryz^2);E3Ryx=E3Ryx/E3R;E3Ryy=E3Ryy/E3R;E3Ryz=E3Ryz/E3R;E3Rzx=(E3Rxy*E3Ryz-E3Rxz*E3Ryy);E3Rzy=(E3Rxz*E3Ryx-E3Rxx*E3Ryz);E3Rzz=(E3Rxx*E3Ryy-E3Rxy*E3Ryx);' tipo='función' 
id='initE3R(hay,roty,rotz)' algoritmo='sí' expresión='1' local='A,cz,sz,cy,sy' hacer='A=rotz*pi/180;cz=cos(A);sz=sen(A);A=roty*pi/180;cy=cos(A);sy=sen(A);E3Rxx=(hay)?ROTAR[0,0]: cz*cy;E3Rxy=(hay)?ROTAR[0,1]:-sz*cy;E3Rxz=(hay)?ROTAR[0,2]:    sy;E3Ryx=(hay)?ROTAR[1,0]: sz;E3Ryy=(hay)?ROTAR[1,1]: cz;E3Ryz=(hay)?ROTAR[1,2]: 0;E3Rzx=(hay)?ROTAR[2,0]:-cz*sy;E3Rzy=(hayROTAR)?ROTAR[2,1]: sz*sy;E3Rzz=(hayROTAR)?ROTAR[2,2]:    cy;calcE3R();' tipo='función' 
id='calcSpaceParams(doGraphs)' algoritmo='sí' expresión='1' local='epsilon' inicio='amp_3D=0.75;amp_box=1;E2.escala=_escala_*sqrtszfctr;E2.escala=(reading)?E2.escala/2:E2.escala;epsilon=0.0001/E2.escala;fpixE2esc=48/E2.escala;szAxis=96/E2.escala' hacer='E3.escala=E2.escala*amp_3D;E3.Ojo.x=sqrt(BACK._w^2+BACK._h^2);Ojo.x=E3.Ojo.x/E3.escala;Ojo.y=E3.Ojo.y/E3.escala;Ojo.z=E3.Ojo.y/E3.escala;E2.pixelW2=amp_box*Ew/E2.escala;E2.pixelH2=amp_box*Eh/E2.escala;Ex.pixelH2=amp_box*Eh/E2.escala;E2.pixelW=E2.pixelW2/2;E2.pixelH=E2.pixelH2/2;Ex.pixelH=Ex.pixelH2/2;O.x=-E2.Ox/E2.escala;O.y= E2.Oy/E2.escala;O.z= Ex.Oy/E2.escala;E2.pixOx= E2.Ox/E2.escala;E2.pixOy=-E2.Oy/E2.escala;E2.pixOz=-Ex.Oy/E2.escala;_mx_=O.x-E2.pixelW;_Mx_=O.x+E2.pixelW;_my_=O.y-E2.pixelH;_My_=O.y+E2.pixelH;_mz_=O.z-Ex.pixelH;_Mz_=O.z+Ex.pixelH;_mxe_=_mx_+epsilon;_Mxe_=_Mx_-epsilon;_mye_=_my_+epsilon;_Mye_=_My_-epsilon;_mze_=_mz_+epsilon;_Mze_=_Mz_-epsilon;E3_2.Ox=E3.Ox;E3_2.Oy=E3.Oy;E3_2.escala=E3.escala;(doGraphs)?updateOBGRAs():updateLines();;;' tipo='función' 
id='updateLocal(do_curves,p1,p2)' algoritmo='sí' expresión='1' local='_k_,minp,maxp,doIt' inicio='minp=min(p1,p2);maxp=max(p1,p2);_k_=minp' hacer='doIt=(OBGRA[_k_,_func]!=&squot;&squot;)&(do_curves|(OBGRA[_k_,_type]!=curve));doIt=doIt&(!(do_curves&(selOBGRA>0)&(OBGRA[_k_,_type]==curve)&(OBGRA[_k_,_p2]==selOBGRA)));doIt=doIt|(doAll&(!calculatingCurve)&(show_E3|petit_on));(doIt)?_Eval_(OBGRA[_k_,_func]):&squot;&squot;;_k_=_k_+1;;;' mientras='_k_<=maxp' tipo='función' info='donde se calculan los objetos gráficos' 
id='updateOBGRAs()' algoritmo='sí' expresión='1' local='_kk_' inicio='_kk_=101' hacer='_Eval_(OBGRA[_kk_,_func]);_kk_=_kk_+1;' mientras='_kk_<NOG' tipo='función' 
</script>

<script type="descartes/library" id="biblioteca/ProGeo3D_def.txt">
id='OBGRA' matriz='sí' evaluar='una-sola-vez' columnas='400' filas='100' expresión='maxOBGRA=499;//_type;point=1;segment=2;control=3;triangle=4;plane=5;angle=6;curve=7;circle=8;sphere=9;circ3D=10;conic5pts=11;cubic9pts=12;;// GENERALES, PUNTOS, CONTROLES y SEGMENTOS;_1=0;_2=1;_x=0;_y=1;_z=2;_w=3;_type=4;_col=5;_wdth=6;_name=7;_subix=8;_show=9;_func=10;_cnstr=11 // constricción;_oculto=12;_invisible=13;_constr=14  // constructor;_rastro=15;_isLine=16;_es_Reglado_=17;_invalid=18;_cnstool_=19;;// AUXILIARES;_p1=21;_p2=22;_p3=23;_p4=24;_p5=25;_p6=26;_p7=27;_p8=28;_p9=29;;// CONTROLES e INTERSECCIONES;_prprtn=30;_side=31;_otherP=32;_dirx=33;_diry=33;_dirz=33;;// ÁNGULOS;_v1x=30;_v1y=31;_v1z=32;_v2x=33;_v2y=34;_v2z=35;_rad=36;;// PLANOS;_Pt1=30;_Pt2=31;_pa=32;_pb=33;_pc=34;_pd=35;_vsP=36;_cut=37;_npo=38 //needs 1+6*3=19 free for border points;_np1=57 //needs 1+6*3=19 free for _vsP border1;_np2=76 //needs 1+6*3=19 free for _vsP border2 top=95;;// RECTAS y SEGMENTOS;_crossx=30;_crossy=31;_crossw=32;_crossz=32;_3DLx1_=33;_3DLy1_=34;_3DLz1_=35;_3DLx2_=36;_3DLy2_=37;_3DLz2_=38;_L_x0=40;_L_y0=41;_L_w0=42;_L_z0=42;_L_x1=43;_L_y1=44;_L_z1=45;_L_x2=46;_L_y2=47;_L_z2=48;_L_ux=49;_L_uy=50;_L_uz=51;_vsL=52;_xin=53;_near1=54;_near2=55;_is2P=56;_is2D=57;_a1=58;_b1=59;_c1=60;_d1=61;_a2=62;_b2=63;_c2=64;_d2=65;_Le41=71;_Le42=72;_Le43=73;_Le23=74;_Le31=75;_Le12=76;_xinfty_=77;_yinfty_=78;_zinfty_=79;_xnear_=80;_ynear_=81;_znear_=82;_which=83;;// CÍRCULOS y ESFERAS;_centro=30;_radio=31;_r=32;_r32=33;_cy=34;_sy=35;_cz=36;_sz=37;_rxy=38;_Nx=39;_Ny=40;_Nz=41;_nx=42;_ny=43;_nz=44;_tx=45;_ty=46;_tz=47;_x32=48;_y32=49;_xc=50;_yc=51;_zc=52;;// CURVAS cónicas y cuádricas;_Axx_=60;_Bxy_=61;_Cyy_=62;_Dx_=63;_Ey_=64;_F_=65;_3xxx_=66;_3xxy_=67;_3xyy_=68;_3yyy_=69;_2xx_=70;_2xy_=71;_2yy_=72;_1x_=73;_1y_=74;_0_=75;_Eq_=76;_flat_=100;;vm_work=0;vm_view=1;vm_read=2;vm_wkrd=2;vm_vwrd=3;;rm_L=&squot;L&squot;;rm_R=&squot;R&squot;;rm_T=&squot;T&squot;;rm_B=&squot;B&squot;;rm_TL=&squot;TL&squot;;rm_BL=&squot;BL&squot;;rm_TR=&squot;TR&squot;;rm_BR=&squot;BR&squot;;;;;;;;;' tipo='matriz' 
id='cleanOBGRA()' algoritmo='sí' expresión='0' local='i' inicio='i=0' hacer='OBGRA[i%OBGRA.filas,ent(i/OBGRA.filas)]=0;i=i+1' mientras='i<OBGRA.columnas*OBGRA.filas' tipo='función' 
id='ANG' matriz='sí' evaluar='una-sola-vez' columnas='3' filas='38' expresión='xang=0;yang=1;zang=2' tipo='matriz' 
id='CURVA' matriz='sí' evaluar='una-sola-vez' columnas='10' filas='360' tipo='matriz' 
id='REGLADO' matriz='sí' evaluar='una-sola-vez' columnas='10' filas='145' tipo='matriz' 
id='HIDDENCOL' matriz='sí' evaluar='una-sola-vez' columnas='20' filas='50' tipo='matriz' 
id='HIDDENOBJ' matriz='sí' evaluar='una-sola-vez' columnas='20' filas='50' tipo='matriz' 
id='ROTAR' matriz='sí' evaluar='una-sola-vez' columnas='3' filas='3' tipo='matriz' 
id='____AUXILIARES____' expresión='0' tipo='variable' 
id='isVisible(n)' algoritmo='sí' expresión='v' local='v' hacer='v=(!OBGRA[n,_invisible])&(!OBGRA[n,_invalid]);v=v&(!COL[OBGRA[n,_col],_hidden])&(!OBGRA[n,_oculto]);v=v&!hiddenObjInThisStep(n);' tipo='función' 
id='grados(s)' algoritmo='sí' expresión='acos(g)*180/pi' local='g' hacer='g=OBGRA[s,_v1x]*OBGRA[s,_v2x]+OBGRA[s,_v1y]*OBGRA[s,_v2y]+OBGRA[s,_v1z]*OBGRA[s,_v2z];g=g/sqrt((OBGRA[s,_v1x]^2+OBGRA[s,_v1y]^2+ OBGRA[s,_v1z]^2)*(OBGRA[s,_v2x]^2+OBGRA[s,_v2y]^2+OBGRA[s,_v2z]^2));;' tipo='función' 
id='area(s)' algoritmo='sí' expresión='sqrt(S)' local='a,b,c,sp,S' hacer='a=dist(OBGRA[s,_p1], OBGRA[s,_p2]);b=dist(OBGRA[s,_p2], OBGRA[s,_p3]);c=dist(OBGRA[s,_p3], OBGRA[s,_p1]);sp=(a+b+c)/2;S=max(0,sp*(sp-a)*(sp-b)*(sp-c));' tipo='función' 
id='hasName(n)' algoritmo='no' expresión='((OBGRA[n,_name]!=&squot;&squot;)| (OBGRA[n,_subix]!=&squot;&squot;))&((OBGRA[n,_type]==angle)|(OBGRA[n,_type]==point)|(OBGRA[s,_type]==control)|(OBGRA[s,_type]==segment)|(OBGRA[s,_type]==triangle))' tipo='función' 
id='getName(s)' algoritmo='sí' expresión='nom' local='nom,ix,d,a,' hacer='nom=&squot;\${&squot;+OBGRA[s,_name];nom=(OBGRA[s,_subix]!=&squot;&squot;)?nom+&squot;_{&squot;+OBGRA[s,_subix]+&squot;}}&squot;:nom+ &squot;}&squot;;ix=(OBGRA[s,_type]==segment)?_indexOf_(nom,&squot;<L>&squot;):-1;d=((OBGRA[s,_type]==segment)&(ix>=0))?rNd(4,dist(OBGRA[s,0],OBGRA[s,1])):&squot;&squot;;nom=((OBGRA[s,_type]==segment)&(ix>=0))?_replace_(nom,&squot;<L>&squot;,d):nom;ix=(OBGRA[s,_type]==angle)?_indexOf_(nom,&squot;<A>&squot;):-1;a=((OBGRA[s,_type]==angle)&(ix>=0))?&squot;&squot;+rNd(1,grados(s))+&squot;°&squot;:&squot;&squot;;nom=((OBGRA[s,_type]==angle)&(ix>=0))?_replace_(nom,&squot;<A>&squot;,a):nom;ix=(OBGRA[s,_type]==triangle)?_indexOf_(nom,&squot;<S>&squot;):-1;S=(OBGRA[s,_type]==triangle)&(ix>=0)?&squot;&squot;+rNd(8,area(s)):&squot;&squot;;nom=((OBGRA[s,_type]==triangle)&(ix>=0))?_replace_(nom,&squot;<S>&squot;,S):nom;;' tipo='función' 
id='getColSz(n)' algoritmo='sí' expresión='1' hacer='ancho=OBGRA[n,_wdth];color=OBGRA[n,_col];colix=color-start_color;;' tipo='función' 
id='setColSz(n)' algoritmo='sí' expresión='1' hacer='OBGRA[n,_wdth]=ancho;OBGRA[n,_col]=getColor(colix);;' tipo='función' 
id='setSz(n,sz)' algoritmo='sí' expresión='OBGRA[n,_wdth]' hacer='OBGRA[n,_wdth]=sz;;' tipo='función' 
id='setCol(n)' algoritmo='sí' expresión='1' hacer='OBGRA[n,_col]=getColor(colix);;' tipo='función' 
id='hayOcultos()' algoritmo='sí' expresión='siHay&(NOG>minNOG)' local='siHay,n' inicio='siHay=0;n=minNOG' hacer='siHay=siHay|OBGRA[n,_oculto]|(OBGRA[n,_wdth]==0);n=n+1' mientras='(!siHay)&(n<NOG)' tipo='función' 
id='MostrarTodo()' algoritmo='sí' expresión='1' local='n' inicio='n=0' hacer='OBGRA[n,_oculto]=0;n=n+1' mientras='n<maxOBGRA' tipo='función' 
id='minSize1()' algoritmo='sí' expresión='1' local='n' inicio='n=0' hacer='OBGRA[n,_wdth]=((OBGRA[n,_wdth]==0)&(OBGRA[n,_type]!=control))?setSz(n,1):OBGRA[n,_wdth];n=n+1' mientras='n<maxOBGRA' tipo='función' 
id='X2(p)' algoritmo='no' expresión='OBGRA[p,_x]/OBGRA[p,_w]' tipo='función' 
id='Y2(p)' algoritmo='no' expresión='OBGRA[p,_y]/OBGRA[p,_w]' tipo='función' 
id='Z2(p)' algoritmo='no' expresión='OBGRA[p,_z]/OBGRA[p,_w]' tipo='función' 
id='____DISTANCES____' expresión='0' tipo='variable' 
id='distAL2D(xx,yy,L)' algoritmo='sí' expresión='dS' local='dS,xA,yA,xB,yB,ABdx,ABdx,AB,t' hacer='xA=OBGRA[L,_3DLx1_];yA=OBGRA[L,_3DLy1_];xB=OBGRA[L,_3DLx2_];yB=OBGRA[L,_3DLy2_];;ABdx=xB-xA;ABdy=yB-yA;AB=sqrt(ABdx^2+ABdy^2);t=((xx-xA)*ABdx+(yy-yA)*ABdy)/AB;dS=sqrt((xx-xA-t*ABdx/AB)^2+(yy-yA-t*ABdy/AB)^2);;;' tipo='función' 
id='distAL32(xx,yy,L)' algoritmo='sí' expresión='dL' local='xA,yA,xB,yB,ABdx,ABdx,AB,t,dL' hacer='xB=X32(OBGRA[L,_3DLx2_],OBGRA[L,_3DLy2_],OBGRA[L,_3DLz2_]);xA=X32(OBGRA[L,_3DLx1_],OBGRA[L,_3DLy1_],OBGRA[L,_3DLz1_]);yB=Y32(OBGRA[L,_3DLx2_],OBGRA[L,_3DLy2_],OBGRA[L,_3DLz2_]);yA=Y32(OBGRA[L,_3DLx1_],OBGRA[L,_3DLy1_],OBGRA[L,_3DLz1_]);ABdx=xB-xA;ABdy=yB-yA;AB=sqrt(ABdx^2+ABdy^2);t=((xx-xA)*ABdx+(yy-yA)*ABdy)/AB;dL=sqrt((xx-xA-t*ABdx/AB)^2+(yy-yA-t*ABdy/AB)^2);dL=((0<t)&(t<AB))?dL:1000000;;;;' tipo='función' 
id='distAS2D(xx,yy,S)' algoritmo='sí' expresión='dS' local='A,B,ABdx,ABdx,AB,t,dS,ok1,ok2' hacer='A=OBGRA[S,_1];B=OBGRA[S,_2];ABdx=X2(B)-X2(A);ABdy=Y2(B)-Y2(A);AB=sqrt(ABdx^2+ABdy^2);t=((xx-X2(A))*ABdx+(yy-Y2(A))*ABdy)/AB;dS=sqrt((xx-X2(A)-t*ABdx/AB)^2+(yy-Y2(A)-t*ABdy/AB)^2);ok1=((OBGRA[S,_vsL]<0)|((OBGRA[S,_vsL]>minNOG)&!OBGRA[S,_xin]))&(0<t)&(t<AB);ok2=(OBGRA[S,_vsL]>minNOG)&OBGRA[S,_xin]&((t<0)|(AB<t));dS=(ok1|ok2)?dS:1000000;;;' tipo='función' 
id='distAS32(xx,yy,S)' algoritmo='sí' expresión='dS' local='A,B,ABdx,ABdx,AB,t,dS,ok1,ok2' hacer='A=OBGRA[S,_1];B=OBGRA[S,_2];ABdx=x32(B)-x32(A);ABdy=y32(B)-y32(A);AB=sqrt(ABdx^2+ABdy^2);t=((xx-x32(A))*ABdx+(yy-y32(A))*ABdy)/AB;dS=sqrt((xx-x32(A)-t*ABdx/AB)^2+(yy-y32(A)-t*ABdy/AB)^2);ok1=((OBGRA[S,_vsL]<0)|((OBGRA[S,_vsL]>minNOG)&!OBGRA[S,_xin]))&(0<t)&(t<AB);ok2=(OBGRA[S,_vsL]>minNOG)&OBGRA[S,_xin]&((t<0)|(AB<t));dS=(ok1|ok2)?dS:1000000;;;;' tipo='función' 
id='distToCirc3D(x,y,s)' algoritmo='sí' expresión='d' local='d,newd,t,dt,i' inicio='d=1000000;t==0;dt=2*pi/36;i=0' hacer='xn=X32(OBGRA[s,_xc]+OBGRA[s,_r]*(OBGRA[s,_nx]*cos(t)+OBGRA[s,_tx]*sen(t)),OBGRA[s,_yc]+OBGRA[s,_r]*(OBGRA[s,_ny]*cos(t)+OBGRA[s,_ty]*sen(t)),OBGRA[s,_zc]+OBGRA[s,_r]*(OBGRA[s,_nz]*cos(t)+OBGRA[s,_tz]*sen(t)));yn=Y32(OBGRA[s,_xc]+OBGRA[s,_r]*(OBGRA[s,_nx]*cos(t)+OBGRA[s,_tx]*sen(t)),OBGRA[s,_yc]+OBGRA[s,_r]*(OBGRA[s,_ny]*cos(t)+OBGRA[s,_ty]*sen(t)),OBGRA[s,_zc]+OBGRA[s,_r]*(OBGRA[s,_nz]*cos(t)+OBGRA[s,_tz]*sen(t)));d=min(sqrt((xn-x)^2+(yn-y)^2),d);t=t+dt;i=i+1' mientras='i<36' tipo='función' 
id='distAOB(xx,yy,n)' algoritmo='sí' expresión='d' local='d' hacer='d=((OBGRA[n,_type]==point)|(OBGRA[n,_type]==control)|(OBGRA[n,_type]==segment))?distance(xx,yy,n):d;d=((OBGRA[n,_type]==circle))?abs(distance(xx,yy,OBGRA[n,_centro])-OBGRA[n,_r]):d;d=((OBGRA[n,_type]==circ3D))?distToCirc3D(xx,yy,n):d;' tipo='función' 
id='distance(x,y,n)' algoritmo='sí' expresión='d' local='d,isP,isL,isS' inicio='d=1000000' hacer='isP=(OBGRA[n,_type]==control)|(OBGRA[n,_type]==point);isL=(OBGRA[n,_type]==segment)&(OBGRA[n,_isLine]);isS=(OBGRA[n,_type]==segment)&(!OBGRA[n,_isLine]);d=(isP&show_E2)?sqrt((X2(n)-x)^2+(Y2(n)-y)^2):d;d=(isP&show_E3)?sqrt((x32(n)-x)^2+(y32(n)-y)^2):d;d=(isL&show_E2)?distAL2D(x,y,n):d;d=(isL&show_E3)?distAL32(x,y,n):d;d=(isS&show_E2)?distAS2D(x,y,n):d;d=(isS&show_E3)?distAS32(x,y,n):d' tipo='función' 
id='dist(p,q)' algoritmo='no' expresión='sqrt((X2(q)-X2(p))^2+(Y2(q)-Y2(p))^2+(Z2(q)-Z2(p))^2)' tipo='función' info='dist, distancia entre puntos 3D p y q' 
id='dist2D(A,B)' algoritmo='no' expresión='sqrt((X2(B)-X2(A))^2+(Y2(B)-Y2(A))^2)' tipo='función' info='distancia entre puntos 2D A y B' 
id='isInL2D(L,p)' algoritmo='no' expresión='abs((X2(p)-OBGRA[L,_L_x1])*OBGRA[L,_L_uy]-(Y2(p)-OBGRA[L,_L_y1])*OBGRA[L,_L_ux])<epsilon' tipo='función' 
id='isInEq(Eq,p)' algoritmo='sí' expresión='abs(y)<epsilon' local='a,b,c,d,e,f,y' hacer='a=OBGRA[Eq,_Axx_];b=OBGRA[Eq,_Bxy_];c=OBGRA[Eq,_Cyy_];d=OBGRA[Eq,_Dx_];e=OBGRA[Eq,_Ey_];f=OBGRA[Eq,_F_];y=(a*X2(p)+b*Y2(p)+d)*X2(p)+(c*Y2(p)+e)*Y2(p)+f;' tipo='función' 
id='isPoint(p)' algoritmo='no' expresión='(OBGRA[p,_type]==point)' tipo='función' 
id='isInC(C,p)' algoritmo='no' expresión='(abs(dist(p,OBGRA[C,_centro])-OBGRA[C,_r]))<epsilon' tipo='función' 
</script>

<script type="descartes/library" id="biblioteca/ProGeo3D_grph.txt">
id='____CTRLG_&_FUNC_DISPLAY____' expresión='0' tipo='variable' 
id='Xb(n)' algoritmo='no' expresión='(FUNC._w-6)*(n%2)/2' tipo='función' 
id='Yb(n)' algoritmo='no' expresión='FUNC._h-CTRLG._h+3-(ent(n/2)+1)*(bnh+3)' tipo='función' 
id='XCG(n)' algoritmo='sí' expresión='xcg' local='xcg' hacer='xcg=(n<nSr)?(n-nF)*cgw+cgw/2:CTRLG._w-cgw*(n-nSr)-cgw/2;xcg=(n==grosor)?xcg+ent(cgw*8/16):xcg;xcg=(n==nombres)?xcg+ent(cgw*9/16):xcg;xcg=(n==subindices)?xcg+ent(cgw*3/16):xcg;' tipo='función' 
id='YCG(n)' algoritmo='no' expresión='cgh/2' tipo='función' 
id='Xcg(n)' algoritmo='no' expresión='XCG(n)-cgw/2' tipo='función' 
id='Ycg(n)' algoritmo='no' expresión='0' tipo='función' 
id='colbox_X(s)' algoritmo='no' expresión='COLOR.x+(s%10)*colw-colr' tipo='función' 
id='colbox_Y(s)' algoritmo='no' expresión='CTRLG._h/2-2+(((10<=s)&(s<20))-((20<=s)&(s<30)))*2*(ent(2*factor_h)+ent(CTRLG._h/8))-ent(CTRLG._h/8)' tipo='función' 
id='colbox_W(s)' algoritmo='no' expresión='2*colr' tipo='función' 
id='colbox_H(s)' algoritmo='no' expresión='2*ent(CTRLG._h/8)' tipo='función' 
id='____E2_&_E32_DISPLAY____' expresión='0' tipo='variable' 
id='calc32(x,y,z)' algoritmo='sí' expresión='1' local='x0,y0,z0,x3' hacer='x0=x+E2.pixOx;y0=y+E2.pixOy;z0=z+E2.pixOz;x3=E3Rxx*x0+E3Rxy*y0+E3Rxz*z0;y3=E3Ryx*x0+E3Ryy*y0+E3Ryz*z0;z3=E3Rzx*x0+E3Rzy*y0+E3Rzz*z0;L=(Ojo.x/(x3-Ojo.x));' tipo='función' 
id='X32(x,y,z)' algoritmo='sí' expresión='L*(Ojo.y-y3)' local='y3,z3,L' inicio='calc32(x,y,z)' tipo='función' 
id='Y32(x,y,z)' algoritmo='sí' expresión='L*(Ojo.z-z3)' local='y3,z3,L,Ojo.y,Ojo.z' inicio='calc32(x,y,z)' tipo='función' 
id='x32(s)' algoritmo='sí' expresión='L*(Ojo.y-y3)' local='y3,z3,L' inicio='calc32(X2(s),Y2(s),Z2(s))' tipo='función' 
id='y32(s)' algoritmo='sí' expresión='L*(Ojo.z-z3)' local='y3,z3,L,Ojo.y,Ojo.z' inicio='calc32(X2(s),Y2(s),Z2(s))' tipo='función' 
id='X23(x,y)' algoritmo='no' expresión='E3Ryx*x+E3Rzx*y' tipo='función' 
id='Y23(x,y)' algoritmo='no' expresión='E3Ryy*x+E3Rzy*y' hacer=';' tipo='función' 
id='Z23(x,y)' algoritmo='no' expresión='E3Ryz*x+E3Rzz*y' hacer=';;;' tipo='función' 
id='_X_(p)' algoritmo='no' expresión='(show_E3)?x32(p):X2(p)' tipo='función' 
id='_Y_(p)' algoritmo='no' expresión='(show_E3)?y32(p):Y2(p)' tipo='función' 
id='calcSegXtYt(s)' algoritmo='sí' expresión='1' local='a' hacer='a=angtan(_Y_(OBGRA[s,_2])-_Y_(OBGRA[s,_1]),_X_(OBGRA[s,_2])-_X_(OBGRA[s,_1]));_dXt_=10*cos(a);_dYt_=10*sen(a)' tipo='función' 
id='calcPntXtYt(s)' algoritmo='sí' expresión='1' local='sx,X,Y' inicio='sx=(OBGRA[s,_subix]!=&squot;&squot;);X=_X_(s);Y=_Y_(s)' hacer='_dXt_=((X>=0)&!sx)?  7:_dXt_;_dXt_=((X>=0)& sx)? 14:_dXt_;_dXt_=((X <0)&!sx)? -7:_dXt_;_dXt_=((X <0)& sx)? -8:_dXt_;;_dYt_=((Y>=0)&!sx)?-16:_dYt_;_dYt_=((Y>=0)& sx)?-18:_dYt_;_dYt_=((Y <0)&!sx)? 14:_dYt_;_dYt_=((Y <0)& sx)? 15:_dYt_;' tipo='función' 
id='calcXtYt(s)' algoritmo='sí' expresión='1' inicio='_dXt_=0;_dYt_=0' hacer='((OBGRA[s,_type]==control)|(OBGRA[s,_type]==point))?calcPntXtYt(s):&squot;&squot;;(OBGRA[s,_type]==segment)?calcSegXtYt(s):&squot;&squot;;;' tipo='función' 
id='X_t(s)' algoritmo='sí' expresión='X' local='X' hacer='X=((OBGRA[s,_type]==segment)&OBGRA[s,_is2P])?(_X_(OBGRA[s,0])+_X_(OBGRA[s,1]))/2:_X_(s);X=(OBGRA[s,_type]==triangle)?(_X_(OBGRA[s,_p1])+_X_(OBGRA[s,_p2])+_X_(OBGRA[s,_p3]))/3:X;' tipo='función' 
id='Y_t(s)' algoritmo='sí' expresión='Y' local='Y' hacer='Y=((OBGRA[s,_type]==segment)&OBGRA[s,_is2P])?(_Y_(OBGRA[s,0])+_Y_(OBGRA[s,1]))/2:_Y_(s);Y=(OBGRA[s,_type]==triangle)?(_Y_(OBGRA[s,_p1])+_Y_(OBGRA[s,_p2])+_Y_(OBGRA[s,_p3]))/3:Y;' tipo='función' 
id='____MACRO_IMPLEMENTATIONS____' expresión='0' tipo='variable' 
id='R_E2.cfg(s)' algoritmo='sí' expresión='isVisible(REGLADO[s,0])&(fams!=2)' local='o,lfams' inicio='o=REGLADO[s,0]' hacer='R_E2_s=s;R_E2.N=N_Reglas;R_E2.wdth=OBGRA[o,_wdth];lfams=(fams==-1)?3:fams;R_E2.tnsp=(lfams==1)?1:COL[OBGRA[o,_col],_trns];R_E2.surf=((lfams==3)|OBGRA[o,_flat_])?1:(COL[OBGRA[o,_col],_trns]+3)/4;R_E2.rojo=COL[OBGRA[o,_col],_rojo];R_E2.verd=COL[OBGRA[o,_col],_verd];R_E2.azul=COL[OBGRA[o,_col],_azul];' tipo='función' 
id='R_E2.show(j)' algoritmo='no' expresión='(fams!=2)' tipo='función' 
id='R_E2.X1(j)' algoritmo='no' expresión='REGLADO[R_E2_s,2+6*j]' hacer=';' tipo='función' 
id='R_E2.Y1(j)' algoritmo='no' expresión='REGLADO[R_E2_s,2+6*j+1]' tipo='función' 
id='R_E2.X2(j)' algoritmo='no' expresión='REGLADO[R_E2_s,2+6*j+3]' tipo='función' 
id='R_E2.Y2(j)' algoritmo='no' expresión='REGLADO[R_E2_s,2+6*j+4]' tipo='función' 
id='R_E3_2.cfg(s)' algoritmo='sí' expresión='isVisible(REGLADO[s,0])&(fams!=2)' local='o,lfams' inicio='o=REGLADO[s,0]' hacer='R_E3_2_s=s;R_E3_2.N=N_Reglas;R_E3_2.wdth=OBGRA[o,_wdth];lfams=(fams==-1)?0:fams;R_E3_2.tnsp=(lfams==1)?1:COL[OBGRA[o,_col],_trns];R_E3_2.surf=((lfams==3)|OBGRA[o,_flat_])?1:(COL[OBGRA[o,_col],_trns]+3)/4;R_E3_2.rojo=COL[OBGRA[o,_col],_rojo];R_E3_2.verd=COL[OBGRA[o,_col],_verd];R_E3_2.azul=COL[OBGRA[o,_col],_azul];' tipo='función' 
id='R_E3_2.show(j)' algoritmo='no' expresión='(fams!=2)' tipo='función' 
id='R_E3_2.X1(j)' algoritmo='no' expresión='X32(REGLADO[R_E3_2_s,2+6*j],REGLADO[R_E3_2_s,2+6*j+1],,REGLADO[R_E3_2_s,2+6*j+2])' hacer=';' tipo='función' 
id='R_E3_2.Y1(j)' algoritmo='no' expresión='Y32(REGLADO[R_E3_2_s,2+6*j],REGLADO[R_E3_2_s,2+6*j+1],,REGLADO[R_E3_2_s,2+6*j+2])' tipo='función' 
id='R_E3_2.X2(j)' algoritmo='no' expresión='X32(REGLADO[R_E3_2_s,2+6*j+3],REGLADO[R_E3_2_s,2+6*j+4],,REGLADO[R_E3_2_s,2+6*j+5])' tipo='función' 
id='R_E3_2.Y2(j)' algoritmo='no' expresión='Y32(REGLADO[R_E3_2_s,2+6*j+3],REGLADO[R_E3_2_s,2+6*j+4],,REGLADO[R_E3_2_s,2+6*j+5])' tipo='función' 
id='C_E2.cfg(s)' algoritmo='sí' expresión='(NOG>o)&isVisible(o)' local='o' inicio='o=CURVA[s,0]' hacer='C_E2_s=s;C_E2.N=NCurva;C_E2.wdth=OBGRA[o,_wdth];C_E2.tnsp=COL[OBGRA[o,_col],_trns];C_E2.rojo=COL[OBGRA[o,_col],_rojo];C_E2.verd=COL[OBGRA[o,_col],_verd];C_E2.azul=COL[OBGRA[o,_col],_azul];' tipo='función' 
id='C_E2.show(j)' algoritmo='no' expresión='(abs(C_E2.X2(j)-C_E2.X1(j))<E2.pixelW)&(abs(C_E2.Y2(j)-C_E2.Y1(j))<E2.pixelH)' tipo='función' 
id='C_E2.X1(j)' algoritmo='no' expresión='CURVA[C_E2_s,2+3*j]' hacer=';' tipo='función' 
id='C_E2.Y1(j)' algoritmo='no' expresión='CURVA[C_E2_s,3+3*j]' tipo='función' 
id='C_E2.X2(j)' algoritmo='no' expresión='CURVA[C_E2_s,2+3*(j+1)]' tipo='función' 
id='C_E2.Y2(j)' algoritmo='no' expresión='CURVA[C_E2_s,3+3*(j+1)]' tipo='función' 
id='C_E3_2.cfg(s)' algoritmo='sí' expresión='(NOG>o)&isVisible(o)' local='o' inicio='o=CURVA[s,0]' hacer='C_E3_2_s=s;C_E3_2.N=NCurva;C_E3_2.wdth=OBGRA[o,_wdth];C_E3_2.tnsp=COL[OBGRA[o,_col],_trns];C_E3_2.rojo=COL[OBGRA[o,_col],_rojo];C_E3_2.verd=COL[OBGRA[o,_col],_verd];C_E3_2.azul=COL[OBGRA[o,_col],_azul];' tipo='función' 
id='C_E3_2_fix_1()' algoritmo='sí' expresión='1' local='t' hacer='t=0;t=((t==0)&(z1<_mz_))?(_mz_-z2)/(z1-z2):t;t=((t==0)&(z1>_Mz_))?(_Mz_-z2)/(z1-z2):t;t=((t==0)&(x1<_mx_))?(_mx_-x2)/(x1-x2):t;t=((t==0)&(x1>_Mx_))?(_Mx_-x2)/(x1-x2):t;t=((t==0)&(y1<_my_))?(_my_-y2)/(y1-y2):t;t=((t==0)&(y1>_My_))?(_My_-y2)/(y1-y2):t;x1=x2+(x1-x2)*t;y1=y2+(y1-y2)*t;z1=z2+(z1-z2)*t' tipo='función' 
id='C_E3_2_fix_2()' algoritmo='sí' expresión='1' local='t' hacer='t=0;t=((t==0)&(z2<_mz_))?(_mz_-z1)/(z2-z1):t;t=((t==0)&(z2>_Mz_))?(_Mz_-z1)/(z2-z1):t;t=((t==0)&(x2<_mx_))?(_mx_-x1)/(x2-x1):t;t=((t==0)&(x2>_Mx_))?(_Mx_-x1)/(x2-x1):t;t=((t==0)&(y2<_my_))?(_my_-y1)/(y2-y1):t;t=((t==0)&(y2>_My_))?(_My_-y1)/(y2-y1):t;x2=x1+(x2-x1)*t;y2=y1+(y2-y1)*t;z2=z1+(z2-z1)*t;' tipo='función' 
id='C_E3_2.show(j)' algoritmo='sí' expresión='(ok1|ok2)' local='f,ok,ok1,ok2,x1,y1,z1,x2,y2,z2' inicio='f=4' hacer='x1=CURVA[C_E3_2_s,2+3*j];y1=CURVA[C_E3_2_s,3+3*j];z1=CURVA[C_E3_2_s,4+3*j];x2=CURVA[C_E3_2_s,2+3*(j+1)];y2=CURVA[C_E3_2_s,3+3*(j+1)];z2=CURVA[C_E3_2_s,4+3*(j+1)];ok=(abs(x2-x1)<f*E2.pixelW)&(abs(y2-y1)<f*E2.pixelH)&(abs(z2-z1)<f*E2.pixelH);ok1=ok&(_mx_<=x1)&(x1<=_Mx_)&(_my_<=y1)&(y1<=_My_)&(_mz_<=z1)&(z1<=_Mz_);ok2=ok&(_mx_<=x2)&(x2<=_Mx_)&(_my_<=y2)&(y2<=_My_)&(_mz_<=z2)&(z2<=_Mz_);(show_E3&(ok2&!ok1))?C_E3_2_fix_1():&squot;&squot;;(show_E3&(ok1&!ok2))?C_E3_2_fix_2():&squot;&squot;;C_E3_2_x1=x1;C_E3_2_y1=y1;C_E3_2_z1=z1;C_E3_2_x2=x2;C_E3_2_y2=y2;C_E3_2_z2=z2;' tipo='función' 
id='C_E3_2.X1(j)' algoritmo='no' expresión='X32(C_E3_2_x1,C_E3_2_y1,C_E3_2_z1)' tipo='función' 
id='C_E3_2.Y1(j)' algoritmo='no' expresión='Y32(C_E3_2_x1,C_E3_2_y1,C_E3_2_z1)' tipo='función' 
id='C_E3_2.X2(j)' algoritmo='no' expresión='X32(C_E3_2_x2,C_E3_2_y2,C_E3_2_z2)' tipo='función' 
id='C_E3_2.Y2(j)' algoritmo='no' expresión='Y32(C_E3_2_x2,C_E3_2_y2,C_E3_2_z2)' tipo='función' 
</script>

<script type="descartes/library" id="biblioteca/ProGeo3D_ifc.txt">
id='statusName(n)' algoritmo='sí' expresión='sn' local='sn' inicio='sn=&squot;&squot;' hacer='sn=(n==punto)?&squot;Punto-Recta&squot;:sn;sn=(n==plano)?&squot;Plano&squot;:sn;sn=(n==curva)?&squot;Curva-Familia&squot;:sn;sn=(n==segmento)?&squot;Segmento&squot;:sn;sn=(n==inversion)?&squot;Armonía&squot;:sn;sn=((n==circuloRC)&show_E3)?&squot;Esfera&squot;:sn;sn=((n==circuloRC)&show_E2)?&squot;Círculo&squot;:sn;sn=((n==eje_radical)&show_E3)?&squot;Plano radical&squot;:sn;sn=((n==eje_radical)&show_E2)?&squot;Eje radical&squot;:sn;sn=(n==intersection)?&squot;Intersección&squot;:sn;sn=(n==puntoMedio)?&squot;Punto medio&squot;:sn;sn=(n==angulo)?&squot;Ángulo&squot;:sn;sn=(n==bisectriz)?&squot;Bisectriz&squot;:sn;sn=((n==mediatriz)&show_E2)?&squot;Mediatriz&squot;:sn;sn=((n==mediatriz)&show_E3)?&squot;Plano mediador&squot;:sn;//sn=(n==pie)?&squot;Pie&squot;:sn;sn=(n==paralela)?&squot;Paralela&squot;:sn;sn=(n==perpendicular)?&squot;Ortogonal-Pie&squot;:sn;sn=(n==conica5)?&squot;Armónica5Pts&squot;:sn;sn=(n==cubica9)?&squot;Cúbica9Pts&squot;:sn;;sn=(n==nueva)?&squot;Nueva&squot;:sn;sn=(n==recuperar)?&squot;Recuperar&squot;:sn;sn=(n==ocultar)?&squot;Ocultar&squot;:sn;sn=(n==cambio)?&squot;Cambiar&squot;:sn;sn=(n==rehacer)?&squot;&squot;:sn;sn=(n==deshacer)?&squot;&squot;:sn;sn=(n==nombres)?&squot;Nombres&squot;:sn;sn=(n==grosor)?&squot;Grosor&squot;:sn;;;;' tipo='función' 
id='iconName(n)' algoritmo='sí' expresión='sn' local='sn' inicio='sn=&squot;&squot;' hacer='sn=((n==deshacer))?&squot;undo&squot;:sn;sn=((n==rehacer))?&squot;redo&squot;:sn;sn=((n==ocultar))?&squot;hide&squot;:sn;sn=((n==recuperar))?&squot;unhide&squot;:sn;sn=((n==nueva))?&squot;new&squot;:sn;;;' tipo='función' 
id='iconCond(n)' algoritmo='sí' expresión='!cond' local='cond' inicio='cond=0' hacer='cond=((n==deshacer)&(status<explorar))?(nCHG>0):cond;cond=((n==deshacer)&(status>=explorar))?(NOG>minNOG):cond;cond=((n==rehacer)&(status<explorar))?(nCHG<maxnCHG):cond;cond=((n==rehacer)&(status>=explorar))?(NOG<maxNOG):cond;cond=(n==ocultar)?1:cond;cond=(n==recuperar)?hayOcultos():cond;cond=(n==nueva)?1:cond;' tipo='función' 
id='icons_dir()' algoritmo='no' expresión='(aspect)?&squot;icons_black&squot;:&squot;icons_white&squot;' tipo='función' 
id='get_svg(icon_name,condition)' algoritmo='sí' expresión='svg+&squot;.svg&squot;' local='svg' hacer='svg=icons_dir()+&squot;/progeo-&squot;+icon_name;svg=(condition)?svg+&squot;-soft&squot;:svg;' tipo='función' 
id='____VIEWMODE____' expresión='0' tipo='variable' 
id='setReadMode(rm)' algoritmo='sí' expresión='1' inicio='read_mode=rm' hacer='isL=(rm==rm_L)|(rm ==rm_TL)|(rm ==rm_BL);isR=(rm ==rm_R)|(rm ==rm_TR)|(rm ==rm_BR);isT=(rm ==rm_T)|(rm ==rm_TL)|(rm ==rm_TR);isB=(rm ==rm_B)|(rm ==rm_BL)|(rm ==rm_BR);isW=(rm ==rm_T)|(rm ==rm_B);updateViewMode();_CLEAN_=1;' tipo='función' 
id='setWorkMode()' algoritmo='sí' expresión='1' inicio='showctrls=1;viewing=0;reading=0' hacer='Ex=bw/8;Ey=TOPMNU._h;Ew=BACK._w-FUNC._w-bw/8+1;Eh=BACK._h-TOPMNU._h-CTRLG._h-4;FUNCTHIN.x=BACK._w;LRw=Ew;' tipo='función' 
id='setViewMode()' algoritmo='sí' expresión='1' inicio='showctrls=0;viewing=1;reading=0' hacer='Ex=0;Ey=0;Ew=BACK._w;Eh=BACK._h;FUNCTHIN.x=BACK._w;LRw=BACK._w-20*szfctr;' tipo='función' 
id='calcTexParams(Tx0,Ty0,Tx1,Ty1)' algoritmo='sí' expresión='1' hacer='Texx=((isL|isT)&(!isW))?Tx1:Tx0;Texx=(isL&isT|isL&isB|isR&isT)?Tx0:Texx;Texy=(isW&isT|isL&isT)?Ty1:Ty0;Texy=(isW&isB|isL&isB|isR&isT)?Ty0:Texy;Texrx=Ex1;Texry=(isT&isR|isT&isW|isR&isT)?Ty1:Texy;Texry=(isL&isT)?Ty0:Texry;;' tipo='función' 
id='setWkRdMode()' algoritmo='sí' expresión='1' local='Ex0,Ex1,Ey0,Ey1,Ty1,Ew0,Ew1,Eh0,Eh1' hacer='Ew0=525*BACK._w/1200;Eh0=385*BACK._h/880;Ew1=BACK._w-bw*10/8;Eh1=BACK._h-TOPMNU._h-CTRLG._h-4;;Ex0=bw*17/16;Ex1=BACK._w-Ew0-bw*9/8;Ey0=TOPMNU._h;Ey1=BACK._h-CTRLG._h-4-Eh0;;Ex=(isR)?Ex1:Ex0;Ex=(isW)?bw/8:Ex;Ey=(isB)?Ey1:Ey0;Eh=(isT|isB)?Eh0:Eh1;Ew=(isW)?Ew1:Ew0;;Texw=Ew0;Texh=Eh;;calcTexParams(Ex0,Ey0+bh/2,Ex1,Ey0+Eh0+bh/2);showctrls=1;viewing=0;reading=1;;FUNCTHIN.x=BACK._w;FUNCTHIN.x=(isR|isW)?BACK._w-bw*17/16:FUNCTHIN.x;FUNCTHIN.x=(isL)?bw/16:FUNCTHIN.x;LRw=Ew' tipo='función' 
id='setVwRdMode()' algoritmo='sí' expresión='1' local='Ex0,Ex1,Ey0,Ey1,Ty1,Ew0,Ew1,Eh0,Eh1' hacer='Ew0=(BACK._w-3*bw)/2;Eh0=(BACK._h-120*szfctr)/2;Ew1=BACK._w-2*bw;Eh1=BACK._h-120*szfctr;;Ex0=bw*17/16;Ex1=BACK._w/2+bw/2;Ey0=60*szfctr;Ey1=Ey0+Eh0;;Ex=(isR)?Ex1:Ex0;Ex=(isW)?bw:Ex;Ey=(isB)?Ey1:Ey0;Eh=(isT|isB)?Eh0:Eh1;Ew=(isW)?Ew1:Ew0;;Texw=Ew0;Texh=Eh;;calcTexParams(Ex0,Ey0,Ex1,Ey0+Eh0);Texy=(isT)?Texy+bh/2:Texy;Texry=(isT&isW)?Texy:Texry;Texry=(isT&isR)?Ey+Eh+bh/2:Texry;Ey=(isB)?Ey-bh/2:Ey;showctrls=0;viewing=1;reading=1;;FUNCTHIN.x=BACK._w;LRw=BACK._w-20*szfctr;' tipo='función' 
id='updateViewMode()' algoritmo='sí' expresión='1' hacer='((view_mode==vm_view)|((view_mode==vm_vwrd)&(the_left_text==&squot;&squot;)))?setViewMode():&squot;&squot; ;((view_mode==vm_vwrd)&(the_left_text!=&squot;&squot;))?setVwRdMode():&squot;&squot;;(view_mode==vm_wkrd)?setWkRdMode():&squot;&squot; ;(view_mode==vm_work)?setWorkMode():&squot;&squot; ;parent.set(&squot;pg3d.view_mode&squot;,&squot;&squot;+view_mode);parent.update();_CLEAN_=1;status=explorar;edit_text=edit_text&(view_mode!=vm_view)&(view_mode!=vm_vwrd);;' tipo='función' 
id='____NAME_&_SUBIX____' expresión='0' tipo='variable' 
id='selectByNameAndSubix(name_subix)' algoritmo='sí' expresión='selected' local='selected,n,name,subix,ix' inicio='n=minNOG;ix=_indexOf_(name_subix,&squot;_&squot;);name=(ix>=0)?_substring_(name_subix,0,ix):name_subix;subix=(ix>=0)?_substring_(name_subix,ix+1,_length_(name_subix)):&squot;&squot;;' hacer='selected=((OBGRA[n,_name]==name)&(OBGRA[n,_subix]==subix))?n:-1;n=n+1' mientras='(selected<0)&(n<NOG)' tipo='función' 
id='setNameAndSubix(name_subix)' algoritmo='sí' expresión='1' local='name,subix,ix' inicio='ix=_indexOf_(name_subix,&squot;_&squot;);name=(ix>=0)?_substring_(name_subix,0,ix):name_subix;subix=(ix>=0)?_substring_(name_subix,ix+1,_length_(name_subix)):&squot;&squot;' hacer='OBGRA[selOBGRA,_name]=name;OBGRA[selOBGRA,_subix]=subix+OBGRA[selOBGRA,_subix];' tipo='función' 
id='setSubix(subix)' algoritmo='sí' expresión='1' hacer='OBGRA[selOBGRA,_subix]=subix;' tipo='función' 
id='closePopUp()' algoritmo='sí' expresión='1' hacer='aux=((_estado_==0)&(Teclado.S!=TCLin))?setNameAndSubix(Teclado.S):&squot;&squot;;selOBGRA=((_estado_==0)&(selOBGRA<0)&(Teclado.S!=&squot;&squot;))?selectByNameAndSubix(Teclado.S):selOBGRA;aux=((_estado_==1)&(Teclado.S!=TCLin))?setSubix(Teclado.S):&squot;&squot;;teclado=0;((selOBGRA>=0)&(status==explorar))?getColSz(selOBGRA):&squot;&squot;;selOBGRA=((status==nombrar)|(status==subnombrar))?-1:selOBGRA' tipo='función' 
id='escapePopUp()' algoritmo='sí' expresión='1' hacer='teclado=0;;' tipo='función' 
id='____ANIMATION____' expresión='0' tipo='variable' 
id='prepC3Anim()' algoritmo='sí' expresión='1' local='CNSTR,dx,dy' hacer='CNSTR =OBGRA[selOBGRA,_cnstr];_R_=OBGRA[CNSTR,_r];_XC_=OBGRA[CNSTR,_xc];_YC_=OBGRA[CNSTR,_yc];_ZC_=OBGRA[CNSTR,_zc];_NX_=OBGRA[CNSTR,_nx];_NY_=OBGRA[CNSTR,_ny];_NZ_=OBGRA[CNSTR,_nz];_TX_=OBGRA[CNSTR,_tx];_TY_=OBGRA[CNSTR,_ty];_TZ_=OBGRA[CNSTR,_tz];dx=(X2(selOBGRA)-_XC_)*_NX_+(Y2(selOBGRA)-_YC_)*_NY_+ (Z2(selOBGRA)-_ZC_)*_NZ_;dy=(X2(selOBGRA)-_XC_)*_TX_+(Y2(selOBGRA)-_YC_)*_TY_+ (Z2(selOBGRA)-_ZC_)*_TZ_;_t_=angtan(dx,dy);_animIterations_=144;_dt_=2*pi/_animIterations_;;_Xini_=OBGRA[selOBGRA,_x];_Yini_=OBGRA[selOBGRA,_y];_Zini_=OBGRA[selOBGRA,_z];_Wini_=OBGRA[selOBGRA,_w];' tipo='función' 
id='prepCAnim()' algoritmo='sí' expresión='1' hacer='_R_=OBGRA[OBGRA[selOBGRA,_cnstr],_r];_XC_=X2(OBGRA[OBGRA[selOBGRA,_cnstr],_centro]);_YC_=Y2(OBGRA[OBGRA[selOBGRA,_cnstr],_centro]);_t_=angtan(X2(selOBGRA)-_XC_,Y2(selOBGRA)-_YC_);_animIterations_=144;_dt_=2*pi/_animIterations_;;_Xini_=OBGRA[selOBGRA,_x];_Yini_=OBGRA[selOBGRA,_y];_Zini_=OBGRA[selOBGRA,_z];_Wini_=OBGRA[selOBGRA,_w];' tipo='función' 
id='prepSAnim()' algoritmo='sí' expresión='1' local='forbidden' hacer='_S_=OBGRA[selOBGRA,_cnstr];_X0_=X2(OBGRA[_S_,_1]);_Y0_=Y2(OBGRA[_S_,_1]);_Z0_=Z2(OBGRA[_S_,_1]);_sL_=sqrt((X2(OBGRA[_S_,_2])-_X0_)^2+(Y2(OBGRA[_S_,_2])-_Y0_)^2+(Z2(OBGRA[_S_,_2])-_Z0_)^2);_u_=OBGRA[_S_,_L_ux];_v_=OBGRA[_S_,_L_uy];_w_=OBGRA[_S_,_L_uz];_t_=dist(selOBGRA,OBGRA[_S_,_1])/dist(OBGRA[_S_,_2],OBGRA[_S_,_1]);_animIterations_=72;_dt_=1/_animIterations_;_Xini_=OBGRA[selOBGRA,_x];_Yini_=OBGRA[selOBGRA,_y];_Zini_=OBGRA[selOBGRA,_z];_Wini_=OBGRA[selOBGRA,_w];' tipo='función' 
id='prepLAnim()' algoritmo='sí' expresión='1' local='cx,cy,cw,_N_,ok1,ok2,ok3,tt,ss' hacer='_L_=OBGRA[selOBGRA,_cnstr];_Xini_=OBGRA[selOBGRA,_x];_Yini_=OBGRA[selOBGRA,_y];_Zini_=OBGRA[selOBGRA,_z];_Wini_=OBGRA[selOBGRA,_w];_X1_=OBGRA[_L_,_L_x1];_Y1_=OBGRA[_L_,_L_y1];_Z1_=OBGRA[_L_,_L_z1];_W1_=1;_Nx_=OBGRA[_L_,_L_ux];_Ny_=OBGRA[_L_,_L_uy];_Nz_=OBGRA[_L_,_L_uz];_Nw_=0;_N_=sqrt(_Nx_^2+_Ny_^2+_Nz_^2+_Nw_^2)/sqrt(1+_X1_^2+_Y1_^2+_Z1_^2);_Nx_=_Nx_/_N_;_Ny_=_Ny_/_N_;_Nz_=_Nz_/_N_;_Nw_=_Nw_/_N_;_animIterations_=144;_dt_=2*pi/_animIterations_;;ok1=solve2x2(_X1_,_Y1_,_Nx_,_Ny_,_Xini_,_Yini_);_t_=(ok1)?angtan(tt,ss):_t_;ok2=(!ok1)?solve2x2(_X1_,_Z1_,_Nx_,_Nz_,_Xini_,_Zini_):-1;_t_=((!ok1)&ok2)?angtan(tt,ss):_t_;ok3=(!(ok1|ok2))?solve2x2(_Y1_,_Z1_,_Ny_,_Nz_,_Yini_,_Zini_):-1;_t_=((!(ok1|ok2))&ok3)?angtan(tt,ss):_t_;_t_=ent(_t_/_dt_)*_dt_+_dt_/2;;' tipo='función' 
id='doSAnim()' algoritmo='sí' expresión='1' local='xS,yS,zS,t' hacer='t=(_t_<=1)?_t_:_t_-1;t=t*_sL_;xS=_X0_+_u_*t;yS=_Y0_+_v_*t;zS=_Z0_+_w_*t;set_Point(selOBGRA,xS,yS,zS);' tipo='función' 
id='doLAnim()' algoritmo='sí' expresión='1' local='xL,yL,zL,wL,ct,st' hacer='ct=cos(_t_);st=sen(_t_);xL=_X1_*ct+_Nx_*st;yL=_Y1_*ct+_Ny_*st;zL=_Z1_*ct+_Nz_*st;wL=_W1_*ct;set_Point_4D(selOBGRA,xL,yL,zL,wL);;' tipo='función' 
id='init_anim_0()' algoritmo='sí' expresión='1' hacer='_nn_=0;maxdiff=0;mindiff=1000000;' tipo='función' 
id='do_anim_0()' algoritmo='sí' expresión='1' hacer='_anim_on_=1;(_isC_)?set_Point(selOBGRA,_XC_+_R_*cos(_t_),_YC_+_R_*sen(_t_),0):&squot;&squot;;(_isL_)?doLAnim():&squot;&squot;;(_isS_)?doSAnim():&squot;&squot;;(_isC3_)?set_Point(selOBGRA,_XC_+_R_*(_NX_*cos(_t_)+_TX_*sen(_t_)), _YC_+_R_*(_NY_*cos(_t_)+_TY_*sen(_t_)), _ZC_+_R_*(_NZ_*cos(_t_)+_TZ_*sen(_t_))):&squot;&squot;;updateLocal(1,selOBGRA+1,NOG-1);_nn_=_nn_+1;_anim_on_=(_nn_<=_animIterations_)?_anim_on_:0;_t_=(_nn_<=_animIterations_)?_t_+_dt_:_t_;(!_anim_on_)?set_Point_4D(selOBGRA,_Xini_,_Yini_,_Zini_,_Wini_):&squot;&squot;;(!_anim_on_)?updateLocal(1,selOBGRA,NOG-1):&squot;&squot;;' tipo='función' 
id='mayAnim()' algoritmo='sí' expresión='(selOBGRA>=minNOG)&(_isC3_|_isC_|_isL_|_isS_)' local='CNSTR' hacer='CNSTR=OBGRA[selOBGRA,_cnstr];_isC_=(selOBGRA>=minNOG)&(OBGRA[CNSTR,_type]==circle);_isL_=(selOBGRA>=minNOG)&(OBGRA[CNSTR,_type]==segment)&(OBGRA[CNSTR,_isLine]);_isS_=(selOBGRA>=minNOG)&(OBGRA[CNSTR,_type]==segment)&(!OBGRA[CNSTR,_isLine])&(OBGRA[CNSTR,_vsL]<0);_isC3_=(selOBGRA>=minNOG)&(OBGRA[CNSTR,_type]==circ3D);' tipo='función' 
id='selectAnimIcon()' algoritmo='sí' expresión='1' hacer='play_icon=((mayAnim()|show_E3))?icons_dir()+&squot;/progeo-play.svg&squot;:icons_dir()+&squot;/progeo-play-soft.svg&squot;;' tipo='función' 
id='play()' algoritmo='sí' expresión='_animate_' hacer='anim_state=(mayAnim())?0:show_E3;(_isC3_)?prepC3Anim():&squot;&squot;;(_isC_)?prepCAnim():&squot;&squot;;(_isL_)?prepLAnim():&squot;&squot;;(_isS_)?prepSAnim():&squot;&squot;;_animate_=show_E3|((selOBGRA>=0)&(_isC3_|_isC_|_isL_|_isS_));;;' tipo='función' 
id='playSineNote(strfr)' algoritmo='no' expresión='sound_play(_Eval_(strfr),&squot;sine&squot;,2,0,2)' tipo='función' 
</script>

<script type="descartes/library" id="biblioteca/Math.txt">
id='angtan(x,y)' algoritmo='sí' expresión='at' local='at' inicio='at=(abs(x)>0.00001)?atan(abs(y/x)):pi/2' hacer='at=((x<0)&(y>=0))?pi-at:at;at=((x<0)&(y<0))?pi+at:at;at=((x>=0)&(y<0))?2*pi-at:at;' tipo='función' 
id='Angle2D(ax,ay,bx,by)' algoritmo='sí' expresión='acos((ax*bx+ay*by)/(a*b))%pi' local='a,b' hacer='a=sqrt(ax^2+ay^2);b=sqrt(bx^2+by^2)' tipo='función' 
id='Angle3D(ax,ay,az,bx,by,bz)' algoritmo='sí' expresión='ang' local='a,b,ang' hacer='a=sqrt(ax^2+ay^2+az^2);b=sqrt(bx^2+by^2+bz^2);ang=acos((ax*bx+ay*by+az*bz)/(a*b))%pi;' tipo='función' 
id='Det2x2(a11,a12,a21,a22)' algoritmo='no' expresión='a11*a22-a12*a21' tipo='función' 
id='solve2x2(a1,a2,b1,b2,c1,c2)' algoritmo='sí' expresión='ok' local='det,ok' hacer='det=Det2x2(a1,a2,b1,b2);ok=(abs(det)>0.000001);tt=(ok)?Det2x2(c1,c2,b1,b2)/det:&squot;NaN&squot;;ss=(ok)?Det2x2(a1,a2,c1,c2)/det:&squot;NaN&squot;;' tipo='función' 
id='Det3x3(a11,a12,a13,a21,a22,a23,a31,a32,a33)' algoritmo='no' expresión='a11*(a22*a33-a32*a23)+a12*(a23*a31-a21*a33)+a13*(a21*a32-a31*a22)' tipo='función' 
id='Det4x4(x1,y1,z1,w1,x2,y2,z2,w2,x3,y3,z3,w3,x4,y4,z4,w4)' algoritmo='no' expresión='x4*Det3x3(y1,z1,w1,y2,z2,w2,y3,z3,w3)-y4*Det3x3(z1,w1,x1,z2,w2,x2,z3,w3,x3)+z4*Det3x3(w1,x1,y1,w2,x2,y2,w3,x3,y3)-w4*Det3x3(x1,y1,z1,x2,y2,z2,x3,y3,z3)' hacer=';' tipo='función' 
id='NewtonRaphson()' algoritmo='sí' expresión='(diff2<=eps)' local='eps,x,y,diff2,GF2,F0,Fx,Fy,n' inicio='eps=1/2^25;n=0' hacer='x=xi;y=yi;F0=_Eval_(F);x=xi+epsilon;Fx=(_Eval_(F)-F0)/epsilon;x=xi;y=yi+epsilon;Fy=(_Eval_(F)-F0)/epsilon;GF2=(Fx^2+Fy^2);x=xi-Fx*F0/GF2;y=yi-Fy*F0/GF2;diff2=(x-xi)^2+(y-yi)^2;xi=x;yi=y;n=n+1;' mientras='(diff2>eps)&(n<256)' tipo='función' 
</script>

<script type="descartes/library" id="biblioteca/Colors.txt">
id='COL' matriz='sí' evaluar='una-sola-vez' columnas='50' filas='6' expresión='_trns=0;_rojo=1;_verd=2;_azul=3;_hidden=4;_colname=5;' tipo='matriz' 
id='getLuminosity(c)' algoritmo='no' expresión='COL[c,_rojo]*0.21+COL[c,_verd]*0.72+COL[c,_azul]*0.07' hacer=';;' tipo='función' 
id='HeX(col)' algoritmo='no' expresión='HEX(1-COL[col,_trns])+HEX(COL[col,_rojo])+HEX(COL[col,_verd])+HEX(COL[col,_azul])' tipo='función' 
id='Hex(col)' algoritmo='no' expresión='HEX(COL[col,_rojo])+HEX(COL[col,_verd])+HEX(COL[col,_azul])' tipo='función' 
id='newColor(name,t,r,g,b)' algoritmo='sí' expresión='nC-1' hacer='COL[nC,_colname]=name;COL[nC,_trns]=t;COL[nC,_rojo]=r;COL[nC,_verd]=g;COL[nC,_azul]=b;nC=nC+1;' tipo='función' 
id='newHexCol(name,H8)' algoritmo='sí' expresión='newColor(name,hhtox(tt),hhtox(rr),hhtox(gg),hhtox(bb))' local='tt,rr,gg,bb' hacer='tt=_substring_(H8,0,2);rr=_substring_(H8,2,4);gg=_substring_(H8,4,6);bb=_substring_(H8,6,8)' tipo='función' 
id='newDerivedColor(col,appendix)' algoritmo='sí' expresión='nC-1' hacer='COL[nC,_colname]=COL[col,_colname]+appendix;COL[nC,_trns]=COL[col,_trns];COL[nC,_rojo]=COL[col,_rojo];COL[nC,_verd]=COL[col,_verd];COL[nC,_azul]=COL[col,_azul];nC=nC+1;' tipo='función' 
id='Strong(c)' algoritmo='no' expresión='(aspect)?sen(pi*c/2):c^1.75' tipo='función' 
id='update_Soft_Strong(col)' algoritmo='sí' expresión='col+20' hacer='COL[col+20,_trns]=0;COL[col+20,_rojo]=Strong(COL[col,_rojo]);COL[col+20,_verd]=Strong(COL[col,_verd]);COL[col+20,_azul]=Strong(COL[col,_azul]);;COL[col+10,_trns]=(aspect)?0.333:0.5;COL[col+10,_rojo]=COL[col,_rojo];COL[col+10,_verd]=COL[col,_verd];COL[col+10,_azul]=COL[col,_azul];;' tipo='función' 
id='turnOnColors()' algoritmo='sí' expresión='1' local='n' inicio='n=0' hacer='COL[getColor(n),_hidden]=0;n=n+1;' mientras='n<30' tipo='función' 
id='getColor(n)' algoritmo='no' expresión='start_color+n' tipo='función' 
id='makeColors()' algoritmo='sí' expresión='1' inicio='nC=0' hacer='blanco=(inDIBooks)?newHexCol(&squot;blanco&squot;,&squot;00f7f7f7&squot;):newHexCol(&squot;blanco&squot;,&squot;00ecf0f4&squot;);negro          =newHexCol(&squot;negro&squot;          ,&squot;00181c20&squot;);gris_oscuro    =newHexCol(&squot;gris_oscuro&squot;    ,&squot;0033383f&squot;);gris_claro     =newHexCol(&squot;gris_claro&squot;     ,&squot;00c4c8d0&squot;);negro_azuloso  =newHexCol(&squot;negro_azuloso&squot;  ,&squot;00071728&squot;);azul_negrusco  =newHexCol(&squot;azul_negrusco&squot;  ,&squot;00061621&squot;);azul_blancusco =newHexCol(&squot;azul_blancusco&squot; ,&squot;00e0e8e0&squot;);negrusco       =newHexCol(&squot;negrusco&squot;       ,&squot;00282828&squot;);blancusco      =newHexCol(&squot;blancusco&squot;      ,&squot;00e0e0e0&squot;);menu_oscuro    =newHexCol(&squot;menu_oscuro&squot;    ,&squot;00303840&squot;);menu_claro= (inDIBooks)?newHexCol(&squot;menu_claro&squot;,&squot;00d0d8e0&squot;):newHexCol(&squot;menu_claro&squot;,&squot;00c8d0d8&squot;);start_color=nC;// NORMALES;gris_descartes =newHexCol(&squot;gris_descartes&squot; ,&squot;00707880&squot;);rojo           =newHexCol(&squot;rojo&squot;           ,&squot;00c80810&squot;);naranja        =newHexCol(&squot;naranja&squot;        ,&squot;00c08800&squot;);amarillo_oscuro=newHexCol(&squot;amarillo_oscuro&squot;,&squot;00c0c000&squot;);verde          =newHexCol(&squot;verde&squot;          ,&squot;0000c068&squot;);turquesa       =newHexCol(&squot;turquesa&squot;       ,&squot;0000c8c0&squot;);azul_descartes =newHexCol(&squot;azul_descartes&squot; ,&squot;004080dd&squot;);morado         =newHexCol(&squot;morado&squot;         ,&squot;00d000a0&squot;);rosa           =newHexCol(&squot;rosa&squot;           ,&squot;00c87888&squot;);fuerte         =newHexCol(&squot;fuerte&squot;         ,&squot;00283038&squot;);gris=gris_descartes;amarillo=amarillo_oscuro;azul=azul_descartes;// SUAVES-SOFT;gris_descartes_soft=newDerivedColor(gris_descartes,&squot;_soft&squot;);gris_soft=gris_descartes_soft;rojo_soft=newDerivedColor(rojo,&squot;_soft&squot;);naranja_soft=newDerivedColor(naranja,&squot;_soft&squot;);amarillo_oscuro_soft=newDerivedColor(amarillo_oscuro,&squot;_soft&squot;);verde_soft=newDerivedColor(verde,&squot;_soft&squot;);turquesa_soft=newDerivedColor(turquesa,&squot;_soft&squot;);azul_descartes_soft=newDerivedColor(azul_descartes,&squot;_soft&squot;);azul_soft=azul_descartes_soft;morado_soft=newDerivedColor(morado,&squot;_soft&squot;);rosa_soft=newDerivedColor(rosa,&squot;_soft&squot;);fuerte_soft=newDerivedColor(fuerte,&squot;_soft&squot;);// FUERTES-STRONG;gris_descartes_strong=newDerivedColor(gris_descartes,&squot;_strong&squot;);gris_strong=gris_descartes_strong;rojo_strong=newDerivedColor(rojo,&squot;_strong&squot;);naranja_strong=newDerivedColor(naranja,&squot;_strong&squot;);amarillo_oscuro_strong=newDerivedColor(amarillo_oscuro,&squot;_strong&squot;);verde_strong=newDerivedColor(verde,&squot;_strong&squot;);turquesa_strong=newDerivedColor(turquesa,&squot;_strong&squot;);azul_descartes_strong=newDerivedColor(azul_descartes,&squot;_strong&squot;);azul_strong=azul_descartes_strong;morado_strong=newDerivedColor(morado,&squot;_strong&squot;);rosa_strong=newDerivedColor(rosa,&squot;_strong&squot;);fuerte_strong=newDerivedColor(fuerte,&squot;_strong&squot;);nCOL=nC;;' tipo='función' 
id='updateColors()' algoritmo='sí' expresión='1' inicio='T_trns=(aspect)?0.60:0.80' hacer='col_menu=(aspect)?menu_oscuro:menu_claro;col_menu=(allWhite)?blanco:col_menu;col_fondo=(aspect)?negro:blanco;col_caja=(aspect)?blancusco:negrusco;COL[col_caja,_trns]=0.98;trns_orilla=0.85;mnu_color=(aspect)?negro:blanco;col_trns=0;col_textos=(aspect)?azul_blancusco:azul_negrusco;col_pasos=(aspect)?gris_claro:gris_oscuro;col_botones=col_textos;col_iconos=col_textos;col_cono=(aspect)?blanco:blanco;col_puntos=col_textos;col_int_puntos=col_fondo;COL[fuerte,_rojo]=(aspect)?0.80:0.20;COL[fuerte,_verd]=(aspect)?0.80:0.20;COL[fuerte,_azul]=(aspect)?0.80:0.20;col_fuerte=fuerte;update_Soft_Strong(gris_descartes);update_Soft_Strong(rojo);update_Soft_Strong(naranja);update_Soft_Strong(amarillo_oscuro);update_Soft_Strong(verde);update_Soft_Strong(turquesa);update_Soft_Strong(azul_descartes);update_Soft_Strong(morado);update_Soft_Strong(rosa);update_Soft_Strong(fuerte);;GRIS    =Hex(gris_descartes);ROJO    =Hex(rojo);NARANJA =Hex(naranja);AMARILLO=Hex(amarillo_oscuro);VERDE   =Hex(verde);TURQUESA=Hex(turquesa);AZUL    =Hex(azul_descartes);MORADO  =Hex(morado);ROSA    =Hex(rosa);FUERTE  =Hex(fuerte);;GRIS_S    =Hex(gris_descartes_soft);ROJO_S    =Hex(rojo_soft);NARANJA_S =Hex(naranja_soft);AMARILLO_S=Hex(amarillo_oscuro_soft);VERDE_S   =Hex(verde_soft);TURQUESA_S=Hex(turquesa_soft);AZUL_S    =Hex(azul_descartes_soft);MORADO_S  =Hex(morado_soft);ROSA_S    =Hex(rosa_soft);FUERTE_S  =Hex(fuerte_soft);;GRIS_F    =Hex(gris_descartes_strong);ROJO_F    =Hex(rojo_strong);NARANJA_F =Hex(naranja_strong);AMARILLO_F=Hex(amarillo_oscuro_strong);VERDE_F   =Hex(verde_strong);TURQUESA_F=Hex(turquesa_strong);AZUL_F    =Hex(azul_descartes_strong);MORADO_F  =Hex(morado_strong);ROSA_F    =Hex(rosa_strong);FUERTE_F  =Hex(fuerte_strong);' tipo='función' 
id='prepareColors(s)' algoritmo='sí' expresión='s' hacer='s=_replace_(s,&squot;\GRIS_F&squot;,&squot;\color{[GRIS_F]}&squot;);s=_replace_(s,&squot;\ROJO_F&squot;,&squot;\color{[ROJO_F]}&squot;);s=_replace_(s,&squot;\NARANJA_F&squot;,&squot;\color{[NARANJA_F]}&squot;);s=_replace_(s,&squot;\AMARILLO_F&squot;,&squot;\color{[AMARILLO_F]}&squot;);s=_replace_(s,&squot;\VERDE_F&squot;,&squot;\color{[VERDE_F]}&squot;);s=_replace_(s,&squot;\TURQUESA_F&squot;,&squot;\color{[TURQUESA_F]}&squot;);s=_replace_(s,&squot;\AZUL_F&squot;,&squot;\color{[AZUL_F]}&squot;);s=_replace_(s,&squot;\MORADO_F&squot;,&squot;\color{[MORADO_F]}&squot;);s=_replace_(s,&squot;\ROSA_F&squot;,&squot;\color{[ROSA_F]}&squot;);s=_replace_(s,&squot;\FUERTE_F&squot;,&squot;\color{[FUERTE_F]}&squot;);;s=_replace_(s,&squot;\GRIS_S&squot;,&squot;\color{[GRIS_S]}&squot;);s=_replace_(s,&squot;\ROJO_S&squot;,&squot;\color{[ROJO_S]}&squot;);s=_replace_(s,&squot;\NARANJA_S&squot;,&squot;\color{[NARANJA_S]}&squot;);s=_replace_(s,&squot;\AMARILLO_S&squot;,&squot;\color{[AMARILLO_S]}&squot;);s=_replace_(s,&squot;\VERDE_S&squot;,&squot;\color{[VERDE_S]}&squot;);s=_replace_(s,&squot;\TURQUESA_S&squot;,&squot;\color{[TURQUESA_S]}&squot;);s=_replace_(s,&squot;\AZUL_S&squot;,&squot;\color{[AZUL_S]}&squot;);s=_replace_(s,&squot;\MORADO_S&squot;,&squot;\color{[MORADO_S]}&squot;);s=_replace_(s,&squot;\ROSA_S&squot;,&squot;\color{[ROSA_S]}&squot;);s=_replace_(s,&squot;\FUERTE_S&squot;,&squot;\color{[FUERTE_S]}&squot;);;s=_replace_(s,&squot;\GRIS&squot;,&squot;\color{[GRIS]}&squot;);s=_replace_(s,&squot;\ROJO&squot;,&squot;\color{[ROJO]}&squot;);s=_replace_(s,&squot;\NARANJA&squot;,&squot;\color{[NARANJA]}&squot;);s=_replace_(s,&squot;\AMARILLO&squot;,&squot;\color{[AMARILLO]}&squot;);s=_replace_(s,&squot;\VERDE&squot;,&squot;\color{[VERDE]}&squot;);s=_replace_(s,&squot;\TURQUESA&squot;,&squot;\color{[TURQUESA]}&squot;);s=_replace_(s,&squot;\AZUL&squot;,&squot;\color{[AZUL]}&squot;);s=_replace_(s,&squot;\MORADO&squot;,&squot;\color{[MORADO]}&squot;);s=_replace_(s,&squot;\ROSA&squot;,&squot;\color{[ROSA]}&squot;);s=_replace_(s,&squot;\FUERTE&squot;,&squot;\color{[FUERTE]}&squot;);;;;' tipo='función' 
</script>

<script type="descartes/library" id="biblioteca/Util.txt">
id='zerojust(N,n)' algoritmo='sí' expresión='s' local='s' inicio='s=&squot;&squot;+n' hacer='s=(_longitud_(s)<N)?&squot;0&squot;+s:s' mientras='_longitud_(s)<N' tipo='función' 
id='rNd(N,x)' algoritmo='no' expresión='ent(x*10^N+0.499999999999)/10^N' tipo='función' 
id='r4d(x)' algoritmo='no' expresión='ent(10000*x+0.4999)/10000' tipo='función' 
id='htox(s)' algoritmo='sí' expresión='X' local='X' inicio='X=0' hacer='X=(s==&squot;0&squot;)?0:X;X=(s==&squot;1&squot;)?1:X;X=(s==&squot;2&squot;)?2:X;X=(s==&squot;3&squot;)?3:X;X=(s==&squot;4&squot;)?4:X;X=(s==&squot;5&squot;)?5:X;X=(s==&squot;6&squot;)?6:X;X=(s==&squot;7&squot;)?7:X;X=(s==&squot;8&squot;)?8:X;X=(s==&squot;9&squot;)?9:X;X=(s==&squot;a&squot;)?10:X;X=(s==&squot;b&squot;)?11:X;X=(s==&squot;c&squot;)?12:X;X=(s==&squot;d&squot;)?13:X;X=(s==&squot;e&squot;)?14:X;X=(s==&squot;f&squot;)?15:X;X=(s==&squot;A&squot;)?10:X;X=(s==&squot;B&squot;)?11:X;X=(s==&squot;C&squot;)?12:X;X=(s==&squot;D&squot;)?13:X;X=(s==&squot;E&squot;)?14:X;X=(s==&squot;F&squot;)?15:X;' tipo='función' 
id='hhtox(ss)' algoritmo='sí' expresión='(htox(s1)*16+htox(s2))/255' local='s1,s2' hacer='s1=_substring_(ss,0,1);s2=_substring_(ss,1,2);' tipo='función' 
id='HX' vector='sí' evaluar='una-sola-vez' tamaño='16' expresión='HX[0]=&squot;0&squot;;HX[1]=&squot;1&squot;;HX[2]=&squot;2&squot;;HX[3]=&squot;3&squot;;HX[4]=&squot;4&squot;;HX[5]=&squot;5&squot;;HX[6]=&squot;6&squot;;HX[7]=&squot;7&squot;;HX[8]=&squot;8&squot;;HX[9]=&squot;9&squot;;HX[10]=&squot;a&squot;;HX[11]=&squot;b&squot;;HX[12]=&squot;c&squot;;HX[13]=&squot;d&squot;;HX[14]=&squot;e&squot;;HX[15]=&squot;f&squot;;' tipo='vector' 
id='HEX(x)' algoritmo='sí' expresión='HX[ent(n/16)]+HX[n%16]' inicio='n=ent(x*255.99)' tipo='función' 
id='isNum(x)' algoritmo='no' expresión='(_Num_(x)!=&squot;NaN&squot;)' tipo='función' 
id='ROMAN' vector='sí' evaluar='una-sola-vez' tamaño='20' expresión='&squot;I&squot;;&squot;II&squot;;&squot;III&squot;;&squot;IV&squot;;&squot;V&squot;;&squot;VI&squot;;&squot;VII&squot;;&squot;VIII&squot;;&squot;IX&squot;;&squot;X&squot;;&squot;XI&squot;;&squot;XII&squot;;&squot;XIII&squot;;&squot;XIV&squot;;&squot;XV&squot;;&squot;XVI&squot;;&squot;XVII&squot;;&squot;XVIII&squot;;&squot;XIX&squot;;&squot;XX&squot;;' tipo='vector' 
id='_____SYMBOLS_____' expresión='0' tipo='variable' 
id='SYMBOL' vector='sí' evaluar='una-sola-vez' tamaño='120' tipo='vector' 
id='initSYMBOL()' algoritmo='sí' expresión='n' local='str,n' inicio='str=&squot;&squot;;str=str+&squot;+−·×÷αβγδεζηθικλμνξοπρςστυφχψω√±½¼°²³₀₁₂₃∞∢∅∈∴∧∨≦≧≡≠⏊′″‴‛’‟”&squot;;str=str+&squot;+−·×÷ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ ΣΤΥΦΧΨΩ√±½¼°²³₀₁₂₃∞∢∅∈∴∧∨≦≧≡≠⏊′″‴‛’‟”&squot;;n=0' hacer='SYMBOL[n]=_substring_(str,n,n+1);n=n+1' mientras='n<120' tipo='función' 
id='_____ORDENAR_____' expresión='0' tipo='variable' 
id='ORDEN' vector='sí' evaluar='una-sola-vez' tamaño='100' tipo='vector' 
id='QUE' vector='sí' evaluar='una-sola-vez' tamaño='100' tipo='vector' 
id='initORDEN(N)' algoritmo='sí' expresión='1' local='n' inicio='n=0' hacer='ORDEN[n]=n;n=n+1' mientras='n<N' tipo='función' 
id='exchangeQUE(i,j)' algoritmo='sí' expresión='1' local='aux' hacer='aux=QUE[i];QUE[i]=QUE[j];QUE[j]=aux;aux=ORDEN[i];ORDEN[i]=ORDEN[j];ORDEN[j]=aux' tipo='función' 
id='ordenaQUE(N)' algoritmo='sí' expresión='1' local='i,j' inicio='initORDEN(N);initQUE(N);i=0;j=1' hacer='(QUE[j]<QUE[i])?exchangeQUE(i,j):&squot;&squot;;j=j+1;i=(j>=N)?i+1:i;j=(j>=N)?i+1:j' mientras='i+1<N' tipo='función' info='Simple Sort' 
id='_____XML_____' expresión='0' tipo='variable' 
id='extract(str,label)' algoritmo='sí' expresión='s' local='ix0,ix1,s' hacer='ix0=_indexOf_(str,&squot;<&squot;+label+&squot;>&squot;)+_length_(&squot;<&squot;+label+&squot;>&squot;);ix1=_indexOf_(str,&squot;</&squot;+label+&squot;>&squot;);s=((0<=ix0)&(ix0<ix1))?_substring_(str,ix0,ix1):&squot;&squot;;' tipo='función' 
id='skip(str,label)' algoritmo='sí' expresión='(ix1>=0)?_substring_(str,ix1+_length_(&squot;</&squot;+label+&squot;>&squot;),_length_(str)):str' local='ix1' inicio='ix1=_indexOf_(str,&squot;</&squot;+label+&squot;>&squot;)' hacer=';' tipo='función' 
</script>

<script type="descartes/macro" id="macros/BasicLineFam.txt">
id='show(j)' algoritmo='no' expresión='(j%4)!=3' tipo='función' 
id='X1(j)' algoritmo='no' expresión='-5' tipo='función' 
id='Y1(j)' algoritmo='no' expresión='-5+j' tipo='función' 
id='X2(j)' algoritmo='no' expresión='5' tipo='función' 
id='Y2(j)' algoritmo='no' expresión='j/3' tipo='función' 
id='INICIO' algoritmo='sí' evaluar='una-sola-vez' hacer='N=11;wdth=3;tnsp=0.2;surf=0.9;rojo=0.95;verd=0.10;azul=0.20;continuo=0;a_rayas=1;punteado=2;estilo=continuo' 
id='CALCULOS' algoritmo='sí' evaluar='siempre' 
espacio='E1' tipo='polígono' fondo='no' color='20303a' coord_abs='no' expresión='(X1(s),Y1(s))(X2(s),Y2(s))(X2(s+1),Y2(s+1))(X1(s+1),Y1(s+1))' familia='s' s.intervalo='[0,N-1]' s.pasos='N-1' relleno='(rojo,verd,azul,surf)' ancho='0' lineDash='solid' info='relleno' 
espacio='E1' tipo='segmento' fondo='no' color='(rojo,verd,azul,tnsp)' dibujar-si='(estilo==continuo)&show(s)' coord_abs='no' expresión='(X1(s),Y1(s))(X2(s),Y2(s))' familia='s' s.intervalo='[0,N-1]' s.pasos='N-1' decimales='2' fijo='sí' tamaño='0' ancho='wdth' negrita='no' cursiva='no' font_family='SansSerif' fuente puntos='18' lineDash='solid' info='estilo contínuo' 
espacio='E1' tipo='segmento' fondo='no' color='(rojo,verd,azul,tnsp)' dibujar-si='(estilo==a_rayas)&show(s)' coord_abs='no' expresión='(X1(s),Y1(s))(X2(s),Y2(s))' familia='s' s.intervalo='[0,N-1]' s.pasos='N-1' decimales='2' fijo='sí' tamaño='0' ancho='wdth' negrita='no' cursiva='no' font_family='SansSerif' fuente puntos='18' lineDash='dash' info='estilo a rayas' 
espacio='E1' tipo='segmento' fondo='no' color='(rojo,verd,azul,tnsp)' dibujar-si='(estilo==punteado)&show(s)' coord_abs='no' expresión='(X1(s),Y1(s))(X2(s),Y2(s))' familia='s' s.intervalo='[0,N-1]' s.pasos='N-1' decimales='2' fijo='sí' tamaño='0' ancho='wdth' negrita='no' cursiva='no' font_family='SansSerif' fuente puntos='18' lineDash='dot' info='estilo punteado'
</script>

</body>
</html>